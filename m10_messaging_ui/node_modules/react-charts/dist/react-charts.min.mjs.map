{"version":3,"file":"react-charts.min.mjs","sources":["../src/utils/ChartContext.js","../src/utils/Utils.js","../node_modules/@reach/observe-rect/dist/observe-rect.esm.js","../src/hooks/useIsomorphicLayoutEffect.js","../src/hooks/useHyperResponsive.js","../src/hooks/useLatestRef.js","../src/hooks/useLatest.js","../src/hooks/usePrevious.js","../src/utils/Raf.js","../node_modules/performance-now/lib/performance-now.js","../src/primitives/Rectangle.js","../d3/index.js","../src/primitives/Path.js","../src/components/Voronoi.js","../src/primitives/Line.js","../src/primitives/Text.js","../src/primitives/Group.js","../src/utils/Constants.js","../src/components/AxisLinear.js","../src/components/Axis.js","../src/components/Tooltip.js","../src/components/Cursor.js","../src/components/Brush.js","../src/components/ChartInner.js","../src/hooks/useSeriesStyle.js","../src/hooks/useDatumStyle.js","../src/primitives/Circle.js","../src/seriesTypes/Line.js","../src/seriesTypes/Bubble.js","../src/seriesTypes/Area.js","../src/seriesTypes/Bar.js","../src/components/pipeline/useSeriesOptions.js","../src/utils/buildAxis.linear.js","../src/utils/buildAxis.js","../src/components/pipeline/useAxes.js","../src/components/pipeline/useStackData.js","../src/components/TooltipRenderer.js","../src/components/pipeline/useTooltip.js","../src/components/pipeline/useCursors.js","../src/components/Chart.js","../src/components/pipeline/useMaterializeData.js","../src/components/pipeline/useSeriesTypes.js","../src/components/pipeline/useDimensions.js"],"sourcesContent":["import React from \"react\";\nexport default React.createContext();\n","export default {\n  getStatus,\n  getStatusStyle,\n  buildStyleGetters,\n  getMultiAnchor,\n  getClosestPoint,\n  normalizeGetter,\n  isValidPoint,\n  getAxisByAxisID,\n  getAxisIndexByAxisID,\n  sumObjBy,\n  translateX,\n  translateY,\n  translate,\n  identity,\n  shallowDiff,\n}\n\nfunction getStatus(item, focused) {\n  const status = {\n    focused: false,\n    otherFocused: false,\n  }\n\n  if (!focused) {\n    return status\n  }\n\n  // If the item is a datum\n  if (typeof item.primary !== 'undefined') {\n    const length = focused.group.length\n    for (let i = 0; i < length; i++) {\n      if (\n        focused.group[i].seriesID === item.series.id &&\n        focused.group[i].index === item.index\n      ) {\n        status.focused = true\n        break\n      }\n    }\n    status.otherFocused = !status.focused\n    // For series\n  } else if (focused.series) {\n    status.focused = focused.series.id === item.id\n    status.otherFocused = !status.focused\n  }\n\n  return status\n}\n\nfunction getStatusStyle(item, status, decorator, defaults) {\n  if (item.series) {\n    defaults = {\n      ...defaults,\n      ...item.series.style,\n    }\n  }\n\n  return materializeStyles(\n    decorator({\n      ...item,\n      ...status,\n    }),\n    defaults\n  )\n}\n\nfunction buildStyleGetters(series, defaults) {\n  series.getStatusStyle = (focused, decorator) => {\n    const status = getStatus(series, focused)\n    series.style = getStatusStyle(series, status, decorator, defaults)\n    return series.style\n  }\n\n  // We also need to decorate each datum in the same fashion\n  series.datums.forEach(datum => {\n    datum.getStatusStyle = (focused, decorator) => {\n      const status = getStatus(datum, focused)\n      datum.style = getStatusStyle(datum, status, decorator, defaults)\n      return datum.style\n    }\n  })\n}\n\nfunction getMultiAnchor({ anchor, points, gridWidth, gridHeight }) {\n  const invalid = () => {\n    throw new Error(\n      `${JSON.stringify(\n        anchor\n      )} is not a valid tooltip anchor option. You should use a single anchor option or 2 non-conflicting anchor options.`\n    )\n  }\n\n  let x\n  let y\n\n  let xMin = points[0].anchor.x\n  let xMax = points[0].anchor.x\n  let yMin = points[0].anchor.y\n  let yMax = points[0].anchor.y\n\n  points.forEach(point => {\n    xMin = Math.min(point.anchor.x, xMin)\n    xMax = Math.max(point.anchor.x, xMax)\n    yMin = Math.min(point.anchor.y, yMin)\n    yMax = Math.max(point.anchor.y, yMax)\n  })\n\n  if (anchor.length > 2) {\n    return invalid()\n  }\n\n  anchor = anchor.sort(a =>\n    a.includes('center') || a.includes('Center') ? 1 : -1\n  )\n\n  for (let i = 0; i < anchor.length; i++) {\n    const anchorPart = anchor[i]\n\n    // Horizontal Positioning\n    if (['left', 'right', 'gridLeft', 'gridRight'].includes(anchorPart)) {\n      if (typeof x !== 'undefined') {\n        invalid()\n      }\n      if (anchorPart === 'left') {\n        x = xMin\n      } else if (anchorPart === 'right') {\n        x = xMax\n      } else if (anchorPart === 'gridLeft') {\n        x = 0\n      } else if (anchorPart === 'gridRight') {\n        x = gridWidth\n      } else {\n        invalid()\n      }\n    }\n\n    // Vertical Positioning\n    if (['top', 'bottom', 'gridTop', 'gridBottom'].includes(anchorPart)) {\n      if (typeof y !== 'undefined') {\n        invalid()\n      }\n      if (anchorPart === 'top') {\n        y = yMin\n      } else if (anchorPart === 'bottom') {\n        y = yMax\n      } else if (anchorPart === 'gridTop') {\n        y = 0\n      } else if (anchorPart === 'gridBottom') {\n        y = gridHeight\n      } else {\n        invalid()\n      }\n    }\n\n    // Center Positioning\n    if (['center', 'gridCenter'].includes(anchorPart)) {\n      if (anchorPart === 'center') {\n        if (typeof y === 'undefined') {\n          y = (yMin + yMax) / 2\n        }\n        if (typeof x === 'undefined') {\n          x = (xMin + xMax) / 2\n        }\n      } else if (anchorPart === 'gridCenter') {\n        if (typeof y === 'undefined') {\n          y = gridHeight / 2\n        }\n        if (typeof x === 'undefined') {\n          x = gridWidth / 2\n        }\n      } else {\n        invalid()\n      }\n    }\n\n    // Auto center the remainder if there is only one anchorPart listed\n    if (anchor.length === 1) {\n      if (anchor[0].includes('grid')) {\n        anchor.push('gridCenter')\n      } else {\n        anchor.push('center')\n      }\n    }\n  }\n\n  return { x, y }\n}\n\nfunction getClosestPoint(position, datums) {\n  if (!datums || !position || !datums.length) {\n    return\n  }\n  let closestDistance = Infinity\n  let closestDatum = datums[0]\n  datums.forEach(datum => {\n    datum.boundingPoints.forEach(pointerPoint => {\n      const distance = Math.sqrt(\n        (pointerPoint.x - position.x) ** 2 + (pointerPoint.y - position.y) ** 2\n      )\n      if (distance < closestDistance) {\n        closestDistance = distance\n        closestDatum = datum\n      }\n    })\n  })\n  return closestDatum\n}\n\nfunction normalizeColor(style, defaults) {\n  return {\n    ...style,\n    stroke: style.stroke || style.color || defaults.stroke || defaults.color,\n    fill: style.fill || style.color || defaults.fill || defaults.color,\n  }\n}\n\nconst elementTypes = ['area', 'line', 'rectangle', 'circle']\nfunction materializeStyles(style = {}, defaults = {}) {\n  style = normalizeColor(style, defaults)\n  for (let i = 0; i < elementTypes.length; i++) {\n    const type = elementTypes[i]\n    if (style[type] && defaults[type]) {\n      style[type] = materializeStyles(style[type], defaults)\n    }\n  }\n  return style\n}\n\nfunction normalizeGetter(getter) {\n  if (typeof getter === 'function') {\n    return getter\n  }\n  return d => get(d, getter)\n}\n\nfunction get(obj, path, def) {\n  if (typeof obj === 'function') {\n    try {\n      return obj()\n    } catch (e) {\n      return path\n    }\n  }\n  if (!path) {\n    return obj\n  }\n  const pathObj = makePathArray(path)\n  let val\n  try {\n    val = pathObj.reduce((current, pathPart) => current[pathPart], obj)\n  } catch (e) {\n    // do nothing\n  }\n  return typeof val !== 'undefined' ? val : def\n}\n\nfunction makePathArray(obj) {\n  return flattenDeep(obj)\n    .join('.')\n    .replace('[', '.')\n    .replace(']', '')\n    .split('.')\n}\n\nfunction flattenDeep(arr, newArr = []) {\n  if (!Array.isArray(arr)) {\n    newArr.push(arr)\n  } else {\n    for (let i = 0; i < arr.length; i++) {\n      flattenDeep(arr[i], newArr)\n    }\n  }\n  return newArr\n}\n\nfunction isValidPoint(d) {\n  if (d === null) {\n    return false\n  }\n  if (typeof d === 'undefined') {\n    return false\n  }\n  if (typeof d === 'string' && d === 'null') {\n    return false\n  }\n  return true\n}\n\nfunction getAxisByAxisID(axes, AxisID) {\n  return axes.find(d => d.id === AxisID) || axes[0]\n}\n\nfunction getAxisIndexByAxisID(axes, AxisID) {\n  const index = axes.findIndex(d => d.id === AxisID)\n  return index > -1 ? index : 0\n}\n\nfunction sumObjBy(obj, str) {\n  return Object.keys(obj)\n    .map(key => obj[key])\n    .reduce((prev, curr) => prev + curr[str] || 0, 0)\n}\n\nfunction translateX(x) {\n  return `translate3d(${Math.round(x)}px, 0, 0)`\n}\n\nfunction translateY(y) {\n  return `translate3d(0, ${Math.round(y)}px, 0)`\n}\n\nfunction translate(x, y) {\n  return `translate3d(${Math.round(x)}px, ${Math.round(y)}px, 0)`\n}\n\nfunction identity(d) {\n  return d\n}\n\nfunction shallowDiff(a, b) {\n  const aKeys = Object.keys(a)\n  const bKeys = Object.keys(b)\n\n  if (aKeys.length !== bKeys.length) {\n    return true\n  }\n\n  return Object.keys(a).some(key => {\n    if (a[key] !== b[key]) {\n      return true\n    }\n  })\n}\n","var props = ['bottom', 'height', 'left', 'right', 'top', 'width'];\n\nvar rectChanged = function rectChanged(a, b) {\n  if (a === void 0) {\n    a = {};\n  }\n\n  if (b === void 0) {\n    b = {};\n  }\n\n  return props.some(function (prop) {\n    return a[prop] !== b[prop];\n  });\n};\n\nvar observedNodes =\n/*#__PURE__*/\nnew Map();\nvar rafId;\n\nvar run = function run() {\n  var changedStates = [];\n  observedNodes.forEach(function (state, node) {\n    var newRect = node.getBoundingClientRect();\n\n    if (rectChanged(newRect, state.rect)) {\n      state.rect = newRect;\n      changedStates.push(state);\n    }\n  });\n  changedStates.forEach(function (state) {\n    state.callbacks.forEach(function (cb) {\n      return cb(state.rect);\n    });\n  });\n  rafId = window.requestAnimationFrame(run);\n};\n\nfunction observeRect(node, cb) {\n  return {\n    observe: function observe() {\n      var wasEmpty = observedNodes.size === 0;\n\n      if (observedNodes.has(node)) {\n        observedNodes.get(node).callbacks.push(cb);\n      } else {\n        observedNodes.set(node, {\n          rect: undefined,\n          hasRectChanged: false,\n          callbacks: [cb]\n        });\n      }\n\n      if (wasEmpty) run();\n    },\n    unobserve: function unobserve() {\n      var state = observedNodes.get(node);\n\n      if (state) {\n        // Remove the callback\n        var index = state.callbacks.indexOf(cb);\n        if (index >= 0) state.callbacks.splice(index, 1); // Remove the node reference\n\n        if (!state.callbacks.length) observedNodes[\"delete\"](node); // Stop the loop\n\n        if (!observedNodes.size) cancelAnimationFrame(rafId);\n      }\n    }\n  };\n}\n\nexport default observeRect;\n//# sourceMappingURL=observe-rect.esm.js.map\n","import React from 'react'\n\nexport default typeof window !== 'undefined'\n  ? React.useLayoutEffect\n  : React.useEffect\n","import React from 'react'\n\nimport observeRect from '@reach/observe-rect'\n\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect'\n\nexport default function useRect(nodeRef) {\n  const [element, setElement] = React.useState(nodeRef.current?.parentElement)\n  const [rect, setRect] = React.useState({ width: 0, height: 0 })\n  const initialRectSet = React.useRef(false)\n\n  useIsomorphicLayoutEffect(() => {\n    if (nodeRef.current?.parentElement !== element) {\n      setElement(nodeRef.current?.parentElement)\n    }\n  })\n\n  useIsomorphicLayoutEffect(() => {\n    if (element && !initialRectSet.current) {\n      initialRectSet.current = true\n      setRect(element.getBoundingClientRect())\n    }\n  }, [element])\n\n  React.useEffect(() => {\n    if (!element) {\n      return\n    }\n\n    const observer = observeRect(element, setRect)\n\n    observer.observe()\n\n    return () => {\n      observer.unobserve()\n    }\n  }, [element])\n\n  return { width: rect.width, height: rect.height }\n}\n","import React from \"react\";\n\nexport default function useLatestRef(latest) {\n  const ref = React.useRef();\n  ref.current = latest;\n  return ref;\n}\n","import React from \"react\";\n\nexport default function useLatest(obj, when = true) {\n  const ref = React.useRef();\n  if (when) {\n    ref.current = obj;\n  }\n  return ref.current;\n}\n","import React from \"react\";\n\nexport default function usePrevious(val) {\n  const ref = React.useRef();\n\n  React.useEffect(\n    () => {\n      ref.current = val;\n    },\n    [val]\n  );\n\n  return ref.current;\n}\n","import now from 'performance-now'\n\nvar root = typeof window === 'undefined' ? global : window,\n  vendors = ['moz', 'webkit'],\n  suffix = 'AnimationFrame',\n  raf = root['request' + suffix],\n  caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor (var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf =\n    root[vendors[i] + 'Cancel' + suffix] ||\n    root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif (!raf || !caf) {\n  var last = 0,\n    id = 0,\n    queue = [],\n    frameDuration = 1000 / 60\n\n  raf = function (callback) {\n    if (queue.length === 0) {\n      var _now = now(),\n        next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function () {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for (var i = 0; i < cp.length; i++) {\n          if (!cp[i].cancelled) {\n            try {\n              cp[i].callback(last)\n            } catch (e) {\n              setTimeout(function () {\n                throw e\n              }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false,\n    })\n    return id\n  }\n\n  caf = function (handle) {\n    for (var i = 0; i < queue.length; i++) {\n      if (queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nexport default function Raf(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\n\nRaf.cancel = function () {\n  caf.apply(root, arguments)\n}\n\nRaf.polyfill = function (object) {\n  if (!object) {\n    object = root\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n","// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n","import React from \"react\";\n//\n\nconst defaultStyle = {\n  strokeWidth: 0,\n  fill: \"#333\",\n  opacity: 1,\n  rx: 0,\n  ry: 0\n};\n\nexport default function Rectangle ({ style, opacity = 1, x1, y1, x2, y2, ...rest }) {\n  const resolvedStyle = {\n    ...defaultStyle,\n    ...style\n  };\n\n  const xStart = Math.min(x1, x2);\n  const yStart = Math.min(y1, y2);\n  const xEnd = Math.max(x1, x2);\n  const yEnd = Math.max(y1, y2);\n\n  const height = Math.max(yEnd - yStart, 0);\n  const width = Math.max(xEnd - xStart, 0);\n\n  return (\n    <rect\n      {...rest}\n      x={xStart}\n      y={yStart}\n      width={width}\n      height={height}\n      style={resolvedStyle}\n    />\n  );\n}\n","const EPSILON = Math.pow(2, -52);\nconst EDGE_STACK = new Uint32Array(512);\n\nclass Delaunator {\n\n    static from(points, getX = defaultGetX, getY = defaultGetY) {\n        const n = points.length;\n        const coords = new Float64Array(n * 2);\n\n        for (let i = 0; i < n; i++) {\n            const p = points[i];\n            coords[2 * i] = getX(p);\n            coords[2 * i + 1] = getY(p);\n        }\n\n        return new Delaunator(coords);\n    }\n\n    constructor(coords) {\n        const n = coords.length >> 1;\n        if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n\n        this.coords = coords;\n\n        // arrays that will store the triangulation graph\n        const maxTriangles = Math.max(2 * n - 5, 0);\n        this._triangles = new Uint32Array(maxTriangles * 3);\n        this._halfedges = new Int32Array(maxTriangles * 3);\n\n        // temporary arrays for tracking the edges of the advancing convex hull\n        this._hashSize = Math.ceil(Math.sqrt(n));\n        this._hullPrev = new Uint32Array(n); // edge to prev edge\n        this._hullNext = new Uint32Array(n); // edge to next edge\n        this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n        this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n\n        // temporary arrays for sorting points\n        this._ids = new Uint32Array(n);\n        this._dists = new Float64Array(n);\n\n        this.update();\n    }\n\n    update() {\n        const {coords, _hullPrev: hullPrev, _hullNext: hullNext, _hullTri: hullTri, _hullHash: hullHash} =  this;\n        const n = coords.length >> 1;\n\n        // populate an array of point indices; calculate input data bbox\n        let minX = Infinity;\n        let minY = Infinity;\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n\n        for (let i = 0; i < n; i++) {\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n            this._ids[i] = i;\n        }\n        const cx = (minX + maxX) / 2;\n        const cy = (minY + maxY) / 2;\n\n        let minDist = Infinity;\n        let i0, i1, i2;\n\n        // pick a seed point close to the center\n        for (let i = 0; i < n; i++) {\n            const d = dist(cx, cy, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist) {\n                i0 = i;\n                minDist = d;\n            }\n        }\n        const i0x = coords[2 * i0];\n        const i0y = coords[2 * i0 + 1];\n\n        minDist = Infinity;\n\n        // find the point closest to the seed\n        for (let i = 0; i < n; i++) {\n            if (i === i0) continue;\n            const d = dist(i0x, i0y, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist && d > 0) {\n                i1 = i;\n                minDist = d;\n            }\n        }\n        let i1x = coords[2 * i1];\n        let i1y = coords[2 * i1 + 1];\n\n        let minRadius = Infinity;\n\n        // find the third point which forms the smallest circumcircle with the first two\n        for (let i = 0; i < n; i++) {\n            if (i === i0 || i === i1) continue;\n            const r = circumradius(i0x, i0y, i1x, i1y, coords[2 * i], coords[2 * i + 1]);\n            if (r < minRadius) {\n                i2 = i;\n                minRadius = r;\n            }\n        }\n        let i2x = coords[2 * i2];\n        let i2y = coords[2 * i2 + 1];\n\n        if (minRadius === Infinity) {\n            // order collinear points by dx (or dy if all x are identical)\n            // and return the list as a hull\n            for (let i = 0; i < n; i++) {\n                this._dists[i] = (coords[2 * i] - coords[0]) || (coords[2 * i + 1] - coords[1]);\n            }\n            quicksort(this._ids, this._dists, 0, n - 1);\n            const hull = new Uint32Array(n);\n            let j = 0;\n            for (let i = 0, d0 = -Infinity; i < n; i++) {\n                const id = this._ids[i];\n                if (this._dists[id] > d0) {\n                    hull[j++] = id;\n                    d0 = this._dists[id];\n                }\n            }\n            this.hull = hull.subarray(0, j);\n            this.triangles = new Uint32Array(0);\n            this.halfedges = new Uint32Array(0);\n            return;\n        }\n\n        // swap the order of the seed points for counter-clockwise orientation\n        if (orient(i0x, i0y, i1x, i1y, i2x, i2y)) {\n            const i = i1;\n            const x = i1x;\n            const y = i1y;\n            i1 = i2;\n            i1x = i2x;\n            i1y = i2y;\n            i2 = i;\n            i2x = x;\n            i2y = y;\n        }\n\n        const center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n        this._cx = center.x;\n        this._cy = center.y;\n\n        for (let i = 0; i < n; i++) {\n            this._dists[i] = dist(coords[2 * i], coords[2 * i + 1], center.x, center.y);\n        }\n\n        // sort the points by distance from the seed triangle circumcenter\n        quicksort(this._ids, this._dists, 0, n - 1);\n\n        // set up the seed triangle as the starting hull\n        this._hullStart = i0;\n        let hullSize = 3;\n\n        hullNext[i0] = hullPrev[i2] = i1;\n        hullNext[i1] = hullPrev[i0] = i2;\n        hullNext[i2] = hullPrev[i1] = i0;\n\n        hullTri[i0] = 0;\n        hullTri[i1] = 1;\n        hullTri[i2] = 2;\n\n        hullHash.fill(-1);\n        hullHash[this._hashKey(i0x, i0y)] = i0;\n        hullHash[this._hashKey(i1x, i1y)] = i1;\n        hullHash[this._hashKey(i2x, i2y)] = i2;\n\n        this.trianglesLen = 0;\n        this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n        for (let k = 0, xp, yp; k < this._ids.length; k++) {\n            const i = this._ids[k];\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n\n            // skip near-duplicate points\n            if (k > 0 && Math.abs(x - xp) <= EPSILON && Math.abs(y - yp) <= EPSILON) continue;\n            xp = x;\n            yp = y;\n\n            // skip seed triangle points\n            if (i === i0 || i === i1 || i === i2) continue;\n\n            // find a visible edge on the convex hull using edge hash\n            let start = 0;\n            for (let j = 0, key = this._hashKey(x, y); j < this._hashSize; j++) {\n                start = hullHash[(key + j) % this._hashSize];\n                if (start !== -1 && start !== hullNext[start]) break;\n            }\n\n            start = hullPrev[start];\n            let e = start, q;\n            while (q = hullNext[e], !orient(x, y, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1])) {\n                e = q;\n                if (e === start) {\n                    e = -1;\n                    break;\n                }\n            }\n            if (e === -1) continue; // likely a near-duplicate point; skip it\n\n            // add the first triangle from the point\n            let t = this._addTriangle(e, i, hullNext[e], -1, -1, hullTri[e]);\n\n            // recursively flip triangles from the point until they satisfy the Delaunay condition\n            hullTri[i] = this._legalize(t + 2);\n            hullTri[e] = t; // keep track of boundary triangles on the hull\n            hullSize++;\n\n            // walk forward through the hull, adding more triangles and flipping recursively\n            let n = hullNext[e];\n            while (q = hullNext[n], orient(x, y, coords[2 * n], coords[2 * n + 1], coords[2 * q], coords[2 * q + 1])) {\n                t = this._addTriangle(n, i, q, hullTri[i], -1, hullTri[n]);\n                hullTri[i] = this._legalize(t + 2);\n                hullNext[n] = n; // mark as removed\n                hullSize--;\n                n = q;\n            }\n\n            // walk backward from the other side, adding more triangles and flipping\n            if (e === start) {\n                while (q = hullPrev[e], orient(x, y, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1])) {\n                    t = this._addTriangle(q, i, e, -1, hullTri[e], hullTri[q]);\n                    this._legalize(t + 2);\n                    hullTri[q] = t;\n                    hullNext[e] = e; // mark as removed\n                    hullSize--;\n                    e = q;\n                }\n            }\n\n            // update the hull indices\n            this._hullStart = hullPrev[i] = e;\n            hullNext[e] = hullPrev[n] = i;\n            hullNext[i] = n;\n\n            // save the two new edges in the hash table\n            hullHash[this._hashKey(x, y)] = i;\n            hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n        }\n\n        this.hull = new Uint32Array(hullSize);\n        for (let i = 0, e = this._hullStart; i < hullSize; i++) {\n            this.hull[i] = e;\n            e = hullNext[e];\n        }\n\n        // trim typed triangle mesh arrays\n        this.triangles = this._triangles.subarray(0, this.trianglesLen);\n        this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n\n    _hashKey(x, y) {\n        return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n\n    _legalize(a) {\n        const {_triangles: triangles, _halfedges: halfedges, coords} = this;\n\n        let i = 0;\n        let ar = 0;\n\n        // recursion eliminated with a fixed-size stack\n        while (true) {\n            const b = halfedges[a];\n\n            /* if the pair of triangles doesn't satisfy the Delaunay condition\n             * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n             * then do the same check/flip recursively for the new pair of triangles\n             *\n             *           pl                    pl\n             *          /||\\                  /  \\\n             *       al/ || \\bl            al/    \\a\n             *        /  ||  \\              /      \\\n             *       /  a||b  \\    flip    /___ar___\\\n             *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n             *        \\  ||  /              \\      /\n             *       ar\\ || /br             b\\    /br\n             *          \\||/                  \\  /\n             *           pr                    pr\n             */\n            const a0 = a - a % 3;\n            ar = a0 + (a + 2) % 3;\n\n            if (b === -1) { // convex hull edge\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n                continue;\n            }\n\n            const b0 = b - b % 3;\n            const al = a0 + (a + 1) % 3;\n            const bl = b0 + (b + 2) % 3;\n\n            const p0 = triangles[ar];\n            const pr = triangles[a];\n            const pl = triangles[al];\n            const p1 = triangles[bl];\n\n            const illegal = inCircle(\n                coords[2 * p0], coords[2 * p0 + 1],\n                coords[2 * pr], coords[2 * pr + 1],\n                coords[2 * pl], coords[2 * pl + 1],\n                coords[2 * p1], coords[2 * p1 + 1]);\n\n            if (illegal) {\n                triangles[a] = p1;\n                triangles[b] = p0;\n\n                const hbl = halfedges[bl];\n\n                // edge swapped on the other side of the hull (rare); fix the halfedge reference\n                if (hbl === -1) {\n                    let e = this._hullStart;\n                    do {\n                        if (this._hullTri[e] === bl) {\n                            this._hullTri[e] = a;\n                            break;\n                        }\n                        e = this._hullPrev[e];\n                    } while (e !== this._hullStart);\n                }\n                this._link(a, hbl);\n                this._link(b, halfedges[ar]);\n                this._link(ar, bl);\n\n                const br = b0 + (b + 1) % 3;\n\n                // don't worry about hitting the cap: it can only happen on extremely degenerate input\n                if (i < EDGE_STACK.length) {\n                    EDGE_STACK[i++] = br;\n                }\n            } else {\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n            }\n        }\n\n        return ar;\n    }\n\n    _link(a, b) {\n        this._halfedges[a] = b;\n        if (b !== -1) this._halfedges[b] = a;\n    }\n\n    // add a new triangle given vertex indices and adjacent half-edge ids\n    _addTriangle(i0, i1, i2, a, b, c) {\n        const t = this.trianglesLen;\n\n        this._triangles[t] = i0;\n        this._triangles[t + 1] = i1;\n        this._triangles[t + 2] = i2;\n\n        this._link(t, a);\n        this._link(t + 1, b);\n        this._link(t + 2, c);\n\n        this.trianglesLen += 3;\n\n        return t;\n    }\n}\n\n// monotonically increases with real angle, but doesn't need expensive trigonometry\nfunction pseudoAngle(dx, dy) {\n    const p = dx / (Math.abs(dx) + Math.abs(dy));\n    return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n\n// return 2d orientation sign if we're confident in it through J. Shewchuk's error bound check\nfunction orientIfSure(px, py, rx, ry, qx, qy) {\n    const l = (ry - py) * (qx - px);\n    const r = (rx - px) * (qy - py);\n    return Math.abs(l - r) >= 3.3306690738754716e-16 * Math.abs(l + r) ? l - r : 0;\n}\n\n// a more robust orientation test that's stable in a given triangle (to fix robustness issues)\nfunction orient(rx, ry, qx, qy, px, py) {\n    const sign = orientIfSure(px, py, rx, ry, qx, qy) ||\n    orientIfSure(rx, ry, qx, qy, px, py) ||\n    orientIfSure(qx, qy, px, py, rx, ry);\n    return sign < 0;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n    const dx = ax - px;\n    const dy = ay - py;\n    const ex = bx - px;\n    const ey = by - py;\n    const fx = cx - px;\n    const fy = cy - py;\n\n    const ap = dx * dx + dy * dy;\n    const bp = ex * ex + ey * ey;\n    const cp = fx * fx + fy * fy;\n\n    return dx * (ey * cp - bp * fy) -\n           dy * (ex * cp - bp * fx) +\n           ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = (ey * bl - dy * cl) * d;\n    const y = (dx * cl - ex * bl) * d;\n\n    return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = ax + (ey * bl - dy * cl) * d;\n    const y = ay + (dx * cl - ex * bl) * d;\n\n    return {x, y};\n}\n\nfunction quicksort(ids, dists, left, right) {\n    if (right - left <= 20) {\n        for (let i = left + 1; i <= right; i++) {\n            const temp = ids[i];\n            const tempDist = dists[temp];\n            let j = i - 1;\n            while (j >= left && dists[ids[j]] > tempDist) ids[j + 1] = ids[j--];\n            ids[j + 1] = temp;\n        }\n    } else {\n        const median = (left + right) >> 1;\n        let i = left + 1;\n        let j = right;\n        swap(ids, median, i);\n        if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n        if (dists[ids[i]] > dists[ids[right]]) swap(ids, i, right);\n        if (dists[ids[left]] > dists[ids[i]]) swap(ids, left, i);\n\n        const temp = ids[i];\n        const tempDist = dists[temp];\n        while (true) {\n            do i++; while (dists[ids[i]] < tempDist);\n            do j--; while (dists[ids[j]] > tempDist);\n            if (j < i) break;\n            swap(ids, i, j);\n        }\n        ids[left + 1] = ids[j];\n        ids[j] = temp;\n\n        if (right - i + 1 >= j - left) {\n            quicksort(ids, dists, i, right);\n            quicksort(ids, dists, left, j - 1);\n        } else {\n            quicksort(ids, dists, left, j - 1);\n            quicksort(ids, dists, i, right);\n        }\n    }\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n    return p[0];\n}\nfunction defaultGetY(p) {\n    return p[1];\n}\n\nconst epsilon = 1e-6;\n\nclass Path {\n  constructor() {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n  }\n  moveTo(x, y) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  }\n  lineTo(x, y) {\n    this._ += `L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arc(x, y, r) {\n    x = +x, y = +y, r = +r;\n    const x0 = x + r;\n    const y0 = y;\n    if (r < 0) throw new Error(\"negative radius\");\n    if (this._x1 === null) this._ += `M${x0},${y0}`;\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n    if (!r) return;\n    this._ += `A${r},${r},0,1,1,${x - r},${y}A${r},${r},0,1,1,${this._x1 = x0},${this._y1 = y0}`;\n  }\n  rect(x, y, w, h) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${+w}v${+h}h${-w}Z`;\n  }\n  value() {\n    return this._ || null;\n  }\n}\n\nclass Polygon {\n  constructor() {\n    this._ = [];\n  }\n  moveTo(x, y) {\n    this._.push([x, y]);\n  }\n  closePath() {\n    this._.push(this._[0].slice());\n  }\n  lineTo(x, y) {\n    this._.push([x, y]);\n  }\n  value() {\n    return this._.length ? this._ : null;\n  }\n}\n\nclass Voronoi {\n  constructor(delaunay, [xmin, ymin, xmax, ymax] = [0, 0, 960, 500]) {\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n    this._init();\n  }\n  update() {\n    this.delaunay.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const {delaunay: {points, hull, triangles}, vectors} = this;\n\n    // Compute circumcenters.\n    const circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n    for (let i = 0, j = 0, n = triangles.length, x, y; i < n; i += 3, j += 2) {\n      const t1 = triangles[i] * 2;\n      const t2 = triangles[i + 1] * 2;\n      const t3 = triangles[i + 2] * 2;\n      const x1 = points[t1];\n      const y1 = points[t1 + 1];\n      const x2 = points[t2];\n      const y2 = points[t2 + 1];\n      const x3 = points[t3];\n      const y3 = points[t3 + 1];\n\n      const dx = x2 - x1;\n      const dy = y2 - y1;\n      const ex = x3 - x1;\n      const ey = y3 - y1;\n      const bl = dx * dx + dy * dy;\n      const cl = ex * ex + ey * ey;\n      const ab = (dx * ey - dy * ex) * 2;\n\n      if (!ab) {\n        // degenerate case (collinear diagram)\n        x = (x1 + x3) / 2 - 1e8 * ey;\n        y = (y1 + y3) / 2 + 1e8 * ex;\n      }\n      else if (Math.abs(ab) < 1e-8) {\n        // almost equal points (degenerate triangle)\n        x = (x1 + x3) / 2;\n        y = (y1 + y3) / 2;\n      } else {\n        const d = 1 / ab;\n        x = x1 + (ey * bl - dy * cl) * d;\n        y = y1 + (dx * cl - ex * bl) * d;\n      }\n      circumcenters[j] = x;\n      circumcenters[j + 1] = y;\n    }\n\n    // Compute exterior cell rays.\n    let h = hull[hull.length - 1];\n    let p0, p1 = h * 4;\n    let x0, x1 = points[2 * h];\n    let y0, y1 = points[2 * h + 1];\n    vectors.fill(0);\n    for (let i = 0; i < hull.length; ++i) {\n      h = hull[i];\n      p0 = p1, x0 = x1, y0 = y1;\n      p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n      vectors[p0 + 2] = vectors[p1] = y0 - y1;\n      vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n    }\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {delaunay: {halfedges, inedges, hull}, circumcenters, vectors} = this;\n    if (hull.length <= 1) return null;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = Math.floor(i / 3) * 2;\n      const tj = Math.floor(j / 3) * 2;\n      const xi = circumcenters[ti];\n      const yi = circumcenters[ti + 1];\n      const xj = circumcenters[tj];\n      const yj = circumcenters[tj + 1];\n      this._renderSegment(xi, yi, xj, yj, context);\n    }\n    let h0, h1 = hull[hull.length - 1];\n    for (let i = 0; i < hull.length; ++i) {\n      h0 = h1, h1 = hull[i];\n      const t = Math.floor(inedges[h1] / 3) * 2;\n      const x = circumcenters[t];\n      const y = circumcenters[t + 1];\n      const v = h0 * 4;\n      const p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n      if (p) this._renderSegment(x, y, p[0], p[1], context);\n    }\n    return buffer && buffer.value();\n  }\n  renderBounds(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n    return buffer && buffer.value();\n  }\n  renderCell(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const points = this._clip(i);\n    if (points === null || !points.length) return;\n    context.moveTo(points[0], points[1]);\n    let n = points.length;\n    while (points[0] === points[n-2] && points[1] === points[n-1] && n > 1) n -= 2;\n    for (let i = 2; i < n; i += 2) {\n      if (points[i] !== points[i-2] || points[i+1] !== points[i-1])\n        context.lineTo(points[i], points[i + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *cellPolygons() {\n    const {delaunay: {points}} = this;\n    for (let i = 0, n = points.length / 2; i < n; ++i) {\n      const cell = this.cellPolygon(i);\n      if (cell) cell.index = i, yield cell;\n    }\n  }\n  cellPolygon(i) {\n    const polygon = new Polygon;\n    this.renderCell(i, polygon);\n    return polygon.value();\n  }\n  _renderSegment(x0, y0, x1, y1, context) {\n    let S;\n    const c0 = this._regioncode(x0, y0);\n    const c1 = this._regioncode(x1, y1);\n    if (c0 === 0 && c1 === 0) {\n      context.moveTo(x0, y0);\n      context.lineTo(x1, y1);\n    } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n      context.moveTo(S[0], S[1]);\n      context.lineTo(S[2], S[3]);\n    }\n  }\n  contains(i, x, y) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n    return this.delaunay._step(i, x, y) === i;\n  }\n  *neighbors(i) {\n    const ci = this._clip(i);\n    if (ci) for (const j of this.delaunay.neighbors(i)) {\n      const cj = this._clip(j);\n      // find the common edge\n      if (cj) loop: for (let ai = 0, li = ci.length; ai < li; ai += 2) {\n        for (let aj = 0, lj = cj.length; aj < lj; aj += 2) {\n          if (ci[ai] == cj[aj]\n          && ci[ai + 1] == cj[aj + 1]\n          && ci[(ai + 2) % li] == cj[(aj + lj - 2) % lj]\n          && ci[(ai + 3) % li] == cj[(aj + lj - 1) % lj]\n          ) {\n            yield j;\n            break loop;\n          }\n        }\n      }\n    }\n  }\n  _cell(i) {\n    const {circumcenters, delaunay: {inedges, halfedges, triangles}} = this;\n    const e0 = inedges[i];\n    if (e0 === -1) return null; // coincident point\n    const points = [];\n    let e = e0;\n    do {\n      const t = Math.floor(e / 3);\n      points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n    } while (e !== e0 && e !== -1);\n    return points;\n  }\n  _clip(i) {\n    // degenerate case (1 valid point: return the box)\n    if (i === 0 && this.delaunay.hull.length === 1) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    const points = this._cell(i);\n    if (points === null) return null;\n    const {vectors: V} = this;\n    const v = i * 4;\n    return V[v] || V[v + 1]\n        ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3])\n        : this._clipFinite(i, points);\n  }\n  _clipFinite(i, points) {\n    const n = points.length;\n    let P = null;\n    let x0, y0, x1 = points[n - 2], y1 = points[n - 1];\n    let c0, c1 = this._regioncode(x1, y1);\n    let e0, e1;\n    for (let j = 0; j < n; j += 2) {\n      x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n      c0 = c1, c1 = this._regioncode(x1, y1);\n      if (c0 === 0 && c1 === 0) {\n        e0 = e1, e1 = 0;\n        if (P) P.push(x1, y1);\n        else P = [x1, y1];\n      } else {\n        let S, sx0, sy0, sx1, sy1;\n        if (c0 === 0) {\n          if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n          [sx0, sy0, sx1, sy1] = S;\n        } else {\n          if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n          [sx1, sy1, sx0, sy0] = S;\n          e0 = e1, e1 = this._edgecode(sx0, sy0);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx0, sy0);\n          else P = [sx0, sy0];\n        }\n        e0 = e1, e1 = this._edgecode(sx1, sy1);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n        if (P) P.push(sx1, sy1);\n        else P = [sx1, sy1];\n      }\n    }\n    if (P) {\n      e0 = e1, e1 = this._edgecode(P[0], P[1]);\n      if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    return P;\n  }\n  _clipSegment(x0, y0, x1, y1, c0, c1) {\n    while (true) {\n      if (c0 === 0 && c1 === 0) return [x0, y0, x1, y1];\n      if (c0 & c1) return null;\n      let x, y, c = c0 || c1;\n      if (c & 0b1000) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;\n      else if (c & 0b0100) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;\n      else if (c & 0b0010) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;\n      else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n      if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);\n      else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n    }\n  }\n  _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n    let P = Array.from(points), p;\n    if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n    if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n    if (P = this._clipFinite(i, P)) {\n      for (let j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n        c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n        if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n      }\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n    }\n    return P;\n  }\n  _edge(i, e0, e1, P, j) {\n    while (e0 !== e1) {\n      let x, y;\n      switch (e0) {\n        case 0b0101: e0 = 0b0100; continue; // top-left\n        case 0b0100: e0 = 0b0110, x = this.xmax, y = this.ymin; break; // top\n        case 0b0110: e0 = 0b0010; continue; // top-right\n        case 0b0010: e0 = 0b1010, x = this.xmax, y = this.ymax; break; // right\n        case 0b1010: e0 = 0b1000; continue; // bottom-right\n        case 0b1000: e0 = 0b1001, x = this.xmin, y = this.ymax; break; // bottom\n        case 0b1001: e0 = 0b0001; continue; // bottom-left\n        case 0b0001: e0 = 0b0101, x = this.xmin, y = this.ymin; break; // left\n      }\n      if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n        P.splice(j, 0, x, y), j += 2;\n      }\n    }\n    if (P.length > 4) {\n      for (let i = 0; i < P.length; i+= 2) {\n        const j = (i + 2) % P.length, k = (i + 4) % P.length;\n        if (P[i] === P[j] && P[j] === P[k]\n        || P[i + 1] === P[j + 1] && P[j + 1] === P[k + 1])\n          P.splice(j, 2), i -= 2;\n      }\n    }\n    return j;\n  }\n  _project(x0, y0, vx, vy) {\n    let t = Infinity, c, x, y;\n    if (vy < 0) { // top\n      if (y0 <= this.ymin) return null;\n      if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n    } else if (vy > 0) { // bottom\n      if (y0 >= this.ymax) return null;\n      if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n    }\n    if (vx > 0) { // right\n      if (x0 >= this.xmax) return null;\n      if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n    } else if (vx < 0) { // left\n      if (x0 <= this.xmin) return null;\n      if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n    }\n    return [x, y];\n  }\n  _edgecode(x, y) {\n    return (x === this.xmin ? 0b0001\n        : x === this.xmax ? 0b0010 : 0b0000)\n        | (y === this.ymin ? 0b0100\n        : y === this.ymax ? 0b1000 : 0b0000);\n  }\n  _regioncode(x, y) {\n    return (x < this.xmin ? 0b0001\n        : x > this.xmax ? 0b0010 : 0b0000)\n        | (y < this.ymin ? 0b0100\n        : y > this.ymax ? 0b1000 : 0b0000);\n  }\n}\n\nconst tau = 2 * Math.PI, pow = Math.pow;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n}\n\n// A triangulation is collinear if all its triangles have a non-null area\nfunction collinear(d) {\n  const {triangles, coords} = d;\n  for (let i = 0; i < triangles.length; i += 3) {\n    const a = 2 * triangles[i],\n          b = 2 * triangles[i + 1],\n          c = 2 * triangles[i + 2],\n          cross = (coords[c] - coords[a]) * (coords[b + 1] - coords[a + 1])\n                - (coords[b] - coords[a]) * (coords[c + 1] - coords[a + 1]);\n    if (cross > 1e-10) return false;\n  }\n  return true;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nclass Delaunay {\n  static from(points, fx = pointX, fy = pointY, that) {\n    return new Delaunay(\"length\" in points\n        ? flatArray(points, fx, fy, that)\n        : Float64Array.from(flatIterable(points, fx, fy, that)));\n  }\n  constructor(points) {\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n    this._init();\n  }\n  update() {\n    this._delaunator.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const d = this._delaunator, points = this.points;\n\n    // check for collinear\n    if (d.hull && d.hull.length > 2 && collinear(d)) {\n      this.collinear = Int32Array.from({length: points.length/2}, (_,i) => i)\n        .sort((i, j) => points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1]); // for exact neighbors\n      const e = this.collinear[0], f = this.collinear[this.collinear.length - 1],\n        bounds = [ points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1] ],\n        r = 1e-8 * Math.hypot(bounds[3] - bounds[1], bounds[2] - bounds[0]);\n      for (let i = 0, n = points.length / 2; i < n; ++i) {\n        const p = jitter(points[2 * i], points[2 * i + 1], r);\n        points[2 * i] = p[0];\n        points[2 * i + 1] = p[1];\n      }\n      this._delaunator = new Delaunator(points);\n    } else {\n      delete this.collinear;\n    }\n\n    const halfedges = this.halfedges = this._delaunator.halfedges;\n    const hull = this.hull = this._delaunator.hull;\n    const triangles = this.triangles = this._delaunator.triangles;\n    const inedges = this.inedges.fill(-1);\n    const hullIndex = this._hullIndex.fill(-1);\n\n    // Compute an index from each point to an (arbitrary) incoming halfedge\n    // Used to give the first neighbor of each point; for this reason,\n    // on the hull we give priority to exterior halfedges\n    for (let e = 0, n = halfedges.length; e < n; ++e) {\n      const p = triangles[e % 3 === 2 ? e - 2 : e + 1];\n      if (halfedges[e] === -1 || inedges[p] === -1) inedges[p] = e;\n    }\n    for (let i = 0, n = hull.length; i < n; ++i) {\n      hullIndex[hull[i]] = i;\n    }\n\n    // degenerate case: 1 or 2 (distinct) points\n    if (hull.length <= 2 && hull.length > 0) {\n      this.triangles = new Int32Array(3).fill(-1);\n      this.halfedges = new Int32Array(3).fill(-1);\n      this.triangles[0] = hull[0];\n      this.triangles[1] = hull[1];\n      this.triangles[2] = hull[1];\n      inedges[hull[0]] = 1;\n      if (hull.length === 2) inedges[hull[1]] = 0;\n    }\n  }\n  voronoi(bounds) {\n    return new Voronoi(this, bounds);\n  }\n  *neighbors(i) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, collinear} = this;\n\n    // degenerate case with several collinear points\n    if (collinear) {\n      const l = collinear.indexOf(i);\n      if (l > 0) yield collinear[l - 1];\n      if (l < collinear.length - 1) yield collinear[l + 1];\n      return;\n    }\n\n    const e0 = inedges[i];\n    if (e0 === -1) return; // coincident point\n    let e = e0, p0 = -1;\n    do {\n      yield p0 = triangles[e];\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) return; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        const p = hull[(_hullIndex[i] + 1) % hull.length];\n        if (p !== p0) yield p;\n        return;\n      }\n    } while (e !== e0);\n  }\n  find(x, y, i = 0) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n    const i0 = i;\n    let c;\n    while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) i = c;\n    return c;\n  }\n  _step(i, x, y) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, points} = this;\n    if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n    let c = i;\n    let dc = pow(x - points[i * 2], 2) + pow(y - points[i * 2 + 1], 2);\n    const e0 = inedges[i];\n    let e = e0;\n    do {\n      let t = triangles[e];\n      const dt = pow(x - points[t * 2], 2) + pow(y - points[t * 2 + 1], 2);\n      if (dt < dc) dc = dt, c = t;\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        e = hull[(_hullIndex[i] + 1) % hull.length];\n        if (e !== t) {\n          if (pow(x - points[e * 2], 2) + pow(y - points[e * 2 + 1], 2) < dc) return e;\n        }\n        break;\n      }\n    } while (e !== e0);\n    return c;\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, halfedges, triangles} = this;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = triangles[i] * 2;\n      const tj = triangles[j] * 2;\n      context.moveTo(points[ti], points[ti + 1]);\n      context.lineTo(points[tj], points[tj + 1]);\n    }\n    this.renderHull(context);\n    return buffer && buffer.value();\n  }\n  renderPoints(context, r = 2) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points} = this;\n    for (let i = 0, n = points.length; i < n; i += 2) {\n      const x = points[i], y = points[i + 1];\n      context.moveTo(x + r, y);\n      context.arc(x, y, r, 0, tau);\n    }\n    return buffer && buffer.value();\n  }\n  renderHull(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {hull, points} = this;\n    const h = hull[0] * 2, n = hull.length;\n    context.moveTo(points[h], points[h + 1]);\n    for (let i = 1; i < n; ++i) {\n      const h = 2 * hull[i];\n      context.lineTo(points[h], points[h + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  hullPolygon() {\n    const polygon = new Polygon;\n    this.renderHull(polygon);\n    return polygon.value();\n  }\n  renderTriangle(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, triangles} = this;\n    const t0 = triangles[i *= 3] * 2;\n    const t1 = triangles[i + 1] * 2;\n    const t2 = triangles[i + 2] * 2;\n    context.moveTo(points[t0], points[t0 + 1]);\n    context.lineTo(points[t1], points[t1 + 1]);\n    context.lineTo(points[t2], points[t2 + 1]);\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *trianglePolygons() {\n    const {triangles} = this;\n    for (let i = 0, n = triangles.length / 3; i < n; ++i) {\n      yield this.trianglePolygon(i);\n    }\n  }\n  trianglePolygon(i) {\n    const polygon = new Polygon;\n    this.renderTriangle(i, polygon);\n    return polygon.value();\n  }\n}\n\nfunction flatArray(points, fx, fy, that) {\n  const n = points.length;\n  const array = new Float64Array(n * 2);\n  for (let i = 0; i < n; ++i) {\n    const p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n  return array;\n}\n\nfunction* flatIterable(points, fx, fy, that) {\n  let i = 0;\n  for (const p of points) {\n    yield fx.call(that, p, i, points);\n    yield fy.call(that, p, i, points);\n    ++i;\n  }\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\nfunction bisector(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n\nvar ascendingBisect = bisector(ascending);\nvar bisectRight = ascendingBisect.right;\n\nfunction sequence(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n\nvar e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction ticks(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nfunction tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nfunction tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n\nfunction initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nconst implicit = Symbol(\"implicit\");\n\nfunction ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nfunction band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n\nfunction Color() {}\n\nvar darker = 0.7;\nvar brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nfunction color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n\nfunction constant(x) {\n  return function() {\n    return x;\n  };\n}\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n\nvar rgb$1 = (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb$1(start, end) {\n    var r = color((start = rgb(start)).r, (end = rgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb$1.gamma = rgbGamma;\n\n  return rgb$1;\n})(1);\n\nfunction numberArray(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nfunction isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n\nfunction genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = interpolate(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n\nfunction date(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n\nfunction interpolateNumber(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n\nfunction object(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nfunction string(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: interpolateNumber(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n\nfunction interpolate(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? interpolateNumber\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb$1) : string)\n      : b instanceof color ? rgb$1\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : interpolateNumber)(a, b);\n}\n\nfunction interpolateRound(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n\nfunction constant$1(x) {\n  return function() {\n    return x;\n  };\n}\n\nfunction number(x) {\n  return +x;\n}\n\nvar unit = [0, 1];\n\nfunction identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant$1(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisectRight(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nfunction copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nfunction transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate$1 = interpolate,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate$1)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate$1 = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate$1 = _, rescale()) : interpolate$1;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nfunction continuous() {\n  return transformer()(identity, identity);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nfunction formatDecimal(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n\nfunction exponent(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n\nfunction formatGroup(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n\nfunction formatNumerals(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n\n// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nfunction formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n\n// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nfunction formatTrim(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n\nvar prefixExponent;\n\nfunction formatPrefixAuto(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n\nfunction formatRounded(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n\nvar formatTypes = {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n\nfunction identity$1(x) {\n  return x;\n}\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nfunction formatLocale(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity$1 : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity$1 : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"-\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n\nvar locale;\nvar format;\nvar formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"],\n  minus: \"-\"\n});\n\nfunction defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n\nfunction precisionFixed(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n\nfunction precisionPrefix(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n\nfunction precisionRound(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n\nfunction tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n\nfunction linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nfunction linear$1() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear$1());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n\nfunction nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nfunction loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  return scale;\n}\n\nfunction log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nvar t0 = new Date,\n    t1 = new Date;\n\nfunction newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n\nvar millisecond = newInterval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return newInterval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nvar durationSecond = 1e3;\nvar durationMinute = 6e4;\nvar durationHour = 36e5;\nvar durationDay = 864e5;\nvar durationWeek = 6048e5;\n\nvar second = newInterval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nvar minute = newInterval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nvar hour = newInterval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nvar day = newInterval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nfunction weekday(i) {\n  return newInterval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\n\nvar month = newInterval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nvar year = newInterval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nvar utcMinute = newInterval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nvar utcHour = newInterval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nvar utcDay = newInterval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nfunction utcWeekday(i) {\n  return newInterval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nvar utcSunday = utcWeekday(0);\nvar utcMonday = utcWeekday(1);\nvar utcTuesday = utcWeekday(2);\nvar utcWednesday = utcWeekday(3);\nvar utcThursday = utcWeekday(4);\nvar utcFriday = utcWeekday(5);\nvar utcSaturday = utcWeekday(6);\n\nvar utcMonth = newInterval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nvar utcYear = newInterval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nfunction formatLocale$1(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day$1;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day$1 = week.getUTCDay();\n          week = day$1 > 4 || day$1 === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day$1 = week.getDay();\n          week = day$1 > 4 || day$1 === 0 ? monday.ceil(week) : monday(week);\n          week = day.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day$1 = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day$1 + 5) % 7 : d.w + d.U * 7 - (day$1 + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + day.count(year(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(sunday.count(year(d) - 1, d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? thursday(d) : thursday.ceil(d);\n  return pad(thursday.count(year(d), d) + (year(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(monday.count(year(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n\nvar locale$1;\nvar timeFormat;\nvar timeParse;\nvar utcFormat;\nvar utcParse;\n\ndefaultLocale$1({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nfunction defaultLocale$1(definition) {\n  locale$1 = formatLocale$1(definition);\n  timeFormat = locale$1.format;\n  timeParse = locale$1.parse;\n  utcFormat = locale$1.utcFormat;\n  utcParse = locale$1.utcParse;\n  return locale$1;\n}\n\nvar durationSecond$1 = 1000,\n    durationMinute$1 = durationSecond$1 * 60,\n    durationHour$1 = durationMinute$1 * 60,\n    durationDay$1 = durationHour$1 * 24,\n    durationWeek$1 = durationDay$1 * 7,\n    durationMonth = durationDay$1 * 30,\n    durationYear = durationDay$1 * 365;\n\nfunction date$1(t) {\n  return new Date(t);\n}\n\nfunction number$1(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nfunction calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond$1],\n    [second,  5,  5 * durationSecond$1],\n    [second, 15, 15 * durationSecond$1],\n    [second, 30, 30 * durationSecond$1],\n    [minute,  1,      durationMinute$1],\n    [minute,  5,  5 * durationMinute$1],\n    [minute, 15, 15 * durationMinute$1],\n    [minute, 30, 30 * durationMinute$1],\n    [  hour,  1,      durationHour$1  ],\n    [  hour,  3,  3 * durationHour$1  ],\n    [  hour,  6,  6 * durationHour$1  ],\n    [  hour, 12, 12 * durationHour$1  ],\n    [   day,  1,      durationDay$1   ],\n    [   day,  2,  2 * durationDay$1   ],\n    [  week,  1,      durationWeek$1  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target),\n          step;\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n      return interval.every(step);\n    }\n\n    return interval;\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number$1)) : domain().map(date$1);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1]))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nfunction time() {\n  return initRange.apply(calendar(year, month, sunday, day, hour, minute, second, millisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n\nfunction utcTime() {\n  return initRange.apply(calendar(utcYear, utcMonth, utcSunday, utcDay, utcHour, utcMinute, second, millisecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n\nvar pi = Math.PI,\n    tau$1 = 2 * pi,\n    epsilon$1 = 1e-6,\n    tauEpsilon = tau$1 - epsilon$1;\n\nfunction Path$1() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path$1;\n}\n\nPath$1.prototype = path.prototype = {\n  constructor: Path$1,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon$1));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon$1) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon$1) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon$1 || Math.abs(this._y1 - y0) > epsilon$1) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau$1 + tau$1;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon$1) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nfunction constant$2(x) {\n  return function constant() {\n    return x;\n  };\n}\n\nvar abs = Math.abs;\nvar atan2 = Math.atan2;\nvar cos = Math.cos;\nvar max = Math.max;\nvar min = Math.min;\nvar sin = Math.sin;\nvar sqrt = Math.sqrt;\n\nvar epsilon$2 = 1e-12;\nvar pi$1 = Math.PI;\nvar halfPi = pi$1 / 2;\nvar tau$2 = 2 * pi$1;\n\nfunction acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi$1 : Math.acos(x);\n}\n\nfunction asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon$2) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nfunction arc() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant$2(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon$2)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau$2 - epsilon$2) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon$2) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon$2) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon$2) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon$2) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon$2) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon$2) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi$1 && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon$2)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon$2) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon$2) || !(da0 > epsilon$2)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon$2) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi$1 / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant$2(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant$2(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant$2(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant$2(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant$2(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant$2(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant$2(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n\nfunction Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nfunction curveLinear(context) {\n  return new Linear(context);\n}\n\nfunction x(p) {\n  return p[0];\n}\n\nfunction y(p) {\n  return p[1];\n}\n\nfunction line() {\n  var x$1 = x,\n      y$1 = y,\n      defined = constant$2(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x$1(d, i, data), +y$1(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x$1 = typeof _ === \"function\" ? _ : constant$2(+_), line) : x$1;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y$1 = typeof _ === \"function\" ? _ : constant$2(+_), line) : y$1;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$2(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n\nfunction area() {\n  var x0 = x,\n      x1 = null,\n      y0 = constant$2(0),\n      y1 = y,\n      defined = constant$2(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$2(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$2(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$2(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$2(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$2(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$2(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$2(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n\nfunction descending(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n\nfunction identity$2(d) {\n  return d;\n}\n\nfunction pie() {\n  var value = identity$2,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant$2(0),\n      endAngle = constant$2(tau$2),\n      padAngle = constant$2(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau$2, Math.max(-tau$2, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant$2(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant$2(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant$2(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant$2(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n\nfunction noop() {}\n\nfunction point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nfunction Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basis(context) {\n  return new Basis(context);\n}\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basisClosed(context) {\n  return new BasisClosed(context);\n}\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nfunction basisOpen(context) {\n  return new BasisOpen(context);\n}\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nvar bundle = (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n\nfunction point$1(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nfunction Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point$1(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point$1(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinal = (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n\nfunction CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point$1(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinalClosed = (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n\nfunction CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point$1(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar cardinalOpen = (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n\nfunction point$2(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon$2) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon$2) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point$2(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRom = (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point$2(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRomClosed = (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point$2(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nvar catmullRomOpen = (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nfunction linearClosed(context) {\n  return new LinearClosed(context);\n}\n\nfunction sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point$3(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point$3(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point$3(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point$3(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n};\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nfunction monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nfunction monotoneY(context) {\n  return new MonotoneY(context);\n}\n\nfunction Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nfunction natural(context) {\n  return new Natural(context);\n}\n\nfunction Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nfunction step(context) {\n  return new Step(context, 0.5);\n}\n\nfunction stepBefore(context) {\n  return new Step(context, 0);\n}\n\nfunction stepAfter(context) {\n  return new Step(context, 1);\n}\n\nexport { Delaunay, arc, area, basis as curveBasis, basisClosed as curveBasisClosed, basisOpen as curveBasisOpen, bundle as curveBundle, cardinal as curveCardinal, cardinalClosed as curveCardinalClosed, cardinalOpen as curveCardinalOpen, catmullRom as curveCatmullRom, catmullRomClosed as curveCatmullRomClosed, catmullRomOpen as curveCatmullRomOpen, curveLinear, linearClosed as curveLinearClosed, monotoneX as curveMonotoneX, monotoneY as curveMonotoneY, natural as curveNatural, step as curveStep, stepAfter as curveStepAfter, stepBefore as curveStepBefore, line, pie, band as scaleBand, linear$1 as scaleLinear, log as scaleLog, time as scaleTime, utcTime as scaleUtc };\n","import React from 'react'\n//\n\nconst defaultStyle = {\n  strokeWidth: 2,\n  stroke: '#6b6b6b',\n  fill: 'transparent',\n  opacity: 1,\n}\n\nexport default function Path({ style, ...rest }) {\n  const resolvedStyle = {\n    ...defaultStyle,\n    ...style,\n  }\n\n  return <path {...rest} style={resolvedStyle} />\n}\n","import React from 'react'\nimport { Delaunay, line } from '../../d3'\n//\nimport ChartContext from '../utils/ChartContext'\nimport Path from '../primitives/Path'\n\nconst lineFn = line()\n\nconst VoronoiElement = ({ children, ...rest }) => (\n  <g className=\"Voronoi\" {...rest}>\n    {children}\n  </g>\n)\n\nexport default function Voronoi() {\n  const [\n    {\n      // type,\n      stackData,\n      primaryAxes,\n      secondaryAxes,\n      showVoronoi,\n      width,\n      height,\n      gridWidth,\n      gridHeight,\n      onFocus,\n      onClick,\n      tooltip,\n      primaryCursor,\n      secondaryCursor,\n    },\n    setChartState,\n  ] = React.useContext(ChartContext)\n\n  const onHover = React.useCallback(\n    datum => {\n      return setChartState(state => ({\n        ...state,\n        focused: datum,\n      }))\n    },\n    [setChartState]\n  )\n\n  const needsVoronoi =\n    onFocus || onClick || tooltip || primaryCursor || secondaryCursor\n\n  return React.useMemo(() => {\n    // Don't render until we have all dependencies\n    if (\n      !stackData ||\n      !primaryAxes.length ||\n      !secondaryAxes.length ||\n      !width ||\n      !height ||\n      !needsVoronoi\n    ) {\n      return null\n    }\n\n    const extent = [\n      [0, 0],\n      [gridWidth, gridHeight],\n    ]\n\n    // if (type === 'pie') {\n    //   const primaryAxis = primaryAxes[0]\n\n    //   return (\n    //     <VoronoiElement\n    //       style={{\n    //         transform: Utils.translate(primaryAxis.width /\n    //           2, primaryAxis.height / 2)\n    //       }}\n    //     >\n    //       {stackData.map(series => (\n    //         <React.Fragment key={series.index}>\n    //           {series.datums.map((datum, i) => {\n    //             const arc = makeArc()\n    //               .startAngle(datum.arcData.startAngle)\n    //               .endAngle(datum.arcData.endAngle)\n    //               .padAngle(0)\n    //               .padRadius(0)\n    //               .innerRadius(\n    //                 !series.index\n    //                   ? 0\n    //                   : datum.arcData.innerRadius -\n    //                       datum.arcData.seriesPaddingRadius / 2\n    //               )\n    //               .outerRadius(\n    //                 series.index === stackData.length - 1\n    //                   ? Math.max(primaryAxis.width, primaryAxis.height)\n    //                   : datum.arcData.outerRadius +\n    //                       datum.arcData.seriesPaddingRadius / 2\n    //               )\n    //               .cornerRadius(0)\n\n    //             return (\n    //               <Path\n    //                 key={i}\n    //                 d={arc()}\n    //                 className='action-voronoi'\n    //                 onMouseEnter={() => onHover([datum])}\n    //                 style={{\n    //                   fill: 'rgba(0,0,0,.2)',\n    //                   stroke: 'rgba(255,255,255,.5)',\n    //                   opacity: showVoronoi ? 1 : 0\n    //                 }}\n    //               />\n    //             )\n    //           })}\n    //         </React.Fragment>\n    //       ))}\n    //     </VoronoiElement>\n    //   )\n    // }\n\n    let vor\n    let polygons = null\n\n    const voronoiData = []\n    stackData.forEach(series => {\n      series.datums\n        .filter(d => d.defined)\n        .forEach(datum => {\n          datum.boundingPoints.forEach(boundingPoint => {\n            if (\n              typeof datum.x !== 'number' ||\n              typeof datum.y !== 'number' ||\n              Number.isNaN(datum.y) ||\n              Number.isNaN(datum.x)\n            ) {\n              return\n            }\n            voronoiData.push({\n              x: boundingPoint.x,\n              y: boundingPoint.y,\n              datum,\n            })\n          })\n        })\n    })\n\n    const delaunay = Delaunay.from(\n      voronoiData,\n      d => d.x,\n      d => d.y\n    )\n\n    const voronoi = delaunay.voronoi(extent.flat())\n\n    polygons = [...voronoi.cellPolygons()]\n\n    return (\n      <VoronoiElement>\n        {polygons.map((points, i) => {\n          const index = points.index\n          const datum = voronoiData[index].datum\n          const path = lineFn(points)\n          return (\n            <Path\n              key={i}\n              d={path}\n              className=\"action-voronoi\"\n              onMouseEnter={e => onHover(datum)}\n              onMouseLeave={e => onHover(null)}\n              style={{\n                fill: 'rgba(0,0,0,.2)',\n                stroke: 'rgba(255,255,255,.5)',\n                opacity: showVoronoi ? 1 : 0,\n              }}\n            />\n          )\n        })}\n      </VoronoiElement>\n    )\n  }, [\n    gridHeight,\n    gridWidth,\n    height,\n    needsVoronoi,\n    onHover,\n    primaryAxes.length,\n    secondaryAxes.length,\n    showVoronoi,\n    stackData,\n    width,\n  ])\n}\n","import React from 'react'\n//\n\nconst defaultStyle = {\n  strokeWidth: 1,\n  fill: 'transparent',\n  opacity: 1,\n}\n\nexport default function Line({ style, ...rest }) {\n  const resolvedStyle = {\n    ...defaultStyle,\n    ...style,\n  }\n\n  return <line {...rest} style={resolvedStyle} />\n}\n","import React from 'react'\n//\n\nconst defaultStyle = {\n  fontFamily: 'Helvetica',\n  fontSize: 10,\n  opacity: 1,\n}\n\nexport default function Text({ style, opacity = 1, ...rest }) {\n  const resolvedStyle = {\n    ...defaultStyle,\n    ...style,\n  }\n\n  return <text {...rest} style={resolvedStyle} />\n}\n","import React from 'react'\n\nexport default React.forwardRef(function Group(props, ref) {\n  return <g {...props} ref={ref} />\n})\n","export const positionTop = \"top\";\nexport const positionRight = \"right\";\nexport const positionBottom = \"bottom\";\nexport const positionLeft = \"left\";\n\nexport const groupingSingle = \"single\";\nexport const groupingSeries = \"series\";\nexport const groupingPrimary = \"primary\";\nexport const groupingSecondary = \"secondary\";\n\nexport const alignAuto = \"auto\";\nexport const alignRight = \"right\";\nexport const alignTopRight = \"topRight\";\nexport const alignBottomRight = \"bottomRight\";\nexport const alignLeft = \"left\";\nexport const alignTopLeft = \"topLeft\";\nexport const alignBottomLeft = \"bottomLeft\";\nexport const alignTop = \"top\";\nexport const alignBottom = \"bottom\";\n\nexport const axisTypeOrdinal = \"ordinal\";\nexport const axisTypeTime = \"time\";\nexport const axisTypeUtc = \"utc\";\nexport const axisTypeLinear = \"linear\";\nexport const axisTypeLog = \"log\";\n\nexport const anchorPointer = \"pointer\";\nexport const anchorClosest = \"closest\";\nexport const anchorCenter = \"center\";\nexport const anchorTop = \"top\";\nexport const anchorBottom = \"bottom\";\nexport const anchorLeft = \"left\";\nexport const anchorRight = \"right\";\nexport const anchorGridTop = \"gridTop\";\nexport const anchorGridBottom = \"gridBottom\";\nexport const anchorGridLeft = \"gridLeft\";\nexport const anchorGridRight = \"gridRight\";\n\nexport const focusAuto = \"auto\";\nexport const focusClosest = \"closest\";\nexport const focusElement = \"element\";\n","import React from 'react'\n//\nimport ChartContext from '../utils/ChartContext'\nimport Utils from '../utils/Utils'\n\nimport usePrevious from '../hooks/usePrevious'\n\nimport Path from '../primitives/Path'\nimport Line from '../primitives/Line'\nimport Text from '../primitives/Text'\nimport Group from '../primitives/Group'\n\nimport {\n  positionTop,\n  positionRight,\n  positionBottom,\n  positionLeft,\n  axisTypeOrdinal,\n} from '../utils/Constants.js'\n\nconst defaultStyles = {\n  line: {\n    strokeWidth: '1',\n    fill: 'transparent',\n  },\n  tick: {\n    fontSize: 10,\n    fontFamily: 'sans-serif',\n  },\n}\n\nconst radiansToDegrees = r => r * (180 / Math.PI)\n\nexport default function AxisLinear({\n  id,\n  type,\n  position,\n  tickSizeInner,\n  tickSizeOuter,\n  show,\n  showGrid,\n  showTicks,\n  styles,\n  maxLabelRotation,\n  labelRotationStep,\n  tickPadding,\n  ticks,\n  tickCount,\n  minTickCount,\n  maxTickCount,\n  scale,\n  max: scaleMax,\n  transform,\n  vertical,\n  format,\n  range: [range0, range1],\n  directionMultiplier,\n  tickOffset,\n  gridOffset,\n  spacing,\n}) {\n  const [rotation, setRotation] = React.useState(0)\n  const [\n    { gridWidth, gridHeight, dark, axisDimensions },\n    setChartState,\n  ] = React.useContext(ChartContext)\n\n  const elRef = React.useRef()\n  const visibleLabelStepRef = React.useRef()\n\n  const measureDimensions = React.useCallback(() => {\n    if (!elRef.current) {\n      if (axisDimensions[position] && axisDimensions[position][id]) {\n        // If the entire axis is hidden, then we need to remove the axis dimensions\n        setChartState(state => {\n          const newAxes = state.axisDimensions[position] || {}\n          delete newAxes[id]\n          return {\n            ...state,\n            axisDimensions: {\n              ...state.axisDimensions,\n              [position]: newAxes,\n            },\n          }\n        })\n      }\n      return\n    }\n\n    const labelDims = Array(\n      ...elRef.current.querySelectorAll('.tickLabel')\n    ).map(el => {\n      const rect = el.getBoundingClientRect()\n      return {\n        width: rect.width,\n        height: rect.height,\n      }\n    })\n\n    let tickSpace = !vertical ? gridWidth : gridHeight\n    let calculatedTickCount = tickCount\n    let width = 0\n    let height = 0\n    let top = 0\n    let bottom = 0\n    let left = 0\n    let right = 0\n\n    let smallestTickGap = 100000 // This is just a ridiculously large tick spacing that would never happen (hopefully)\n\n    // First find the dimensions of each tick\n    const tickDims = Array(...elRef.current.querySelectorAll('.tick')).map(el =>\n      el.getBoundingClientRect()\n    )\n\n    // Then, determine the smallest gap in ticks on the axis\n    tickDims.reduce((prev, current) => {\n      if (prev) {\n        const gap = vertical ? current.top - prev.top : current.left - prev.left\n        smallestTickGap = gap < smallestTickGap ? gap : smallestTickGap\n      }\n      return current\n    }, false)\n\n    const firstLabelDim = labelDims[0] || { width: 0, height: 0 }\n    const lastLabelDim = labelDims[labelDims.length - 1] || {\n      width: 0,\n      height: 0,\n    }\n\n    // Then determine the largest label\n    let largestLabel = { ...firstLabelDim, _overflow: 0 }\n\n    // Determine the largest label on the axis\n    labelDims.forEach(labelDim => {\n      labelDim._overflow = !vertical\n        ? labelDim.width\n        : labelDim.height - smallestTickGap\n      if (\n        labelDim._overflow > 0 &&\n        labelDim._overflow > largestLabel._overflow\n      ) {\n        largestLabel = labelDim\n      }\n    })\n\n    const largestLabelSize = !vertical\n      ? largestLabel.width\n      : largestLabel.height\n\n    // We need to detect auto tick mode\n    if ((vertical || type !== 'ordinal') && tickCount === 'auto') {\n      // if it's on, determine how many ticks we could display if they were all flat\n      // How many ticks can we fit in the available axis space?\n      calculatedTickCount = Math.max(\n        minTickCount,\n        Math.min(\n          Math.floor(\n            (tickSpace + largestLabelSize - tickPadding) /\n              (largestLabelSize + tickPadding * 2)\n          ),\n          maxTickCount\n        )\n      )\n    } else if (!vertical) {\n      // Otherwise, if it's horizontal, then we need to determine axis rotation\n      // This is the raw mathematical rotation, using acosign and radians\n      // (some tricky stuff I found on some geomoetry forum. Can't remember where though)\n      let newRotation = Math.min(\n        Math.max(\n          Math.abs(\n            radiansToDegrees(\n              Math.acos(smallestTickGap / (largestLabel.width + tickPadding))\n            )\n          ),\n          0\n        ),\n        maxLabelRotation\n      )\n\n      // Make sure the rotation isn't NaN\n      newRotation = Number.isNaN(newRotation) ? 0 : newRotation\n\n      // Round the rotation to the nearest rotationStep\n      newRotation = Math.ceil(\n        Math.ceil(newRotation / labelRotationStep) * labelRotationStep\n      )\n\n      if (\n        newRotation === 0 ||\n        newRotation === maxLabelRotation ||\n        Math.abs(newRotation) - Math.abs(rotation) > 5\n      ) {\n        setRotation(() => (position === 'top' ? -newRotation : newRotation))\n      }\n    }\n\n    const newVisibleLabelStep = Math.ceil(tickPadding / smallestTickGap)\n\n    if (visibleLabelStepRef.current !== newVisibleLabelStep) {\n      visibleLabelStepRef.current = newVisibleLabelStep\n    }\n\n    if (!vertical) {\n      // Add width overflow from the first and last ticks\n      // const leftWidth = firstLabelDim.width\n      // const rightWidth = lastLabelDim.width\n      // if (rotation) {\n      //   right = tickPadding\n      //   left = Math.abs(Math.ceil(Math.cos(rotation) * leftWidth)) - barSize / 2\n      // } else {\n      //   left = Math.ceil(leftWidth / 2)\n      //   right = Math.ceil(rightWidth / 2)\n      // }\n      height =\n        Math.max(tickSizeInner, tickSizeOuter) + // Add tick size\n        tickPadding + // Add tick padding\n        // Add the height of the largest label\n        Math.max(0, ...labelDims.map(d => Math.ceil(d.height)))\n    } else {\n      // Add height overflow from the first and last ticks\n      top = Math.ceil(firstLabelDim.height / 2)\n      bottom = Math.ceil(lastLabelDim.height / 2)\n      width =\n        Math.max(tickSizeInner, tickSizeOuter) + // Add tick size\n        tickPadding + // Add tick padding\n        // Add the width of the largest label\n        Math.max(0, ...labelDims.map(d => Math.ceil(d.width)))\n    }\n\n    const newDimensions = {\n      width,\n      height,\n      top,\n      bottom,\n      left,\n      right,\n      tickCount: calculatedTickCount,\n    }\n\n    // Only update the axisDimensions if something has changed\n    if (\n      !axisDimensions ||\n      !axisDimensions[position] ||\n      !axisDimensions[position][id] ||\n      Object.keys(newDimensions).some(key => {\n        return newDimensions[key] !== axisDimensions[position][id][key]\n      })\n    ) {\n      setChartState(state => ({\n        ...state,\n        axisDimensions: {\n          ...state.axisDimensions,\n          [position]: {\n            ...(state.axisDimensions[position] || {}),\n            [id]: newDimensions,\n          },\n        },\n      }))\n    }\n  }, [\n    axisDimensions,\n    gridHeight,\n    gridWidth,\n    id,\n    labelRotationStep,\n    maxLabelRotation,\n    maxTickCount,\n    minTickCount,\n    position,\n    rotation,\n    setChartState,\n    tickCount,\n    tickPadding,\n    tickSizeInner,\n    tickSizeOuter,\n    type,\n    vertical,\n  ])\n\n  const previousRotation = usePrevious(rotation)\n\n  // Measure after if needed\n  React.useLayoutEffect(() => {\n    if (previousRotation === rotation) {\n      measureDimensions()\n    }\n  }, [\n    axisDimensions,\n    id,\n    measureDimensions,\n    position,\n    previousRotation,\n    rotation,\n  ])\n\n  // Measure after if needed\n  React.useEffect(() => {\n    if (previousRotation !== rotation) {\n      measureDimensions()\n    }\n  }, [\n    axisDimensions,\n    id,\n    measureDimensions,\n    position,\n    previousRotation,\n    rotation,\n  ])\n\n  // Not ready? Render null\n  if (!show) {\n    return null\n  }\n\n  let axisPath\n  if (vertical) {\n    if (position === positionLeft) {\n      axisPath = `\n        M ${-tickSizeOuter}, ${range0}\n        H 0\n        V ${range1}\n        H ${-tickSizeOuter}\n      `\n    } else {\n      axisPath = `\n        M ${tickSizeOuter}, ${range0}\n        H 0\n        V ${range1}\n        H ${tickSizeOuter}\n      `\n    }\n  } else if (position === positionBottom) {\n    axisPath = `\n        M 0, ${tickSizeOuter}\n        V 0\n        H ${range1}\n        V ${tickSizeOuter}\n      `\n  } else {\n    axisPath = `\n        M 0, ${-tickSizeOuter}\n        V 0\n        H ${range1}\n        V ${-tickSizeOuter}\n              `\n  }\n\n  let showGridLine\n  if (typeof showGrid === 'boolean') {\n    showGridLine = showGrid\n  } else if (type === axisTypeOrdinal) {\n    showGridLine = false\n  } else {\n    showGridLine = true\n  }\n\n  // Combine default styles with style props\n  const axisStyles = {\n    ...defaultStyles,\n    ...styles,\n  }\n\n  return (\n    <Group\n      ref={elRef}\n      className=\"Axis\"\n      style={{\n        pointerEvents: 'none',\n        transform:\n          position === positionRight\n            ? Utils.translateX(gridWidth)\n            : position === positionBottom\n            ? Utils.translateY(gridHeight)\n            : undefined,\n      }}\n    >\n      <Path\n        className=\"domain\"\n        d={axisPath}\n        style={{\n          stroke: dark ? 'rgba(255,255,255, .1)' : 'rgba(0,0,0, .1)',\n          ...axisStyles.line,\n        }}\n      />\n      <Group className=\"ticks\" style={{}}>\n        {ticks.map((tick, i) => (\n          <Group\n            key={[String(tick), i].join('_')}\n            className=\"tick\"\n            style={{\n              transform: transform(scale(tick) || 0),\n            }}\n          >\n            {/* Render the grid line */}\n            {showGridLine && (\n              <Line\n                className=\"gridLine\"\n                x1={vertical ? 0 : gridOffset}\n                x2={vertical ? scaleMax : gridOffset}\n                y1={vertical ? gridOffset : 0}\n                y2={vertical ? gridOffset : scaleMax}\n                style={{\n                  stroke: dark ? 'rgba(255,255,255, .1)' : 'rgba(0,0,0, .1)',\n                  strokeWidth: 1,\n                  ...axisStyles.line,\n                }}\n              />\n            )}\n            {/* Render the tick line  */}\n            {showTicks ? (\n              <g className=\"labelGroup\">\n                <Line\n                  className=\"tickline\"\n                  x1={vertical ? 0 : tickOffset}\n                  x2={\n                    vertical ? directionMultiplier * tickSizeInner : tickOffset\n                  }\n                  y1={vertical ? tickOffset : 0}\n                  y2={\n                    vertical ? tickOffset : directionMultiplier * tickSizeInner\n                  }\n                  style={{\n                    stroke: dark ? 'rgba(255,255,255, .1)' : 'rgba(0,0,0, .1)',\n                    strokeWidth: 1,\n                    ...axisStyles.line,\n                  }}\n                />\n                <Text\n                  className=\"tickLabel\"\n                  style={{\n                    fill: dark ? 'white' : 'black',\n                    ...axisStyles.tick,\n                    transform: `${Utils.translate(\n                      vertical ? directionMultiplier * spacing : tickOffset,\n                      vertical ? tickOffset : directionMultiplier * spacing\n                    )} rotate(${-rotation}deg)`,\n                  }}\n                  dominantBaseline={\n                    rotation\n                      ? 'central'\n                      : position === positionBottom\n                      ? 'hanging'\n                      : position === positionTop\n                      ? 'alphabetic'\n                      : 'central'\n                  }\n                  textAnchor={\n                    rotation\n                      ? 'end'\n                      : position === positionRight\n                      ? 'start'\n                      : position === positionLeft\n                      ? 'end'\n                      : 'middle'\n                  }\n                >\n                  {format(tick, i)}\n                </Text>\n              </g>\n            ) : null}\n          </Group>\n        ))}\n      </Group>\n    </Group>\n  )\n}\n","import React from 'react'\n//\nimport AxisLinear from './AxisLinear'\n\nexport default function Axis(props) {\n  return <AxisLinear {...props} />\n}\n","import React from \"react\";\n//\nimport ChartContext from \"../utils/ChartContext\";\nimport Utils from \"../utils/Utils\";\n//\n\nconst triangleSize = 7;\n\nconst getBackgroundColor = dark =>\n  dark ? \"rgba(255,255,255,.9)\" : \"rgba(0, 26, 39, 0.9)\";\n\nexport default function Tooltip() {\n  const [chartState] = React.useContext(ChartContext);\n\n  const {\n    primaryAxes,\n    secondaryAxes,\n    gridX,\n    gridY,\n    gridWidth,\n    gridHeight,\n    dark,\n    focused,\n    latestFocused,\n    getDatumStyle,\n    tooltip\n  } = chartState;\n\n  const elRef = React.useRef();\n  const tooltipElRef = React.useRef();\n  const previousShowRef = React.useRef();\n\n  const {\n    align,\n    alignPriority,\n    padding,\n    tooltipArrowPadding,\n    //\n    arrowPosition,\n    render,\n    anchor,\n    show\n  } = tooltip || {};\n\n  const [finalAlign, setFinalAlign] = React.useState(align || \"auto\");\n\n  React.useEffect(\n    () => {\n      previousShowRef.current = show;\n    },\n    [show]\n  );\n\n  React.useLayoutEffect(\n    () => {\n      if (align !== \"auto\" || !elRef.current || !show || !anchor) {\n        return;\n      }\n\n      const space = {\n        left: Infinity,\n        top: Infinity,\n        right: Infinity,\n        bottom: Infinity\n      };\n\n      let container = elRef.current;\n      const gridDims = container.getBoundingClientRect();\n      const tooltipDims = tooltipElRef.current.getBoundingClientRect();\n\n      while (container !== document.body) {\n        container = container.parentElement;\n        const { overflowX, overflowY } = window.getComputedStyle(container);\n        if (\n          container === document.body ||\n          [overflowX, overflowY].find(d => [\"auto\", \"hidden\"].includes(d))\n        ) {\n          const containerDims = container.getBoundingClientRect();\n          const left = gridDims.left - containerDims.left + anchor.x;\n          const top = gridDims.top - containerDims.top + anchor.y;\n          const right = containerDims.width - left;\n          const bottom = containerDims.height - top;\n\n          space.left = Math.min(space.left, left);\n          space.top = Math.min(space.top, top);\n          space.right = Math.min(space.right, right);\n          space.bottom = Math.min(space.bottom, bottom);\n        }\n      }\n\n      let resolvedAlign = null;\n\n      alignPriority.forEach(priority => {\n        if (resolvedAlign) {\n          return;\n        }\n        const fits = {\n          left:\n            space.left -\n              tooltipArrowPadding -\n              padding -\n              anchor.horizontalPadding >\n            tooltipDims.width,\n          right:\n            space.right -\n              tooltipArrowPadding -\n              padding -\n              anchor.horizontalPadding >\n            tooltipDims.width,\n          top:\n            space.top - tooltipArrowPadding - padding - anchor.verticalPadding >\n              tooltipDims.height && space.left > tooltipDims.width / 2,\n          bottom:\n            space.bottom -\n              tooltipArrowPadding -\n              padding -\n              anchor.verticalPadding >\n            tooltipDims.height,\n          centeredFromLeft: space.left > tooltipDims.width / 2,\n          centeredFromRight: space.right > tooltipDims.width / 2,\n          centeredFromTop: space.top > tooltipDims.height / 2,\n          centeredFromBottom: space.bottom > tooltipDims.height / 2\n        };\n        if (priority === \"left\") {\n          if (fits.left && fits.centeredFromTop && fits.centeredFromBottom) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"right\") {\n          if (fits.right && fits.centeredFromTop && fits.centeredFromBottom) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"top\") {\n          if (fits.top && fits.centeredFromLeft && fits.centeredFromRight) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"bottom\") {\n          if (fits.bottom && fits.centeredFromLeft && fits.centeredFromRight) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"topLeft\") {\n          if (fits.top && fits.left) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"topRight\") {\n          if (fits.top && fits.right) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"bottomLeft\") {\n          if (fits.bottom && fits.left) {\n            resolvedAlign = priority;\n          }\n        } else if (priority === \"bottomRight\") {\n          if (fits.bottom && fits.right) {\n            resolvedAlign = priority;\n          }\n        }\n      });\n\n      if (resolvedAlign !== finalAlign) {\n        setFinalAlign(resolvedAlign);\n      }\n    },\n    [\n      align,\n      alignPriority,\n      anchor,\n      finalAlign,\n      padding,\n      show,\n      tooltipArrowPadding\n    ]\n  );\n\n  if (!tooltip) {\n    return null;\n  }\n\n  const resolvedFocused = focused || latestFocused;\n\n  let alignX = 0;\n  let alignY = -50;\n  let triangleStyles = {};\n\n  const backgroundColor = getBackgroundColor(dark);\n\n  let resolvedArrowPosition = arrowPosition;\n\n  if (finalAlign === \"top\") {\n    alignX = -50;\n    alignY = -100;\n  } else if (finalAlign === \"topRight\") {\n    alignX = 0;\n    alignY = -100;\n  } else if (finalAlign === \"right\") {\n    alignX = 0;\n    alignY = -50;\n  } else if (finalAlign === \"bottomRight\") {\n    alignX = 0;\n    alignY = 0;\n  } else if (finalAlign === \"bottom\") {\n    alignX = -50;\n    alignY = 0;\n  } else if (finalAlign === \"bottomLeft\") {\n    alignX = -100;\n    alignY = 0;\n  } else if (finalAlign === \"left\") {\n    alignX = -100;\n    alignY = -50;\n  } else if (finalAlign === \"topLeft\") {\n    alignX = -100;\n    alignY = -100;\n  } else if (finalAlign === \"center\") {\n    alignX = -50;\n    alignY = -50;\n  }\n\n  if (!resolvedArrowPosition) {\n    if (finalAlign === \"left\") {\n      resolvedArrowPosition = \"right\";\n    } else if (finalAlign === \"right\") {\n      resolvedArrowPosition = \"left\";\n    } else if (finalAlign === \"top\") {\n      resolvedArrowPosition = \"bottom\";\n    } else if (finalAlign === \"bottom\") {\n      resolvedArrowPosition = \"top\";\n    } else if (finalAlign === \"topRight\") {\n      resolvedArrowPosition = \"bottomLeft\";\n    } else if (finalAlign === \"bottomRight\") {\n      resolvedArrowPosition = \"topLeft\";\n    } else if (finalAlign === \"topLeft\") {\n      resolvedArrowPosition = \"bottomRight\";\n    } else if (finalAlign === \"bottomLeft\") {\n      resolvedArrowPosition = \"topRight\";\n    }\n  }\n\n  if (resolvedArrowPosition === \"bottom\") {\n    triangleStyles = {\n      top: \"100%\",\n      left: \"50%\",\n      transform: \"translate3d(-50%, 0%, 0)\",\n      borderLeft: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 0.8}px solid transparent`,\n      borderTop: `${triangleSize}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"top\") {\n    triangleStyles = {\n      top: \"0%\",\n      left: \"50%\",\n      transform: \"translate3d(-50%, -100%, 0)\",\n      borderLeft: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"right\") {\n    triangleStyles = {\n      top: \"50%\",\n      left: \"100%\",\n      transform: \"translate3d(0%, -50%, 0)\",\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderLeft: `${triangleSize}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"left\") {\n    triangleStyles = {\n      top: \"50%\",\n      left: \"0%\",\n      transform: \"translate3d(-100%, -50%, 0)\",\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"topRight\") {\n    triangleStyles = {\n      top: \"0%\",\n      left: \"100%\",\n      transform: \"translate3d(-50%, -50%, 0) rotate(-45deg)\",\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderLeft: `${triangleSize * 2}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"bottomRight\") {\n    triangleStyles = {\n      top: \"100%\",\n      left: \"100%\",\n      transform: \"translate3d(-50%, -50%, 0) rotate(45deg)\",\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderLeft: `${triangleSize * 2}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"topLeft\") {\n    triangleStyles = {\n      top: \"0%\",\n      left: \"0%\",\n      transform: \"translate3d(-50%, -50%, 0) rotate(45deg)\",\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 2}px solid ${backgroundColor}`\n    };\n  } else if (resolvedArrowPosition === \"bottomLeft\") {\n    triangleStyles = {\n      top: \"100%\",\n      left: \"0%\",\n      transform: \"translate3d(-50%, -50%, 0) rotate(-45deg)\",\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 2}px solid ${backgroundColor}`\n    };\n  } else {\n    triangleStyles = {\n      opacity: 0\n    };\n  }\n\n  const primaryAxis = Utils.getAxisByAxisID(\n    primaryAxes,\n    resolvedFocused ? resolvedFocused.series.primaryAxisID : null\n  );\n  const secondaryAxis = Utils.getAxisByAxisID(\n    secondaryAxes,\n    resolvedFocused ? resolvedFocused.series.secondaryAxisID : null\n  );\n\n  const resolvedHorizontalPadding = padding + anchor.horizontalPadding;\n  const resolvedVerticalPadding = padding + anchor.verticalPadding;\n\n  const renderProps = {\n    ...chartState,\n    ...chartState.tooltip,\n    datum: resolvedFocused,\n    getStyle: datum => datum.getStatusStyle(resolvedFocused, getDatumStyle),\n    primaryAxis,\n    secondaryAxis\n  };\n\n  const renderedChildren = React.createElement(render, renderProps);\n\n  let animateCoords;\n  if (previousShowRef.current === show) {\n    animateCoords = true;\n  }\n\n  return (\n    <div\n      className=\"tooltip-wrap\"\n      style={{\n        pointerEvents: \"none\",\n        position: \"absolute\",\n        left: `${gridX}px`,\n        top: `${gridY}px`,\n        width: `${gridWidth}px`,\n        height: `${gridHeight}px`,\n        opacity: show ? 1 : 0,\n        transition: \"all .3s ease\"\n      }}\n      ref={el => {\n        elRef.current = el;\n      }}\n    >\n      <div\n        style={{\n          position: \"absolute\",\n          left: 0,\n          top: 0,\n          transform: Utils.translate(anchor.x, anchor.y),\n          transition: animateCoords ? \"all .2s ease\" : \"opacity .2s ease\"\n        }}\n      >\n        <div\n          style={{\n            transform: `translate3d(${alignX}%, ${alignY}%, 0)`,\n            padding: `${tooltipArrowPadding +\n              resolvedVerticalPadding}px ${tooltipArrowPadding +\n              resolvedHorizontalPadding}px`,\n            width: \"auto\",\n            transition: \"all .2s ease\"\n          }}\n        >\n          <div\n            ref={el => {\n              tooltipElRef.current = el;\n            }}\n            style={{\n              fontSize: \"12px\",\n              padding: \"5px\",\n              background: getBackgroundColor(dark),\n              color: dark ? \"black\" : \"white\",\n              borderRadius: \"3px\",\n              position: \"relative\"\n            }}\n          >\n            <div\n              style={{\n                position: \"absolute\",\n                width: 0,\n                height: 0,\n                ...triangleStyles,\n                transition: animateCoords ? \"all .2s ease\" : \"none\"\n              }}\n            />\n            {renderedChildren}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\n//\nimport ChartContext from \"../utils/ChartContext\";\nimport Utils from \"../utils/Utils\";\n\nimport useLatest from \"../hooks/useLatest\";\n\nconst getLineBackgroundColor = dark =>\n  dark ? \"rgba(255,255,255,.3)\" : \"rgba(0, 26, 39, 0.3)\";\n\nconst getBackgroundColor = dark =>\n  dark ? \"rgba(255,255,255,.9)\" : \"rgba(0, 26, 39, 0.9)\";\n\nexport default function Cursor({ primary }) {\n  const [\n    {\n      primaryCursor,\n      secondaryCursor,\n      focused,\n      latestFocused,\n      gridX,\n      gridY,\n      dark\n    }\n  ] = React.useContext(ChartContext);\n\n  const resolvedFocused = focused || latestFocused;\n  const cursor = primary ? primaryCursor : secondaryCursor;\n\n  const {\n    showLine,\n    showLabel,\n    resolvedValue,\n    snap,\n    render,\n    axis,\n    siblingAxis,\n    resolvedShow\n  } = cursor || {};\n\n  const latestValue = useLatest(\n    resolvedValue,\n    typeof resolvedValue !== \"undefined\"\n  );\n\n  const previousShowRef = React.useRef();\n  React.useEffect(\n    () => {\n      previousShowRef.current = resolvedShow;\n    },\n    [resolvedShow]\n  );\n\n  if (!cursor) {\n    return null;\n  }\n\n  // Should we animate?\n  const animated = snap || axis.type === \"ordinal\";\n\n  // Get the sibling range\n  const siblingRange = siblingAxis.scale.range();\n\n  let x;\n  let y;\n  let x1;\n  let x2;\n  let y1;\n  let y2;\n  let alignPctX;\n  let alignPctY;\n\n  // Vertical alignment\n  if (axis.vertical) {\n    y = axis.scale(latestValue);\n    x1 = siblingRange[0];\n    x2 = siblingRange[1];\n    y1 = y - 1;\n    y2 = y + axis.cursorSize + 1;\n    if (axis.position === \"left\") {\n      alignPctX = -100;\n      alignPctY = -50;\n    } else {\n      alignPctX = 0;\n      alignPctY = -50;\n    }\n  } else {\n    x = axis.scale(latestValue);\n    x1 = x - 1;\n    x2 = x + axis.cursorSize + 1;\n    y1 = siblingRange[0];\n    y2 = siblingRange[1];\n    if (axis.position === \"top\") {\n      alignPctX = -500;\n      alignPctY = -100;\n    } else {\n      alignPctX = -50;\n      alignPctY = 0;\n    }\n  }\n\n  const renderProps = { ...cursor };\n\n  renderProps.formattedValue = String(\n    axis.vertical\n      ? typeof latestValue !== \"undefined\"\n        ? axis.format(\n            axis.stacked && !primary && resolvedFocused\n              ? resolvedFocused.totalValue\n              : latestValue\n          )\n        : \"\"\n      : typeof latestValue !== \"undefined\"\n      ? axis.format(\n          axis.stacked && !primary && resolvedFocused\n            ? resolvedFocused.totalValue\n            : latestValue\n        )\n      : \"\"\n  );\n\n  const lineStartX = Math.min(x1, x2);\n  const lineStartY = Math.min(y1, y2);\n  const lineEndX = Math.max(x1, x2);\n  const lineEndY = Math.max(y1, y2);\n  const bubbleX =\n    axis.vertical && axis.RTL\n      ? lineEndX\n      : x1 + (!axis.vertical ? (x2 - x1) / 2 : 0) + (!axis.vertical ? 1 : 0);\n  const bubbleY =\n    !axis.vertical && axis.RTL\n      ? lineStartY\n      : y1 + (axis.vertical ? (y2 - y1) / 2 : 0) + (axis.vertical ? 1 : 0);\n\n  const lineHeight = Math.max(lineEndY - lineStartY, 0);\n  const lineWidth = Math.max(lineEndX - lineStartX, 0);\n\n  let animateCoords;\n  if (previousShowRef.current === resolvedShow) {\n    animateCoords = true;\n  }\n\n  let renderedChildren = render(renderProps);\n\n  return (\n    <div\n      style={{\n        pointerEvents: \"none\",\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        transform: Utils.translate(gridX, gridY),\n        opacity: resolvedShow ? 1 : 0,\n        transition: \"all .3s ease\"\n      }}\n      className=\"Cursor\"\n    >\n      {/* Render the cursor line */}\n      {showLine ? (\n        <div\n          style={{\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            transform: Utils.translate(lineStartX, lineStartY),\n            width: `${lineWidth}px`,\n            height: `${lineHeight}px`,\n            background: getLineBackgroundColor(dark),\n            transition:\n              animated && animateCoords ? \"all .2s ease\" : \"opacity .2s ease\"\n          }}\n        />\n      ) : null}\n      {/* Render the cursor bubble */}\n      {showLabel ? (\n        <div\n          style={{\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            transform: Utils.translate(bubbleX, bubbleY),\n            transition:\n              animated && animateCoords ? \"all .2s ease\" : \"opacity .2s ease\"\n          }}\n        >\n          {/* Render the cursor label */}\n          <div\n            style={{\n              padding: \"5px\",\n              fontSize: \"10px\",\n              background: getBackgroundColor(dark),\n              color: getBackgroundColor(!dark),\n              borderRadius: \"3px\",\n              position: \"relative\",\n              transform: `translate3d(${alignPctX}%, ${alignPctY}%, 0)`,\n              whiteSpace: \"nowrap\"\n            }}\n          >\n            {renderedChildren}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","import React from 'react'\nimport Utils from '../utils/Utils'\n//\nimport ChartContext from '../utils/ChartContext'\n\nexport default function Brush() {\n  const [{ pointer, brush, gridX, gridY, gridHeight, dark }] = React.useContext(\n    ChartContext\n  )\n\n  if (!brush) {\n    return null\n  }\n\n  return (\n    <div\n      className=\"Brush\"\n      style={{\n        pointerEvents: 'none',\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        transform: Utils.translate(gridX, gridY),\n        opacity: pointer.dragging\n          ? Math.abs(pointer.sourceX - pointer.x) < 20\n            ? 0.5\n            : 1\n          : 0,\n      }}\n    >\n      <div\n        style={{\n          position: 'absolute',\n          transform: Utils.translate(Math.min(pointer.x, pointer.sourceX), 0),\n          width: `${Math.abs(pointer.x - pointer.sourceX)}px`,\n          height: `${gridHeight}px`,\n          background: dark ? 'rgba(255,255,255,.3)' : 'rgba(0, 26, 39, 0.3)',\n          ...brush.style,\n        }}\n      />\n    </div>\n  )\n}\n","import React from 'react'\n//\nimport Raf from '../utils/Raf'\nimport Utils from '../utils/Utils'\nimport ChartContext from '../utils/ChartContext'\n\nimport useIsomorphicLayoutEffect from '../hooks/useIsomorphicLayoutEffect'\n\nimport Rectangle from '../primitives/Rectangle'\n\nimport Voronoi from './Voronoi'\nimport Axis from './Axis'\nimport Tooltip from './Tooltip'\nimport Cursor from './Cursor'\nimport Brush from './Brush'\n\nexport default React.forwardRef(function ChartInner(\n  { className, style = {}, ...rest },\n  ref\n) {\n  const [chartState] = React.useContext(ChartContext)\n  const [\n    {\n      width,\n      height,\n      offset,\n      gridX,\n      gridY,\n      stackData,\n      primaryAxes,\n      secondaryAxes,\n      renderSVG,\n      onClick,\n      seriesOptions,\n      getSeriesOrder,\n      focused,\n    },\n    setChartState,\n  ] = React.useContext(ChartContext)\n\n  const svgRef = React.useRef()\n\n  React.useLayoutEffect(() => {\n    if (!svgRef.current) {\n      return\n    }\n    const current = svgRef.current.getBoundingClientRect()\n    if (current.left !== offset.left || current.top !== offset.top) {\n      setChartState(state => ({\n        ...state,\n        offset: {\n          left: current.left,\n          top: current.top,\n        },\n      }))\n    }\n  })\n\n  const onMouseLeave = e => {\n    setChartState(state => ({\n      ...state,\n      focused: null,\n    }))\n    setChartState(state => ({\n      ...state,\n      pointer: {\n        ...state.pointer,\n        active: false,\n      },\n    }))\n  }\n\n  const rafRef = React.useRef()\n\n  const onMouseMove = e => {\n    if (rafRef.current) {\n      Raf.cancel(rafRef.current)\n    }\n    rafRef.current = Raf(() => {\n      rafRef.current = null\n      const { clientX, clientY } = e\n\n      setChartState(state => {\n        const x = clientX - offset.left - gridX\n        const y = clientY - offset.top - gridY\n\n        const pointer = {\n          ...state.pointer,\n          active: true,\n          x,\n          y,\n          dragging: state.pointer && state.pointer.down,\n        }\n        return {\n          ...state,\n          pointer,\n        }\n      })\n    })\n  }\n\n  const onMouseUp = () => {\n    document.removeEventListener('mouseup', onMouseUp)\n    document.removeEventListener('mousemove', onMouseMove)\n\n    setChartState(state => ({\n      ...state,\n      pointer: {\n        ...state.pointer,\n        down: false,\n        dragging: false,\n        released: {\n          x: state.pointer.x,\n          y: state.pointer.y,\n        },\n      },\n    }))\n  }\n\n  const onMouseDown = () => {\n    document.addEventListener('mouseup', onMouseUp)\n    document.addEventListener('mousemove', onMouseMove)\n\n    setChartState(state => ({\n      ...state,\n      pointer: {\n        ...state.pointer,\n        sourceX: state.pointer.x,\n        sourceY: state.pointer.y,\n        down: true,\n      },\n    }))\n  }\n\n  // Reverse the stack order for proper z-indexing\n  const reversedStackData = [...stackData].reverse()\n  const orderedStackData = getSeriesOrder(reversedStackData)\n\n  const focusedSeriesIndex = focused\n    ? orderedStackData.findIndex(series => series.id === focused.series.id)\n    : -1\n\n  // Bring focused series to the front\n  const focusOrderedStackData = focused\n    ? [\n        ...orderedStackData.slice(0, focusedSeriesIndex),\n        ...orderedStackData.slice(focusedSeriesIndex + 1),\n        orderedStackData[focusedSeriesIndex],\n      ]\n    : orderedStackData\n\n  const stacks = focusOrderedStackData.map(stack => {\n    return (\n      <stack.Component\n        key={stack.id}\n        {...seriesOptions[stack.index]}\n        series={stack}\n        stackData={stackData}\n      />\n    )\n  })\n\n  useIsomorphicLayoutEffect(() => {\n    if (\n      ref.current &&\n      ref.current.parentElement &&\n      !ref.current.parentElement.style.position\n    ) {\n      ref.current.parentElement.style.position = 'relative'\n    }\n  })\n\n  return (\n    <div\n      ref={ref}\n      {...rest}\n      className={`ReactChart ${className || ''}`}\n      style={{\n        width,\n        height,\n        position: 'absolute',\n        ...style,\n      }}\n    >\n      <svg\n        ref={svgRef}\n        style={{\n          width,\n          height,\n          overflow: 'hidden',\n        }}\n        onMouseEnter={e => e.persist() || onMouseMove(e)}\n        onMouseMove={e => e.persist() || onMouseMove(e)}\n        onMouseLeave={e => e.persist() || onMouseLeave(e)}\n        onMouseDown={e => e.persist() || onMouseDown(e)}\n        onClick={onClick}\n      >\n        <g\n          style={{\n            transform: Utils.translate(gridX, gridY),\n          }}\n        >\n          <Rectangle\n            // To ensure the pointer always has something to hit\n            x1={-gridX}\n            x2={width - gridX}\n            y1={-gridY}\n            y2={height - gridY}\n            style={{\n              opacity: 0,\n            }}\n          />\n          <Voronoi />\n          <g className=\"axes\">\n            {[...primaryAxes, ...secondaryAxes].map(axis => (\n              <Axis key={axis.id} {...axis} />\n            ))}\n          </g>\n          <g\n            className=\"Series\"\n            style={{\n              pointerEvents: 'none',\n            }}\n          >\n            {stacks}\n          </g>\n        </g>\n        {renderSVG\n          ? renderSVG({\n              chartState,\n              setChartState,\n            })\n          : null}\n      </svg>\n      <Cursor primary />\n      <Cursor />\n      <Brush />\n      <Tooltip />\n    </div>\n  )\n})\n","import React from \"react\";\n//\nimport ChartContext from \"../utils/ChartContext\";\n\nexport default function useSeriesStyle(series) {\n  const [{ focused, getSeriesStyle }] = React.useContext(ChartContext);\n  return series.getStatusStyle(focused, getSeriesStyle);\n}\n","import React from \"react\";\n//\nimport ChartContext from \"../utils/ChartContext\";\n\nexport default function useDatumStyle(datum) {\n  const [{ focused, getDatumStyle }] = React.useContext(ChartContext);\n  return datum.getStatusStyle(focused, getDatumStyle);\n}\n","import React from 'react'\n//\n\nconst defaultStyle = {\n  r: 2,\n  strokeWidth: '1',\n  stroke: '#000000',\n  fill: '#000000',\n  opacity: 1,\n}\n\nexport default function Circle({ x, y, r, style, ...rest }) {\n  const resolvedStyle = {\n    ...defaultStyle,\n    ...style,\n  }\n\n  return (\n    <circle {...rest} cx={x || 0} cy={y || 0} r={1} style={resolvedStyle} />\n  )\n}\n","import React from 'react'\nimport { line } from '../../d3'\n\n//\nimport ChartContext from '../utils/ChartContext'\nimport Utils from '../utils/Utils'\nimport { curveMonotoneX } from '../utils/Curves'\n\nimport useSeriesStyle from '../hooks/useSeriesStyle'\nimport useDatumStyle from '../hooks/useDatumStyle'\n\nimport Path from '../primitives/Path'\nimport Circle from '../primitives/Circle'\n\nconst pathDefaultStyle = {\n  strokeWidth: 2,\n}\n\nconst circleDefaultStyle = {\n  r: 2,\n}\n\nexport default function Line({ series, showPoints, curve }) {\n  const lineFn = React.useMemo(\n    () =>\n      line()\n        .x(d => d.x)\n        .y(d => d.y)\n        .defined(d => d.defined)\n        .curve(curve),\n    [curve]\n  )\n  const path = React.useMemo(() => lineFn(series.datums), [\n    lineFn,\n    series.datums,\n  ])\n\n  const style = useSeriesStyle(series)\n\n  const pathProps = {\n    d: path,\n    style: {\n      ...pathDefaultStyle,\n      ...style,\n      ...style.line,\n      fill: 'none',\n    },\n  }\n\n  return (\n    <g>\n      <Path {...pathProps} />\n      {showPoints &&\n        series.datums.map((datum, i) => {\n          return (\n            <Point\n              {...{\n                key: i,\n                datum,\n                style,\n              }}\n            />\n          )\n        })}\n    </g>\n  )\n}\n\nLine.defaultProps = {\n  curve: curveMonotoneX,\n}\n\nLine.plotDatum = (datum, { primaryAxis, secondaryAxis, xAxis, yAxis }) => {\n  datum.primaryCoord = primaryAxis.scale(datum.primary)\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary)\n  datum.x = xAxis.scale(datum.xValue)\n  datum.y = yAxis.scale(datum.yValue)\n  datum.defined =\n    Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue)\n  datum.base = primaryAxis.vertical\n    ? xAxis.scale(datum.baseValue)\n    : yAxis.scale(datum.baseValue)\n\n  // Adjust non-bar elements for ordinal scales\n  if (xAxis.type === 'ordinal') {\n    datum.x += xAxis.tickOffset\n  }\n  if (yAxis.type === 'ordinal') {\n    datum.y += yAxis.tickOffset\n  }\n\n  // Set the default anchor point\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n  }\n\n  // Set the pointer points (used in voronoi)\n  datum.boundingPoints = [datum.anchor]\n}\n\nLine.buildStyles = (series, { defaultColors }) => {\n  const defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)],\n  }\n\n  Utils.buildStyleGetters(series, defaults)\n}\n\nfunction Point({ datum, style }) {\n  const [, setChartState] = React.useContext(ChartContext)\n\n  const dataStyle = useDatumStyle(datum)\n\n  const circleProps = {\n    x: datum ? datum.x : undefined,\n    y: datum ? datum.y : undefined,\n    style: {\n      ...circleDefaultStyle,\n      ...style,\n      ...style.circle,\n      ...dataStyle,\n      ...dataStyle.circle,\n    },\n    onMouseEnter: React.useCallback(\n      e =>\n        setChartState(state => ({\n          ...state,\n          element: datum,\n        })),\n      [datum, setChartState]\n    ),\n    onMouseLeave: React.useCallback(\n      e =>\n        setChartState(state => ({\n          ...state,\n          element: null,\n        })),\n      [setChartState]\n    ),\n  }\n\n  if (!datum.defined) {\n    return null\n  }\n\n  return <Circle {...circleProps} />\n}\n","import React from 'react'\n//\n\nimport ChartContext from '../utils/ChartContext'\nimport Utils from '../utils/Utils'\n\nimport useSeriesStyle from '../hooks/useSeriesStyle'\nimport useDatumStyle from '../hooks/useDatumStyle'\n\nimport Circle from '../primitives/Circle'\n\nconst circleDefaultStyle = {\n  r: 2,\n}\n\nexport default function Bubble({ series }) {\n  const style = useSeriesStyle(series)\n\n  return (\n    <g>\n      {series.datums.map((datum, i) => {\n        return (\n          <Point\n            {...{\n              key: i,\n              datum,\n              style,\n            }}\n          />\n        )\n      })}\n    </g>\n  )\n}\n\nBubble.plotDatum = (datum, { primaryAxis, secondaryAxis, xAxis, yAxis }) => {\n  datum.primaryCoord = primaryAxis.scale(datum.primary)\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary)\n  datum.x = xAxis.scale(datum.xValue)\n  datum.y = yAxis.scale(datum.yValue)\n  datum.defined =\n    Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue)\n  datum.base = primaryAxis.vertical\n    ? xAxis.scale(datum.baseValue)\n    : yAxis.scale(datum.baseValue)\n  // Adjust non-bar elements for ordinal scales\n  if (xAxis.type === 'ordinal') {\n    datum.x += xAxis.tickOffset\n  }\n  if (yAxis.type === 'ordinal') {\n    datum.y += yAxis.tickOffset\n  }\n\n  // Set the default anchor point\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n    verticalPadding: datum.r,\n    horizontalPadding: datum.r,\n  }\n\n  // Set the pointer points (used in voronoi)\n  datum.boundingPoints = [datum.anchor]\n}\n\nBubble.buildStyles = (series, { defaultColors }) => {\n  const defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)],\n  }\n\n  Utils.buildStyleGetters(series, defaults)\n}\n\nfunction Point({ datum, style }) {\n  const dataStyle = useDatumStyle(datum)\n  const [, setChartState] = React.useContext(ChartContext)\n\n  const circleProps = {\n    x: datum ? datum.x : undefined,\n    y: datum ? datum.y : undefined,\n    style: {\n      ...circleDefaultStyle,\n      ...(typeof datum.r !== 'undefined'\n        ? {\n            r: datum.r,\n          }\n        : {}),\n      ...style,\n      ...style.circle,\n      ...dataStyle,\n      ...dataStyle.circle,\n    },\n    onMouseEnter: React.useCallback(\n      e =>\n        setChartState(state => ({\n          ...state,\n          element: datum,\n        })),\n      [datum, setChartState]\n    ),\n    onMouseLeave: React.useCallback(\n      e =>\n        setChartState(state => ({\n          ...state,\n          element: null,\n        })),\n      [setChartState]\n    ),\n  }\n\n  if (!datum.defined) {\n    return null\n  }\n  return <Circle {...circleProps} />\n}\n","import React from 'react'\nimport { area, line } from '../../d3'\n//\n\nimport ChartContext from '../utils/ChartContext'\nimport Utils from '../utils/Utils'\nimport { curveLinear } from '../utils/Curves'\n\nimport useSeriesStyle from '../hooks/useSeriesStyle'\nimport useDatumStyle from '../hooks/useDatumStyle'\n\nimport Path from '../primitives/Path'\nimport Line from '../primitives/Line'\nimport Circle from '../primitives/Circle'\n\nconst defaultAreaStyle = {\n  strokeWidth: 0,\n}\n\nconst defaultLineStyle = {\n  strokeWidth: 2,\n}\n\nconst circleDefaultStyle = {\n  r: 1.5,\n}\n\nexport default function Area({ series, showOrphans, showPoints, curve }) {\n  const areaFn = React.useMemo(\n    () =>\n      area()\n        .x(d => d.x)\n        .y0(d => d.base)\n        .y1(d => d.y)\n        .defined(d => d.defined)\n        .curve(curve),\n    [curve]\n  )\n\n  const lineFn = React.useMemo(\n    () =>\n      line()\n        .x(d => d.x)\n        .y(d => d.y)\n        .defined(d => d.defined)\n        .curve(curve),\n    [curve]\n  )\n\n  const areaPath = React.useMemo(() => areaFn(series.datums), [\n    areaFn,\n    series.datums,\n  ])\n\n  const linePath = React.useMemo(() => lineFn(series.datums), [\n    lineFn,\n    series.datums,\n  ])\n\n  const style = useSeriesStyle(series)\n\n  const areaPathProps = {\n    d: areaPath,\n    style: {\n      ...defaultAreaStyle,\n      ...style,\n      ...style.area,\n    },\n  }\n\n  const linePathProps = {\n    d: linePath,\n    style: {\n      ...defaultLineStyle,\n      ...style,\n      ...style.line,\n      fill: 'none',\n    },\n  }\n\n  return (\n    <g>\n      <Path {...areaPathProps} />\n      <Path {...linePathProps} />\n      {showOrphans &&\n        series.datums.map((datum, index, all) => {\n          return (\n            <OrphanLine\n              {...{\n                key: index,\n                datum,\n                style,\n                all,\n                index,\n              }}\n            />\n          )\n        })}\n      {showPoints &&\n        series.datums.map((datum, i) => {\n          return (\n            <Point\n              {...{\n                key: i,\n                datum,\n                style,\n              }}\n            />\n          )\n        })}\n    </g>\n  )\n}\n\nArea.defaultProps = {\n  showOrphans: true,\n  showLine: true,\n  showPoints: true,\n  curve: curveLinear,\n}\n\nArea.plotDatum = (datum, { primaryAxis, secondaryAxis, xAxis, yAxis }) => {\n  // Turn clamping on for secondaryAxis\n  secondaryAxis.scale.clamp(true)\n\n  datum.primaryCoord = primaryAxis.scale(datum.primary)\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary)\n  datum.x = xAxis.scale(datum.xValue)\n  datum.y = yAxis.scale(datum.yValue)\n  datum.defined =\n    Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue)\n  datum.base = primaryAxis.vertical\n    ? xAxis.scale(datum.baseValue)\n    : yAxis.scale(datum.baseValue)\n\n  // Turn clamping back off for secondaryAxis\n  secondaryAxis.scale.clamp(false)\n\n  // Adjust non-bar elements for ordinal scales\n  if (xAxis.type === 'ordinal') {\n    datum.x += xAxis.tickOffset\n  }\n  if (yAxis.type === 'ordinal') {\n    datum.y += yAxis.tickOffset\n  }\n\n  // Set the default anchor point\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n  }\n\n  // Set the pointer points (used in voronoi)\n  datum.boundingPoints = [\n    datum.anchor,\n    {\n      x: primaryAxis.vertical\n        ? primaryAxis.position === 'left'\n          ? datum.base - 1\n          : datum.base\n        : datum.anchor.x,\n      y: !primaryAxis.vertical\n        ? primaryAxis.position === 'bottom'\n          ? datum.base - 1\n          : datum.base\n        : datum.anchor.y,\n    },\n  ]\n}\n\nArea.buildStyles = (series, { defaultColors }) => {\n  const defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)],\n  }\n\n  Utils.buildStyleGetters(series, defaults)\n}\n\nconst OrphanLine = function OrphanLine({ datum, style, all, index }) {\n  const prev = all[index - 1] || { defined: false }\n  const next = all[index + 1] || { defined: false }\n\n  const dataStyle = useDatumStyle(datum)\n\n  const lineProps = {\n    x1: !datum || Number.isNaN(datum.x) ? null : datum.x,\n    y1: !datum || Number.isNaN(datum.base) ? null : datum.base,\n    x2: !datum || Number.isNaN(datum.x) ? null : datum.x,\n    y2: !datum || Number.isNaN(datum.y) ? null : datum.y,\n    style: {\n      ...defaultLineStyle,\n      ...style,\n      ...style.line,\n      ...dataStyle,\n      ...dataStyle.line,\n    },\n  }\n\n  if (!datum.defined || prev.defined || next.defined) {\n    return null\n  }\n\n  return <Line {...lineProps} />\n}\n\nfunction Point({ datum, style }) {\n  const [, setChartState] = React.useContext(ChartContext)\n\n  const dataStyle = useDatumStyle(datum)\n\n  const circleProps = {\n    x: datum ? datum.x : undefined,\n    y: datum ? datum.y : undefined,\n    style: {\n      ...circleDefaultStyle,\n      ...style,\n      ...style.circle,\n      ...dataStyle,\n      ...dataStyle.circle,\n    },\n    onMouseEnter: React.useCallback(\n      e =>\n        setChartState(state => ({\n          ...state,\n          element: datum,\n        })),\n      [datum, setChartState]\n    ),\n    onMouseLeave: React.useCallback(\n      e =>\n        setChartState(state => ({\n          ...state,\n          element: null,\n        })),\n      [setChartState]\n    ),\n  }\n\n  if (!datum.defined) {\n    return null\n  }\n\n  return <Circle {...circleProps} />\n}\n","import React from 'react'\n//\nimport ChartContext from '../utils/ChartContext'\nimport Utils from '../utils/Utils'\n\nimport useSeriesStyle from '../hooks/useSeriesStyle'\nimport useDatumStyle from '../hooks/useDatumStyle'\n\nimport Rectangle from '../primitives/Rectangle'\n\nexport default function Bar({ series }) {\n  const [{ primaryAxes }] = React.useContext(ChartContext)\n\n  const style = useSeriesStyle(series)\n\n  const { barOffset } = series.primaryAxisID\n    ? primaryAxes.find(d => d.id === series.primaryAxisID)\n    : primaryAxes[0]\n\n  return (\n    <g className=\"series bar\">\n      {series.datums.map((datum, i) => {\n        return (\n          <BarPiece\n            key={i}\n            {...{\n              datum,\n              barOffset,\n              style,\n            }}\n          />\n        )\n      })}\n    </g>\n  )\n}\n\nfunction BarPiece({ datum, barOffset, style }) {\n  const [{ primaryAxes }, setChartState] = React.useContext(ChartContext)\n\n  const x = datum ? datum.x : 0\n  const y = datum ? datum.y : 0\n  const base = datum ? datum.base : 0\n  const size = datum ? datum.size : 0\n  let x1\n  let y1\n  let x2\n  let y2\n  if (primaryAxes.find(d => d.vertical)) {\n    x1 = base\n    x2 = x\n    y1 = y + barOffset\n    y2 = y1 + size\n  } else {\n    x1 = x + barOffset\n    x2 = x1 + size\n    y1 = y\n    y2 = base\n  }\n\n  const dataStyle = useDatumStyle(datum)\n\n  const rectangleProps = {\n    style: {\n      pointerEvents: 'all',\n      ...style,\n      ...style.rectangle,\n      ...dataStyle,\n      ...dataStyle.rectangle,\n    },\n    x1: Number.isNaN(x1) ? null : x1,\n    y1: Number.isNaN(y1) ? null : y1,\n    x2: Number.isNaN(x2) ? null : x2,\n    y2: Number.isNaN(y2) ? null : y2,\n    onMouseEnter: React.useCallback(\n      e =>\n        setChartState(state => ({\n          ...state,\n          element: datum,\n        })),\n      [datum, setChartState]\n    ),\n    onMouseLeave: React.useCallback(\n      e =>\n        setChartState(state => ({\n          ...state,\n          element: null,\n        })),\n      [setChartState]\n    ),\n  }\n\n  return <Rectangle {...rectangleProps} />\n}\n\nBar.plotDatum = (datum, { xAxis, yAxis, primaryAxis, secondaryAxis }) => {\n  // Turn clamping on for secondaryAxis\n  secondaryAxis.scale.clamp(true)\n\n  datum.primaryCoord = primaryAxis.scale(datum.primary)\n  datum.secondaryCoord = secondaryAxis.scale(datum.secondary)\n  datum.x = xAxis.scale(datum.xValue)\n  datum.y = yAxis.scale(datum.yValue)\n  datum.defined =\n    Utils.isValidPoint(datum.xValue) && Utils.isValidPoint(datum.yValue)\n  datum.base = secondaryAxis.scale(datum.baseValue)\n  datum.size = primaryAxis.barSize\n\n  // Turn clamping back off for secondaryAxis\n  secondaryAxis.scale.clamp(false)\n\n  if (!secondaryAxis.stacked) {\n    datum.size = primaryAxis.seriesBarSize\n    // Use the seriesTypeIndex here in case we have mixed types.\n    const seriesBandScaleOffset = primaryAxis.seriesBandScale(\n      datum.seriesTypeIndex\n    )\n    if (secondaryAxis.vertical) {\n      datum.x += seriesBandScaleOffset\n    } else {\n      datum.y += seriesBandScaleOffset\n    }\n  }\n\n  // Set the default anchor point\n  datum.anchor = {\n    x: datum.x,\n    y: datum.y,\n    horizontalPadding: secondaryAxis.vertical ? datum.size / 2 : 0,\n    verticalPadding: secondaryAxis.vertical ? 0 : datum.size / 2,\n  }\n\n  // Adjust the anchor point for bars\n  if (!primaryAxis.vertical) {\n    datum.anchor.x += primaryAxis.type !== 'ordinal' ? 0 : datum.size / 2\n  } else {\n    datum.anchor.y += primaryAxis.type !== 'ordinal' ? 0 : datum.size / 2\n  }\n\n  // Set the pointer points (used in voronoi)\n  datum.boundingPoints = [\n    // End of bar\n    datum.anchor,\n    // Start of bar\n    {\n      x: primaryAxis.vertical\n        ? primaryAxis.position === 'left'\n          ? datum.base + 1\n          : datum.base\n        : datum.anchor.x,\n      y: !primaryAxis.vertical\n        ? primaryAxis.position === 'bottom'\n          ? datum.base - 1\n          : datum.base\n        : datum.anchor.y,\n    },\n  ]\n}\n\nBar.buildStyles = (series, { defaultColors }) => {\n  const defaults = {\n    // Pass some sane defaults\n    color: defaultColors[series.index % (defaultColors.length - 1)],\n  }\n\n  Utils.buildStyleGetters(series, defaults)\n}\n","import React from 'react'\n//\n\nimport { curveMonotoneX } from '../../utils/Curves'\n\nimport Line from '../../seriesTypes/Line'\nimport Bubble from '../../seriesTypes/Bubble'\nimport Area from '../../seriesTypes/Area'\nimport Bar from '../../seriesTypes/Bar'\n\nconst seriesTypes = {\n  line: Line,\n  bubble: Bubble,\n  area: Area,\n  bar: Bar,\n  // pie: Pie\n}\n\nconst defaultSeries = {\n  type: 'line',\n  showPoints: true,\n  showOrphans: true,\n  curve: curveMonotoneX,\n}\n\nexport default ({ materializedData, series }) => {\n  return React.useMemo(\n    () =>\n      materializedData.map((s, seriesIndex) => {\n        const { type, ...rest } = {\n          ...defaultSeries,\n          ...(typeof series === 'function' ? series(s, seriesIndex) : series),\n        }\n        const renderer = seriesTypes[type]\n        if (!renderer) {\n          throw new Error(`Could not find a registered series type for ${type}`)\n        }\n        return {\n          ...rest,\n          type,\n          renderer,\n        }\n      }),\n    [materializedData, series]\n  )\n}\n","import { scaleLinear, scaleLog, scaleTime, scaleUtc, scaleBand } from '../../d3'\n//\nimport {\n  positionTop,\n  positionRight,\n  positionBottom,\n  positionLeft,\n  axisTypeOrdinal,\n  axisTypeTime,\n  axisTypeUtc,\n  axisTypeLinear,\n  axisTypeLog,\n} from '../utils/Constants.js'\nimport Utils from '../utils/Utils'\n\nimport Bar from '../seriesTypes/Bar'\n\nconst scales = {\n  [axisTypeLinear]: scaleLinear,\n  [axisTypeLog]: scaleLog,\n  [axisTypeTime]: scaleTime,\n  [axisTypeUtc]: scaleUtc,\n  [axisTypeOrdinal]: scaleBand,\n}\n\nconst detectVertical = d => [positionLeft, positionRight].indexOf(d) > -1\nconst detectRTL = d => [positionTop, positionRight].indexOf(d) > -1\n\nexport default function buildAxisLinear({\n  axis: {\n    primary,\n    type,\n    invert,\n    position,\n    primaryAxisID,\n    min: userMin = undefined,\n    max: userMax = undefined,\n    hardMin = undefined,\n    hardMax = undefined,\n    base = undefined,\n    tickCount = 'auto',\n    minTickCount = 0,\n    maxTickCount = Infinity,\n    tickValues = null,\n    format: userFormat = null,\n    tickSizeInner = 6,\n    tickSizeOuter = 6,\n    tickPadding = 14,\n    maxLabelRotation = 50,\n    labelRotationStep = 5,\n    innerPadding = 0.2,\n    outerPadding = 0.1,\n    showGrid = null,\n    showTicks = true,\n    show = true,\n    stacked = false,\n    id: userID,\n  },\n  materializedData,\n  gridHeight,\n  gridWidth,\n  axisDimensions,\n}) {\n  if (!position) {\n    throw new Error(`Chart axes must have a valid 'position' property`)\n  }\n  // Detect some settings\n  const valueKey = primary ? 'primary' : 'secondary'\n  const groupKey = !primary && 'primary'\n  const AxisIDKey = `${valueKey}AxisID`\n  const vertical = detectVertical(position)\n  const RTL = detectRTL(position) // Right to left OR top to bottom\n\n  const id = userID || `${position}_${type}`\n\n  // TODO: Any sorting needs to happen here, else the min/max's might not line up correctly\n\n  // First we need to find unique values, min/max values and negative/positive totals\n  const uniqueVals = []\n  let min\n  let max\n  let negativeTotalByKey = {}\n  let positiveTotalByKey = {}\n  let domain\n\n  // const axisDimension =\n  //   axisDimensions && axisDimensions[position] && axisDimensions[position][id]\n\n  // Loop through each series\n  for (\n    let seriesIndex = 0;\n    seriesIndex < materializedData.length;\n    seriesIndex++\n  ) {\n    if (\n      materializedData[seriesIndex][AxisIDKey] &&\n      materializedData[seriesIndex][AxisIDKey] !== id\n    ) {\n      continue\n    }\n    // Loop through each datum\n    for (\n      let datumIndex = 0;\n      datumIndex < materializedData[seriesIndex].datums.length;\n      datumIndex++\n    ) {\n      const datum = materializedData[seriesIndex].datums[datumIndex]\n      let value\n      const key = groupKey ? datum[groupKey] : datumIndex\n      // For ordinal scales, unique the values\n      if (type === axisTypeOrdinal) {\n        if (uniqueVals.indexOf() === -1) {\n          uniqueVals.push(\n            materializedData[seriesIndex].datums[datumIndex][valueKey]\n          )\n        }\n      } else if (type === axisTypeTime || type === axisTypeUtc) {\n        value = +datum[valueKey]\n      } else {\n        value = datum[valueKey]\n      }\n\n      // Add to stack total\n      if (stacked) {\n        if (value > 0) {\n          positiveTotalByKey[key] =\n            typeof positiveTotalByKey[key] !== 'undefined'\n              ? positiveTotalByKey[key] + value\n              : value\n        } else {\n          negativeTotalByKey[key] =\n            typeof negativeTotalByKey[key] !== 'undefined'\n              ? negativeTotalByKey[key] + value\n              : value\n        }\n      } else {\n        // Find min/max\n        min = typeof min !== 'undefined' ? Math.min(min, value) : value\n        max = typeof max !== 'undefined' ? Math.max(max, value) : value\n      }\n    }\n  }\n\n  if (type === axisTypeOrdinal) {\n    domain = uniqueVals\n  } else if (stacked) {\n    domain = [\n      Math.min(0, ...Object.values(negativeTotalByKey)),\n      Math.max(0, ...Object.values(positiveTotalByKey)),\n    ]\n  } else {\n    domain = [min, max]\n  }\n\n  // Now we need to figure out the range\n  let range = [0, vertical ? gridHeight : gridWidth] // axes by default read from top to bottom and left to right\n  if (vertical && !primary) {\n    // Vertical secondary ranges get inverted by default\n    range.reverse()\n  }\n\n  // Give the scale a home\n  let scale\n\n  // If this is an ordinal or other primary axis, it needs to be able to display bars.\n  let bandScale\n  let barSize = 0\n  let cursorSize = 0\n  let stepSize = 0\n\n  let seriesBandScale = d => d\n  let seriesBarSize = 1\n\n  if (type === axisTypeOrdinal || primary) {\n    // Calculate a band axis that is similar and pass down the bandwidth\n    // just in case.\n    bandScale = scaleBand()\n      .domain(\n        materializedData\n          .reduce(\n            (prev, current) =>\n              current.datums.length > prev.length ? current.datums : prev,\n            []\n          )\n          .map(d => d.primary)\n      )\n      .rangeRound(range, 0.1)\n      .padding(0)\n\n    bandScale.paddingOuter(outerPadding).paddingInner(innerPadding)\n    barSize = bandScale.bandwidth()\n\n    if (type === axisTypeOrdinal) {\n      cursorSize = barSize\n    }\n\n    // barSize = bandScale.bandwidth()\n    stepSize = bandScale.step()\n\n    // Create a seriesBandScale in case this axis isn't stacked\n    seriesBandScale = scaleBand()\n      .paddingInner(innerPadding / 2)\n      .domain(\n        materializedData.filter(d => d.Component === Bar).map((d, i) => i)\n      )\n      .rangeRound([0, barSize])\n\n    seriesBarSize = seriesBandScale.bandwidth()\n  }\n\n  if (type === axisTypeOrdinal) {\n    // If it's ordinal, just assign the bandScale we made\n    scale = bandScale\n  } else {\n    // Otherwise, create a new scale of the appropriate type\n    scale = scales[type]()\n  }\n\n  // Set base, min, and max\n  if (typeof base === 'number') {\n    domain[0] = Math.min(domain[0], base)\n    domain[1] = Math.max(domain[1], base)\n  }\n  if (typeof defaultMin === 'number') {\n    domain[0] = Math.min(domain[0], userMin)\n  }\n  if (typeof defaultMax === 'number') {\n    domain[1] = Math.max(domain[1], userMax)\n  }\n\n  // Set the domain\n  scale.domain(domain)\n\n  // If we're not using an ordinal scale, round the ticks to \"nice\" values\n  if (type !== axisTypeOrdinal) {\n    scale.nice()\n  }\n\n  // If hard min and max are set, override any \"nice\" rounding values\n  if (typeof hardMin === 'number') {\n    scale.domain([hardMin, scale.domain()[1]])\n  }\n  if (typeof hardMax === 'number') {\n    scale.domain([scale.domain()[0], hardMax])\n  }\n\n  // Invert if necessary\n  if (invert) {\n    scale.domain([...scale.domain()].reverse())\n  }\n\n  // Now set the range\n  scale.range(range)\n\n  const scaleFormat = scale.tickFormat ? scale.tickFormat() : Utils.identity\n\n  const format = userFormat\n    ? (value, index) => userFormat(value, index, scaleFormat(value))\n    : scaleFormat\n\n  // Pass down the axis config (including the scale itself) for posterity\n  const axis = {\n    id,\n    primary,\n    type,\n    invert,\n    position,\n    primaryAxisID,\n    hardMin,\n    hardMax,\n    base,\n    tickCount,\n    minTickCount,\n    maxTickCount,\n    tickValues,\n    tickSizeInner,\n    tickSizeOuter,\n    tickPadding,\n    maxLabelRotation,\n    labelRotationStep,\n    innerPadding,\n    outerPadding,\n    showGrid,\n    showTicks,\n    show,\n    stacked,\n    scale,\n    uniqueVals,\n    vertical,\n    RTL,\n    barSize,\n    cursorSize,\n    stepSize,\n    seriesBandScale,\n    seriesBarSize,\n    domain,\n    range,\n    max:\n      position === positionBottom\n        ? -gridHeight\n        : position === positionLeft\n        ? gridWidth\n        : position === positionTop\n        ? gridHeight\n        : -gridWidth,\n    directionMultiplier:\n      position === positionTop || position === positionLeft ? -1 : 1,\n    transform: !vertical ? Utils.translateX : Utils.translateY,\n    ticks:\n      tickValues || scale.ticks\n        ? scale\n            .ticks\n            // tickCount === 'auto'\n            //   ? axisDimension\n            //     ? axisDimension.tickCount\n            //     : 10\n            //   : tickCount\n            ()\n        : scale.domain(),\n    format,\n    spacing: Math.max(tickSizeInner, 0) + tickPadding,\n  }\n\n  if (type === axisTypeOrdinal) {\n    axis.gridOffset = -(axis.stepSize * innerPadding) / 2\n    axis.tickOffset = axis.barSize / 2\n    axis.barOffset = 0\n  } else {\n    axis.tickOffset = 0\n    axis.barOffset = -axis.barSize / 2\n  }\n\n  return axis\n}\n","// import buildAxisPie from './buildAxis.pie'\nimport buildAxisLinear from \"./buildAxis.linear\";\n\nexport default function(config) {\n  // if (config.type === 'pie') {\n  // return buildAxisPie(config)\n  // }\n  return buildAxisLinear(config);\n}\n","import React from 'react'\n//\nimport buildAxis from '../../utils/buildAxis'\n\nexport default ({\n  axes,\n  materializedData,\n  gridHeight,\n  gridWidth,\n  axisDimensions,\n}) => {\n  // Detect axes changes and build axes\n  let prePrimaryAxes = axes.filter(d => d.primary)\n  let preSecondaryAxes = axes.filter(d => !d.primary)\n\n  const primaryAxesHashes = JSON.stringify(prePrimaryAxes)\n  const secondaryAxesHashes = JSON.stringify(preSecondaryAxes)\n\n  // Calculate primary axes\n  const primaryAxes = React.useMemo(\n    () => {\n      return prePrimaryAxes.map((axis, i) => {\n        return buildAxis({\n          axis,\n          materializedData,\n          gridWidth,\n          gridHeight,\n          axisDimensions,\n        })\n      })\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [primaryAxesHashes, materializedData, gridHeight, gridWidth]\n  )\n  // Calculate secondary axes\n  const secondaryAxes = React.useMemo(\n    () => {\n      return preSecondaryAxes.map((axis, i) => {\n        return buildAxis({\n          axis,\n          primaryAxes,\n          materializedData,\n          gridWidth,\n          gridHeight,\n          axisDimensions,\n        })\n      })\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [secondaryAxesHashes, materializedData, gridHeight, gridWidth]\n  )\n\n  // Make sure we're mapping x and y to the correct axes\n  const xKey = primaryAxes.find(d => d.vertical) ? 'secondary' : 'primary'\n  const yKey = primaryAxes.find(d => d.vertical) ? 'primary' : 'secondary'\n  const xAxes = primaryAxes.find(d => d.vertical) ? secondaryAxes : primaryAxes\n  const yAxes = primaryAxes.find(d => d.vertical) ? primaryAxes : secondaryAxes\n\n  return {\n    primaryAxes,\n    secondaryAxes,\n    xKey,\n    yKey,\n    xAxes,\n    yAxes,\n  }\n}\n","import React from 'react'\n//\nimport Utils from '../../utils/Utils'\n\nimport {\n  groupingSingle,\n  groupingSeries,\n  groupingPrimary,\n  groupingSecondary,\n} from '../../utils/Constants'\n\nconst defaultColors = [\n  '#ff3465',\n  '#ff5454',\n  '#ff7b3e',\n  '#FAA43A',\n  '#ffd000',\n  '#C8DE2B',\n  '#97d114',\n  '#34ce70',\n  '#3cada4',\n  '#14b4d3',\n  '#048cd4',\n  '#3447f1',\n  '#734fe9',\n  '#cd82ad',\n  '#c63b89',\n]\n\nexport default ({\n  materializedData,\n  primaryAxes,\n  secondaryAxes,\n  yAxes,\n  yKey,\n  xAxes,\n  xKey,\n  grouping,\n}) => {\n  // Make stackData\n  return React.useMemo(() => {\n    // We need materializedData and both axes to continue\n    if (!primaryAxes.length || !secondaryAxes.length) {\n      throw new Error('A primary and secondary axis is required!')\n    }\n\n    // If the axes are ready, let's decorate the materializedData for visual plotting\n    // \"totals\" are kept per secondaryAxis and used for bases if secondaryAxis stacking is enabled\n    const scaleTotals = secondaryAxes.map(() => ({}))\n    materializedData.forEach(series => {\n      const axisIndex = Utils.getAxisIndexByAxisID(\n        secondaryAxes,\n        series.secondaryAxisID\n      )\n      series.datums.forEach(datum => {\n        scaleTotals[axisIndex][datum.primary] = {\n          negative: 0,\n          positive: 0,\n        }\n      })\n    })\n\n    // Determine the correct primary and secondary values for each axis\n    // Also calculate bases and totals if either axis is stacked\n    let stackData = materializedData.map(series => {\n      const primaryAxisIndex = Utils.getAxisIndexByAxisID(\n        primaryAxes,\n        series.primaryAxisID\n      )\n      const primaryAxis = primaryAxes[primaryAxisIndex]\n      const secondaryAxisIndex = Utils.getAxisIndexByAxisID(\n        secondaryAxes,\n        series.secondaryAxisID\n      )\n      const secondaryAxis = secondaryAxes[secondaryAxisIndex]\n      return {\n        ...series,\n        primaryAxis,\n        secondaryAxis,\n        datums: series.datums.map(d => {\n          const datum = {\n            ...d,\n            primaryAxis,\n            secondaryAxis,\n            xValue: d[xKey],\n            yValue: d[yKey],\n            baseValue: 0,\n          }\n          if (secondaryAxis.stacked) {\n            const start = scaleTotals[secondaryAxisIndex][d.primary]\n            // Stack the x or y values (according to axis positioning)\n            if (primaryAxis.vertical) {\n              // Is this a valid point?\n              const validPoint = Utils.isValidPoint(datum.xValue)\n              // Should we use positive or negative base?\n              const totalKey = datum.xValue >= 0 ? 'positive' : 'negative'\n              // Assign the base\n              datum.baseValue = start[totalKey]\n              // Add the value for a total\n              datum.totalValue =\n                datum.baseValue + (validPoint ? datum.xValue : 0)\n              // Update the totals\n              scaleTotals[secondaryAxisIndex][d.primary][totalKey] =\n                datum.totalValue\n              // Make the total the new value\n              datum.xValue = validPoint ? datum.totalValue : null\n            } else {\n              // Is this a valid point?\n              const validPoint = Utils.isValidPoint(datum.yValue)\n              // Should we use positive or negative base?\n              const totalKey = datum.yValue >= 0 ? 'positive' : 'negative'\n              // Assign the base\n              datum.baseValue = start[totalKey]\n              // Add the value to the base\n              datum.totalValue =\n                datum.baseValue + (validPoint ? datum.yValue : 0)\n              // Update the totals\n              scaleTotals[secondaryAxisIndex][d.primary][totalKey] =\n                datum.totalValue\n              // Make the total the new value\n              datum.yValue = validPoint ? datum.totalValue : null\n            }\n          }\n          return datum\n        }),\n      }\n    })\n\n    stackData.forEach(series => {\n      series.datums.forEach(datum => {\n        datum.series = series\n      })\n    })\n\n    // Use the plotDatum method on each series\n    stackData.forEach((series, i) => {\n      if (!series.Component.plotDatum) {\n        throw new Error(\n          `Could not find a [SeriesType].plotDatum() static method for the series Component above (index: ${i})`\n        )\n      }\n\n      const primaryAxisIndex = Utils.getAxisIndexByAxisID(\n        primaryAxes,\n        series.primaryAxisID\n      )\n      const secondaryAxisIndex = Utils.getAxisIndexByAxisID(\n        secondaryAxes,\n        series.secondaryAxisID\n      )\n\n      const primaryAxis = primaryAxes[primaryAxisIndex]\n      const secondaryAxis = secondaryAxes[secondaryAxisIndex]\n\n      const xAxisIndex = Utils.getAxisIndexByAxisID(\n        xAxes,\n        series[`${xKey}AxisID`]\n      )\n      const yAxisIndex = Utils.getAxisIndexByAxisID(\n        yAxes,\n        series[`${yKey}AxisID`]\n      )\n\n      const xAxis = xAxes[xAxisIndex]\n      const yAxis = yAxes[yAxisIndex]\n\n      series.datums = series.datums.map(d => {\n        // Data for cartesian charts\n        const result = series.Component.plotDatum(d, {\n          primaryAxis,\n          secondaryAxis,\n          xAxis,\n          yAxis,\n        })\n\n        return result || d\n      })\n    })\n\n    // Do any data grouping ahead of time using\n    if ([groupingSingle, groupingSeries].includes(grouping)) {\n      for (let seriesIndex = 0; seriesIndex < stackData.length; seriesIndex++) {\n        const series = stackData[seriesIndex]\n        for (\n          let datumIndex = 0;\n          datumIndex < series.datums.length;\n          datumIndex++\n        ) {\n          const datum = series.datums[datumIndex]\n          datum.group =\n            grouping === groupingSeries ? datum.series.datums : [datum]\n        }\n      }\n    } else if ([groupingPrimary, groupingSecondary].includes(grouping)) {\n      const datumsByGrouping = {}\n\n      for (let seriesIndex = 0; seriesIndex < stackData.length; seriesIndex++) {\n        const series = stackData[seriesIndex]\n\n        for (\n          let datumIndex = 0;\n          datumIndex < series.datums.length;\n          datumIndex++\n        ) {\n          const datum = series.datums[datumIndex]\n          if (!datum.defined) {\n            continue\n          }\n          const axisKey = String(\n            grouping === groupingPrimary ? datum.primary : datum.secondary\n          )\n\n          datumsByGrouping[axisKey] = datumsByGrouping[axisKey] || []\n          datumsByGrouping[axisKey].push(datum)\n        }\n      }\n\n      for (let seriesIndex = 0; seriesIndex < stackData.length; seriesIndex++) {\n        const series = stackData[seriesIndex]\n        for (\n          let datumIndex = 0;\n          datumIndex < series.datums.length;\n          datumIndex++\n        ) {\n          const datum = series.datums[datumIndex]\n          const axisKey = String(\n            grouping === groupingPrimary ? datum.primary : datum.secondary\n          )\n\n          datum.group = datumsByGrouping[axisKey]\n        }\n      }\n    }\n\n    // Not we need to precalculate all of the possible status styles by\n    // calling the seemingly 'live' getSeriesStyle, and getDatumStyle callbacks ;)\n    stackData = stackData.map((series, i) => {\n      if (!series.Component.buildStyles) {\n        throw new Error(\n          `Could not find a SeriesType.buildStyles() static method for the series Component above (index: ${i})`\n        )\n      }\n      const result = series.Component.buildStyles(series, {\n        defaultColors,\n      })\n\n      return result || series\n    })\n\n    return stackData\n  }, [\n    primaryAxes,\n    secondaryAxes,\n    materializedData,\n    grouping,\n    xKey,\n    yKey,\n    xAxes,\n    yAxes,\n  ])\n}\n","import React from 'react'\n//\n//\nimport {\n  groupingSeries,\n  groupingPrimary,\n  groupingSecondary,\n} from '../utils/Constants'\n\nconst showCount = 10\n\nfunction getSecondaryFormatter(datum, formatSecondary) {\n  return (\n    formatSecondary ||\n    datum.secondaryAxis.format ||\n    (val => (Math.floor(val) < val ? Math.round(val * 100) / 100 : val))\n  )\n}\n\nexport default function TooltipRenderer(props) {\n  const {\n    datum,\n    grouping,\n    primaryAxis,\n    secondaryAxis,\n    formatSecondary,\n    formatTertiary,\n    getStyle,\n    dark,\n    tooltip,\n  } = props\n\n  if (!datum) {\n    return null\n  }\n\n  const resolvedFormatTertiary =\n    formatTertiary ||\n    (val => (Math.floor(val) < val ? Math.round(val * 100) / 100 : val))\n\n  const sortedGroupDatums = [...datum.group].sort((a, b) => {\n    if (\n      (!primaryAxis.stacked && grouping === groupingSeries) ||\n      grouping === groupingSecondary\n    ) {\n      if (a.primaryCoord > b.primaryCoord) {\n        return -1\n      } else if (a.primaryCoord < b.primaryCoord) {\n        return 1\n      }\n    } else if (!secondaryAxis.stacked) {\n      if (a.secondaryCoord > b.secondaryCoord) {\n        return -1\n      } else if (a.secondaryCoord < b.secondaryCoord) {\n        return 1\n      }\n    }\n    return a.seriesIndex > b.seriesIndex ? 1 : -1\n  })\n\n  if (grouping === groupingPrimary) {\n    sortedGroupDatums.reverse()\n  }\n\n  if (secondaryAxis.invert) {\n    sortedGroupDatums.reverse()\n  }\n\n  if (tooltip.invert) {\n    sortedGroupDatums.reverse()\n  }\n\n  const resolvedShowCount = showCount % 2 === 0 ? showCount : showCount + 1\n  const length = sortedGroupDatums.length\n\n  // Get the focused series' index\n  const activeIndex = sortedGroupDatums.findIndex(d => d === datum)\n  // Get the start by going back half of the showCount\n  let start = activeIndex > -1 ? activeIndex - resolvedShowCount / 2 : 0\n  // Make sure it's at least 0\n  start = Math.max(start, 0)\n  // Use the start and add the showCount to get the end\n  let end = activeIndex > -1 ? start + resolvedShowCount : length\n  // Don't let the end go passed the length\n  end = Math.min(end, length)\n  // Double check we aren't clipping the start\n  start = Math.max(end - resolvedShowCount, 0)\n  // Slice the datums by start and end\n  const visibleSortedGroupDatums = sortedGroupDatums.slice(start, end)\n  // Detect if we have previous items\n  const hasPrevious = start > 0\n  // Or next items\n  const hasNext = end < length\n\n  return (\n    <div>\n      <div\n        style={{\n          marginBottom: '3px',\n          textAlign: 'center',\n        }}\n      >\n        {grouping === groupingSeries ? (\n          <strong>{datum.seriesLabel}</strong>\n        ) : grouping === groupingSecondary ? (\n          <strong>{datum.secondaryAxis.format(datum.secondary)}</strong>\n        ) : (\n          <strong>{datum.primaryAxis.format(datum.primary)}</strong>\n        )}\n      </div>\n      <table\n        style={{\n          whiteSpace: 'nowrap',\n        }}\n      >\n        <tbody>\n          {hasPrevious ? (\n            <tr\n              style={{\n                opacity: 0.8,\n              }}\n            >\n              <td />\n              <td>...</td>\n              <td />\n            </tr>\n          ) : null}\n          {visibleSortedGroupDatums.map((sortedDatum, i) => {\n            const active = sortedDatum === datum\n            const resolvedSecondaryFormat = getSecondaryFormatter(\n              sortedDatum,\n              formatSecondary\n            )\n\n            return (\n              <tr\n                key={i}\n                style={{\n                  opacity: active ? 1 : 0.8,\n                  fontWeight: active && 'bold',\n                }}\n              >\n                <td\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    marginRight: '5px',\n                  }}\n                >\n                  <svg width=\"16\" height=\"16\">\n                    <circle\n                      cx=\"8\"\n                      cy=\"8\"\n                      r=\"7\"\n                      style={{\n                        ...getStyle(sortedDatum),\n                        stroke: dark ? 'black' : 'white',\n                        strokeWidth: active ? 2 : 1,\n                      }}\n                    />\n                  </svg>\n                </td>\n                {grouping === groupingSeries ? (\n                  <React.Fragment>\n                    <td>{primaryAxis.format(sortedDatum.primary)}: &nbsp;</td>\n                    <td\n                      style={{\n                        textAlign: 'right',\n                      }}\n                    >\n                      {resolvedSecondaryFormat(sortedDatum.secondary)}\n                      {sortedDatum.r\n                        ? ` (${resolvedFormatTertiary(sortedDatum.r)})`\n                        : null}\n                    </td>\n                  </React.Fragment>\n                ) : grouping === groupingSecondary ? (\n                  <React.Fragment>\n                    <td>{sortedDatum.seriesLabel}: &nbsp;</td>\n                    <td\n                      style={{\n                        textAlign: 'right',\n                      }}\n                    >\n                      {primaryAxis.format(sortedDatum.primary)}\n                      {sortedDatum.r\n                        ? ` (${resolvedFormatTertiary(sortedDatum.r)})`\n                        : null}\n                    </td>\n                  </React.Fragment>\n                ) : (\n                  <React.Fragment>\n                    <td>{sortedDatum.seriesLabel}: &nbsp;</td>\n                    <td\n                      style={{\n                        textAlign: 'right',\n                      }}\n                    >\n                      {resolvedSecondaryFormat(sortedDatum.secondary)}\n                      {sortedDatum.r\n                        ? ` (${resolvedFormatTertiary(sortedDatum.r)})`\n                        : null}\n                    </td>\n                  </React.Fragment>\n                )}\n              </tr>\n            )\n          })}\n          {hasNext ? (\n            <tr\n              style={{\n                opacity: 0.8,\n              }}\n            >\n              <td />\n              <td>...</td>\n              <td />\n            </tr>\n          ) : null}\n          {secondaryAxis && secondaryAxis.stacked && datum.group.length > 1 ? (\n            <tr>\n              <td\n                style={{\n                  paddingTop: '5px',\n                }}\n              >\n                <div\n                  style={{\n                    width: '12px',\n                    height: '12px',\n                    backgroundColor: dark\n                      ? 'rgba(0, 26, 39, 0.3)'\n                      : 'rgba(255,255,255,.2)',\n                    borderRadius: '50px',\n                  }}\n                />\n              </td>\n              <td\n                style={{\n                  paddingTop: '5px',\n                }}\n              >\n                Total: &nbsp;\n              </td>\n              <td\n                style={{\n                  paddingTop: '5px',\n                }}\n              >\n                {secondaryAxis.format([...datum.group].reverse()[0].totalValue)}\n              </td>\n            </tr>\n          ) : null}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n","import React from 'react'\n//\nimport Utils from '../../utils/Utils'\n\nimport TooltipRenderer from '../TooltipRenderer'\n\nimport {\n  alignAuto,\n  alignRight,\n  alignTopRight,\n  alignBottomRight,\n  alignLeft,\n  alignTopLeft,\n  alignBottomLeft,\n  alignTop,\n  alignBottom,\n} from '../../utils/Constants'\n\nexport default ({ focused, tooltip, pointer, gridWidth, gridHeight }) => {\n  return React.useMemo(() => {\n    if (!tooltip) {\n      return null\n    }\n    // Default tooltip props\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    tooltip = {\n      align: alignAuto,\n      alignPriority: [\n        alignRight,\n        alignTopRight,\n        alignBottomRight,\n        alignLeft,\n        alignTopLeft,\n        alignBottomLeft,\n        alignTop,\n        alignBottom,\n      ],\n      padding: 5,\n      tooltipArrowPadding: 7,\n      anchor: 'closest',\n      render: TooltipRenderer,\n      onChange: () => {},\n      ...tooltip,\n    }\n    let anchor = {}\n    let show = true\n\n    // If there is a focused datum, default the focus to its x and y\n    if (focused) {\n      anchor = focused.anchor\n    } else {\n      show = false\n    }\n\n    if (tooltip.anchor === 'pointer') {\n      // Support pointer-bound focus\n      anchor = pointer\n    } else if (tooltip.anchor === 'closest') {\n      // Do nothing, this is already calculated\n    } else if (focused) {\n      // Support manual definition of focus point using relative multiFocus strategy\n      const multiFocus = Array.isArray(tooltip.anchor)\n        ? [...tooltip.anchor]\n        : [tooltip.anchor]\n      anchor = Utils.getMultiAnchor({\n        anchor: multiFocus,\n        points: focused.group,\n        gridWidth,\n        gridHeight,\n      })\n    }\n\n    anchor = anchor\n      ? {\n          horizontalPadding: anchor.horizontalPadding || 0,\n          verticalPadding: anchor.verticalPadding || 0,\n          ...anchor,\n        }\n      : anchor\n\n    return {\n      ...tooltip,\n      anchor,\n      show,\n    }\n  }, [focused, gridHeight, gridWidth, pointer, tooltip])\n}\n","import React from 'react'\n\nimport Utils from '../../utils/Utils'\n\nconst defaultCursorProps = {\n  render: ({ formattedValue }) => <span>{formattedValue}</span>,\n  snap: true,\n  showLine: true,\n  showLabel: true,\n  axisID: undefined,\n  onChange: () => {},\n}\n\nexport default ({\n  primaryCursor,\n  secondaryCursor,\n  primaryAxes,\n  secondaryAxes,\n  focused,\n  pointer,\n  gridWidth,\n  gridHeight,\n  stackData,\n}) => {\n  return [primaryCursor, secondaryCursor].map((cursor, i) => {\n    const cursorValue = cursor && cursor.value\n\n    return React.useMemo(() => {\n      if (!cursor) {\n        return\n      }\n      const primary = i === 0\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      cursor = {\n        ...defaultCursorProps,\n        ...cursor,\n        primary,\n      }\n\n      let value\n      let show = false\n\n      // Determine the axis to use\n      const axis = Utils.getAxisByAxisID(\n        primary ? primaryAxes : secondaryAxes,\n        cursor.axisID || focused\n          ? focused.series[primary ? 'primaryAxisID' : 'secondaryAxisID']\n          : undefined\n      )\n\n      const siblingAxis = primary ? secondaryAxes[0] : primaryAxes[0]\n\n      // Resolve the invert function\n      const invert = axis.scale.invert || (d => d)\n\n      // If the pointer is active, try to show\n      if (pointer.active) {\n        // Default to cursor x and y\n        let x = pointer.x\n        let y = pointer.y\n        // If the cursor isn't in the grid, don't display\n        if (x < -1 || x > gridWidth + 1 || y < -1 || y > gridHeight + 1) {\n          show = false\n        } else {\n          show = true\n        }\n\n        // Implement snapping\n        if (axis.type === 'ordinal' || cursor.snap) {\n          if (!focused) {\n            show = false\n          } else {\n            if (axis.vertical) {\n              value = focused.yValue\n            } else {\n              value = focused.xValue\n            }\n          }\n        } else if (axis.vertical) {\n          value = invert(y)\n        } else {\n          value = invert(x)\n        }\n      } else {\n        show = false\n      }\n\n      let resolvedShow = show\n      let resolvedValue = value\n\n      if (typeof cursor.value !== 'undefined' && cursor.value !== null) {\n        resolvedValue = cursor.value\n\n        if (typeof cursor.show !== 'undefined') {\n          resolvedShow = cursor.show\n        } else {\n          resolvedShow = true\n        }\n\n        if (typeof axis.scale(resolvedValue) === 'undefined') {\n          resolvedShow = false\n        }\n      }\n\n      return {\n        ...cursor,\n        axis,\n        siblingAxis,\n        show,\n        value,\n        resolvedShow,\n        resolvedValue,\n      }\n    }, [stackData, pointer, cursorValue])\n  })\n}\n","import React from 'react'\n//\nimport ChartContext from '../utils/ChartContext'\nimport Utils from '../utils/Utils'\n\nimport useHyperResponsive from '../hooks/useHyperResponsive'\nimport useLatestRef from '../hooks/useLatestRef'\nimport useLatest from '../hooks/useLatest'\nimport usePrevious from '../hooks/usePrevious'\n\nimport ChartInner from './ChartInner'\n\nimport useMaterializeData from './pipeline/useMaterializeData'\nimport useSeriesOptions from './pipeline/useSeriesOptions'\nimport useSeriesTypes from './pipeline/useSeriesTypes'\nimport useDimensions from './pipeline/useDimensions'\nimport useAxes from './pipeline/useAxes'\nimport useStackData from './pipeline/useStackData'\nimport useTooltip from './pipeline/useTooltip'\nimport useCursors from './pipeline/useCursors'\n\nimport {\n  groupingPrimary,\n  focusAuto,\n  focusElement,\n  focusClosest,\n} from '../utils/Constants'\n\nconst defaultProps = {\n  getDatums: d => (Array.isArray(d) ? d : d.datums || d.data),\n  getLabel: (d, i) => d.label || `Series ${i + 1}`,\n  getSeriesID: (d, i) => i,\n  getPrimary: d => (Array.isArray(d) ? d[0] : d.primary || d.x),\n  getSecondary: d => (Array.isArray(d) ? d[1] : d.secondary || d.y),\n  getR: d => (Array.isArray(d) ? d[2] : d.radius || d.r),\n  getPrimaryAxisID: s => s.primaryAxisID,\n  getSecondaryAxisID: s => s.secondaryAxisID,\n  getSeriesStyle: () => ({}),\n  getDatumStyle: () => ({}),\n  getSeriesOrder: d => d,\n  onHover: () => {},\n  grouping: groupingPrimary,\n  focus: focusAuto,\n  showVoronoi: false,\n}\n\nexport default function Chart({\n  data,\n  grouping,\n  focus,\n  showVoronoi,\n  dark,\n  series,\n  axes,\n  primaryCursor,\n  secondaryCursor,\n  tooltip,\n  brush,\n  renderSVG,\n  getDatums,\n  getLabel,\n  getSeriesID,\n  getPrimary,\n  getSecondary,\n  getR,\n  getPrimaryAxisID,\n  getSecondaryAxisID,\n  getSeriesStyle: getSeriesStyleOriginal,\n  getDatumStyle,\n  onClick,\n  onFocus,\n  onHover,\n  getSeriesOrder,\n  ...rest\n}) {\n  let [\n    { focused, element, axisDimensions, offset: offsetState, padding, pointer },\n    setChartState,\n  ] = React.useState({\n    focused: null,\n    element: null,\n    axisDimensions: {},\n    padding: {},\n    offset: {},\n    pointer: {},\n  })\n\n  const onClickRef = useLatestRef(onClick)\n  const onFocusRef = useLatestRef(onFocus)\n  const onHoverRef = useLatestRef(onHover)\n\n  const responsiveElRef = React.useRef()\n  const { width, height } = useHyperResponsive(responsiveElRef)\n\n  getSeriesID = React.useCallback(Utils.normalizeGetter(getSeriesID), [\n    getSeriesID,\n  ])\n  getLabel = React.useCallback(Utils.normalizeGetter(getLabel), [getLabel])\n  getPrimaryAxisID = React.useCallback(\n    Utils.normalizeGetter(getPrimaryAxisID),\n    [getPrimaryAxisID]\n  )\n  getSecondaryAxisID = React.useCallback(\n    Utils.normalizeGetter(getSecondaryAxisID),\n    [getSecondaryAxisID]\n  )\n  getDatums = React.useCallback(Utils.normalizeGetter(getDatums), [getDatums])\n  getPrimary = React.useCallback(Utils.normalizeGetter(getPrimary), [\n    getPrimary,\n  ])\n  getSecondary = React.useCallback(Utils.normalizeGetter(getSecondary), [\n    getSecondary,\n  ])\n  getR = React.useCallback(Utils.normalizeGetter(getR), [getR])\n\n  let materializedData = useMaterializeData({\n    data,\n    getSeriesID,\n    getLabel,\n    getPrimaryAxisID,\n    getSecondaryAxisID,\n    getDatums,\n    getPrimary,\n    getSecondary,\n    getR,\n  })\n\n  const seriesOptions = useSeriesOptions({\n    materializedData,\n    series,\n  })\n\n  materializedData = useSeriesTypes({\n    materializedData,\n    seriesOptions,\n  })\n\n  const { offset, gridX, gridY, gridWidth, gridHeight } = useDimensions({\n    width,\n    height,\n    axisDimensions,\n    padding,\n    offset: offsetState,\n  })\n\n  const { primaryAxes, secondaryAxes, xKey, yKey, xAxes, yAxes } = useAxes({\n    axes,\n    materializedData,\n    gridHeight,\n    gridWidth,\n    axisDimensions,\n  })\n\n  const stackData = useStackData({\n    materializedData,\n    primaryAxes,\n    secondaryAxes,\n    yAxes,\n    yKey,\n    xAxes,\n    xKey,\n    grouping,\n  })\n\n  pointer = React.useMemo(() => {\n    return {\n      ...pointer,\n      axisValues: [...primaryAxes, ...secondaryAxes].map(axis => ({\n        axis,\n        value: axis.scale.invert\n          ? axis.scale.invert(pointer[axis.vertical ? 'y' : 'x'])\n          : null,\n      })),\n    }\n  }, [pointer, primaryAxes, secondaryAxes])\n\n  focused = React.useMemo(() => {\n    // Get the closest focus datum out of the datum group\n    if (focused || element) {\n      let resolvedFocus = focus\n\n      if (focus === focusAuto) {\n        if (element) {\n          resolvedFocus = focusElement\n        } else {\n          resolvedFocus = focusClosest\n        }\n      }\n\n      if (resolvedFocus === focusElement && element) {\n        return element\n      } else if (resolvedFocus === focusClosest) {\n        return Utils.getClosestPoint(pointer, focused.group)\n      }\n    }\n    return null\n  }, [element, focus, focused, pointer])\n\n  // keep the previous focused value around for animations\n  const latestFocused = useLatest(focused, focused)\n\n  // Calculate Tooltip\n  tooltip = useTooltip({\n    focused,\n    tooltip,\n    pointer,\n    gridWidth,\n    gridHeight,\n  })\n\n  // Cursors\n  ;[primaryCursor, secondaryCursor] = useCursors({\n    primaryCursor,\n    secondaryCursor,\n    primaryAxes,\n    secondaryAxes,\n    focused,\n    pointer,\n    gridWidth,\n    gridHeight,\n    stackData,\n  })\n\n  React.useEffect(() => {\n    if (onFocusRef.current) {\n      onFocusRef.current(focused)\n    }\n  }, [onFocusRef, focused])\n\n  React.useEffect(() => {\n    if (onHoverRef.current) {\n      onHoverRef.current(pointer)\n    }\n  }, [onHoverRef, pointer])\n\n  const previousDragging = usePrevious(pointer.dragging)\n\n  React.useEffect(() => {\n    if (brush && previousDragging && !pointer.dragging) {\n      if (Math.abs(pointer.sourceX - pointer.x) < 20) {\n        return\n      }\n      brush.onSelect({\n        pointer: pointer.released,\n        start: primaryAxes[0].scale.invert(pointer.sourceX),\n        end: primaryAxes[0].scale.invert(pointer.x),\n      })\n    }\n  }, [\n    brush,\n    pointer,\n    pointer.released,\n    pointer.sourceX,\n    pointer.x,\n    previousDragging,\n    primaryAxes,\n  ])\n\n  const getSeriesStyle = React.useCallback(\n    (series, ...args) => ({\n      color: series.originalSeries.color,\n      ...getSeriesStyleOriginal(series, ...args),\n    }),\n    [getSeriesStyleOriginal]\n  )\n\n  // Decorate the chartState with computed values (or ones we just\n  // want to pass down through context)\n  const chartState = React.useMemo(\n    () => ({\n      focused,\n      latestFocused,\n      pointer,\n      tooltip,\n      axisDimensions,\n      offset,\n      padding,\n      width,\n      height,\n      brush,\n      grouping,\n      showVoronoi,\n      materializedData,\n      stackData,\n      primaryAxes,\n      secondaryAxes,\n      primaryCursor,\n      secondaryCursor,\n      gridX,\n      gridY,\n      gridWidth,\n      gridHeight,\n      dark,\n      renderSVG,\n      xKey,\n      yKey,\n      xAxes,\n      yAxes,\n      onClickRef,\n      getSeriesStyle,\n      getDatumStyle,\n      seriesOptions,\n      getSeriesOrder,\n    }),\n    [\n      axisDimensions,\n      brush,\n      dark,\n      focused,\n      getDatumStyle,\n      getSeriesOrder,\n      getSeriesStyle,\n      gridHeight,\n      gridWidth,\n      gridX,\n      gridY,\n      grouping,\n      height,\n      latestFocused,\n      materializedData,\n      offset,\n      onClickRef,\n      padding,\n      pointer,\n      primaryAxes,\n      primaryCursor,\n      renderSVG,\n      secondaryAxes,\n      secondaryCursor,\n      seriesOptions,\n      showVoronoi,\n      stackData,\n      tooltip,\n      width,\n      xAxes,\n      xKey,\n      yAxes,\n      yKey,\n    ]\n  )\n\n  const chartStateContextValue = React.useMemo(\n    () => [chartState, setChartState],\n    [chartState, setChartState]\n  )\n\n  return (\n    <ChartContext.Provider value={chartStateContextValue}>\n      <ChartInner\n        ref={responsiveElRef}\n        {...rest}\n        onClick={e => {\n          if (onClickRef.current) {\n            onClickRef.current(focused)\n          }\n        }}\n      />\n    </ChartContext.Provider>\n  )\n}\n\nChart.defaultProps = defaultProps\n","import React from 'react'\n//\n\nexport default ({\n  data,\n  getSeriesID,\n  getLabel,\n  getPrimaryAxisID,\n  getSecondaryAxisID,\n  getDatums,\n  getPrimary,\n  getSecondary,\n  getR\n}) => {\n  return React.useMemo(() => {\n    const materializedData = []\n\n    // First access the data, and provide it to the context\n    for (let seriesIndex = 0; seriesIndex < data.length; seriesIndex++) {\n      const originalSeries = data[seriesIndex]\n      const seriesID = getSeriesID(originalSeries, seriesIndex, data)\n      const seriesLabel = getLabel(originalSeries, seriesIndex, data)\n      const primaryAxisID = getPrimaryAxisID(originalSeries, seriesIndex, data)\n      const secondaryAxisID = getSecondaryAxisID(\n        originalSeries,\n        seriesIndex,\n        data\n      )\n      const originalDatums = getDatums(originalSeries, seriesIndex, data)\n      const datums = []\n\n      for (\n        let datumIndex = 0;\n        datumIndex < originalDatums.length;\n        datumIndex++\n      ) {\n        const originalDatum = originalDatums[datumIndex]\n        datums[datumIndex] = {\n          originalSeries,\n          seriesIndex,\n          seriesID,\n          seriesLabel,\n          index: datumIndex,\n          originalDatum,\n          primary: getPrimary(\n            originalDatum,\n            datumIndex,\n            originalSeries,\n            seriesIndex,\n            data\n          ),\n          secondary: getSecondary(\n            originalDatum,\n            datumIndex,\n            originalSeries,\n            seriesIndex,\n            data\n          ),\n          r: getR(originalDatum, datumIndex, originalSeries, seriesIndex, data)\n        }\n      }\n\n      materializedData[seriesIndex] = {\n        originalSeries,\n        index: seriesIndex,\n        id: seriesID,\n        label: seriesLabel,\n        primaryAxisID,\n        secondaryAxisID,\n        datums\n      }\n    }\n\n    return materializedData\n  }, [\n    data,\n    getDatums,\n    getLabel,\n    getPrimary,\n    getPrimaryAxisID,\n    getR,\n    getSecondary,\n    getSecondaryAxisID,\n    getSeriesID\n  ])\n}\n","import React from 'react'\n\nexport default ({ materializedData, seriesOptions }) =>\n  React.useMemo(() => {\n    return materializedData\n      .map((series, i) => {\n        series.Component = seriesOptions[i].renderer\n        return series\n      })\n      .map((series, i, all) => {\n        const seriesTypeIndex = all.filter(\n          (d, j) => j < i && d.Component === series.Component\n        ).length\n        return {\n          ...series,\n          seriesTypeIndex,\n          datums: series.datums.map(datum => ({\n            ...datum,\n            seriesTypeIndex\n          }))\n        }\n      })\n  }, [materializedData, seriesOptions])\n","import React from 'react'\n\nimport Utils from '../../utils/Utils'\n\nexport default ({ width, height, axisDimensions, padding, offset }) => {\n  offset = React.useMemo(() => {\n    return {\n      left: offset.left || 0,\n      top: offset.top || 0\n    }\n  }, [offset])\n\n  const { gridX, gridY, gridWidth, gridHeight } = React.useMemo(() => {\n    // Left\n    const axesLeftWidth =\n      (axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'width')) || 0\n    const axesLeftTop =\n      (axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'top')) || 0\n    const axesLeftBottom =\n      (axisDimensions.left && Utils.sumObjBy(axisDimensions.left, 'bottom')) ||\n      0\n\n    // Right\n    const axesRightWidth =\n      (axisDimensions.right && Utils.sumObjBy(axisDimensions.right, 'width')) ||\n      0\n    const axesRightTop =\n      (axisDimensions.right && Utils.sumObjBy(axisDimensions.right, 'top')) || 0\n    const axesRightBottom =\n      (axisDimensions.right &&\n        Utils.sumObjBy(axisDimensions.right, 'bottom')) ||\n      0\n\n    // Top\n    const axesTopHeight =\n      (axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'height')) || 0\n    const axesTopLeft =\n      (axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'left')) || 0\n    const axesTopRight =\n      (axisDimensions.top && Utils.sumObjBy(axisDimensions.top, 'right')) || 0\n\n    // Bottom\n    const axesBottomHeight =\n      (axisDimensions.bottom &&\n        Utils.sumObjBy(axisDimensions.bottom, 'height')) ||\n      0\n    const axesBottomLeft =\n      (axisDimensions.bottom &&\n        Utils.sumObjBy(axisDimensions.bottom, 'left')) ||\n      0\n    const axesBottomRight =\n      (axisDimensions.bottom &&\n        Utils.sumObjBy(axisDimensions.bottom, 'right')) ||\n      0\n\n    const paddingLeft = padding.left || 0\n    const paddingRight = padding.right || 0\n    const paddingTop = padding.top || 0\n    const paddingBottom = padding.bottom || 0\n\n    const gridX =\n      paddingLeft + Math.max(axesLeftWidth, axesTopLeft, axesBottomLeft)\n\n    const gridY =\n      paddingTop + Math.max(axesTopHeight, axesLeftTop, axesRightTop)\n\n    const gridWidth =\n      width -\n      paddingLeft -\n      paddingRight -\n      Math.max(axesLeftWidth, axesTopLeft, axesBottomLeft) -\n      Math.max(axesRightWidth, axesTopRight, axesBottomRight)\n\n    const gridHeight =\n      height -\n      paddingTop -\n      paddingBottom -\n      Math.max(axesTopHeight, axesLeftTop, axesRightTop) -\n      Math.max(axesBottomHeight, axesLeftBottom, axesRightBottom)\n\n    return { gridX, gridY, gridWidth, gridHeight }\n  }, [width, height, axisDimensions, padding])\n\n  return {\n    offset,\n    gridX,\n    gridY,\n    gridWidth,\n    gridHeight\n  }\n}\n"],"names":["React","createContext","getStatus","getStatusStyle","buildStyleGetters","series","defaults","focused","decorator","status","style","datums","forEach","datum","getMultiAnchor","x","y","anchor","points","gridWidth","gridHeight","invalid","Error","JSON","stringify","xMin","xMax","yMin","yMax","point","Math","min","max","length","sort","a","includes","i","anchorPart","push","getClosestPoint","position","closestDistance","Infinity","closestDatum","boundingPoints","pointerPoint","distance","sqrt","normalizeGetter","getter","d","obj","path","def","e","val","pathObj","flattenDeep","arr","newArr","Array","isArray","join","replace","split","makePathArray","reduce","current","pathPart","get","isValidPoint","getAxisByAxisID","axes","AxisID","find","id","getAxisIndexByAxisID","index","findIndex","sumObjBy","str","Object","keys","map","key","prev","curr","translateX","round","translateY","translate","identity","shallowDiff","b","aKeys","bKeys","some","item","otherFocused","primary","group","seriesID","materializeStyles","normalizeColor","elementTypes","type","stroke","color","fill","rafId","props","observedNodes","Map","run","changedStates","state","node","newRect","getBoundingClientRect","rect","prop","cb","window","useLayoutEffect","useEffect","useRect","nodeRef","useState","_nodeRef$current","parentElement","element","setElement","width","height","setRect","initialRectSet","useRef","useIsomorphicLayoutEffect","_nodeRef$current3","observer","observe","wasEmpty","undefined","hasRectChanged","callbacks","unobserve","size","cancelAnimationFrame","useLatestRef","latest","ref","useLatest","when","usePrevious","getNanoSeconds","hrtime","loadTime","moduleLoadTime","nodeLoadTime","upTime","performance","now","module","process","hr","uptime","Date","getTime","root","global","vendors","suffix","raf","caf","last","queue","callback","_now","next","setTimeout","cp","slice","cancelled","handle","Raf","fn","call","cancel","apply","arguments","polyfill","object","requestAnimationFrame","defaultStyle","strokeWidth","opacity","rx","ry","Rectangle","x1","y1","x2","y2","rest","resolvedStyle","xStart","yStart","xEnd","yEnd","flatIterable","EPSILON","pow","EDGE_STACK","Uint32Array","Delaunator","coords","n","maxTriangles","_triangles","_halfedges","Int32Array","_hashSize","ceil","_hullPrev","_hullNext","_hullTri","_hullHash","this","_ids","_dists","Float64Array","update","getX","defaultGetX","getY","defaultGetY","p","hullPrev","hullNext","hullTri","hullHash","minX","minY","maxX","maxY","i0","i1","i2","cx","cy","minDist","dist","i0x","i0y","i1x","i1y","minRadius","r","circumradius","i2x","i2y","quicksort","hull","j","d0","subarray","triangles","halfedges","orient","center","ax","ay","bx","by","dx","dy","ex","ey","bl","cl","circumcenter","_cx","_cy","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","k","abs","start","q","t","_legalize","floor","px","py","fx","fy","bp","ar","a0","b0","al","p0","pr","pl","p1","ap","hbl","_link","br","c","orientIfSure","qx","qy","l","ids","dists","left","right","temp","tempDist","swap","tmp","Path","_x0","_y0","_x1","_y1","_","x0","y0","w","h","Polygon","Voronoi","delaunay","xmin","ymin","xmax","ymax","_circumcenters","vectors","_init","circumcenters","t1","t2","t3","x3","y3","ab","context","buffer","inedges","ti","tj","xi","yi","xj","yj","_renderSegment","h0","h1","v","_project","value","_clip","moveTo","lineTo","closePath","cell","cellPolygon","polygon","renderCell","S","c0","_regioncode","c1","_clipSegment","_step","ci","neighbors","cj","ai","li","aj","lj","e0","_cell","V","_clipInfinite","_clipFinite","e1","P","sx0","sy0","sx1","sy1","_edgecode","_edge","contains","vx0","vy0","vxn","vyn","from","unshift","splice","vx","vy","tau","PI","pointX","pointY","jitter","sin","cos","Delaunay","_delaunator","_hullIndex","that","flatArray","collinear","f","bounds","hypot","hullIndex","indexOf","dc","dt","renderHull","arc","t0","trianglePolygon","renderTriangle","array","ascending","NaN","bisector","compare","lo","hi","mid","bisectRight","sequence","stop","step","range","e10","e5","e2","ticks","count","reverse","tickIncrement","isFinite","power","log","LN10","error","tickStep","step0","step1","initRange","domain","implicit","Symbol","ordinal","unknown","scale","set","has","copy","band","bandwidth","ordinalRange","r0","r1","paddingInner","paddingOuter","align","rescale","values","rangeRound","padding","define","constructor","factory","prototype","extend","parent","definition","create","Color","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","format","m","trim","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","hasOwnProperty","g","rgbConvert","o","rgb_formatHex","hex","rgb_formatRgb","isNaN","toString","s","Hsl","hslConvert","hsl2rgb","m1","m2","constant","gamma","nogamma","exponential","linear","channels","assign","displayable","formatHsl","brighter","darker","rgb$1","rgbGamma","end","numberArray","genericArray","nb","na","interpolate","date","setTime","interpolateNumber","_typeof","reA","reB","source","string","am","bm","bs","bi","lastIndex","one","zero","ArrayBuffer","isView","DataView","isNumberArray","valueOf","interpolateRound","number","unit","normalize","constant$1","bimap","d1","polymap","target","clamp","transformer","transform","untransform","piecewise","output","input","interpolate$1","invert","u","continuous","formatDecimal","toExponential","coefficient","exponent","prefixExponent","re","formatSpecifier","specifier","match","FormatSpecifier","sign","symbol","comma","precision","formatRounded","formatTypes","toFixed","toPrecision","toUpperCase","identity$1","locale","formatPrefix","prefixes","formatLocale","grouping","thousands","Number","substring","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","String","percent","minus","nan","newFormat","prefix","test","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","formatTrim","charCodeAt","tickFormat","precisionPrefix","precisionRound","precisionFixed","linearish","nice","interval","transformLog","transformExp","exp","transformLogn","transformExpn","pow10","reflect","loggish","logs","pows","base","E","log10","log2","logp","powp","z","newInterval","floori","offseti","field","offset","previous","filter","every","millisecond","second","getMilliseconds","getUTCSeconds","minute","getSeconds","getMinutes","hour","getHours","day","setHours","setDate","getDate","getTimezoneOffset","weekday","getDay","sunday","monday","thursday","month","setMonth","getMonth","getFullYear","year","setFullYear","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcThursday","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcYear","setUTCFullYear","localDate","H","M","L","utcDate","UTC","newDate","locale$1","timeFormat","utcFormat","pads","numberRe","percentRe","requoteRe","pad","requote","formatRe","names","formatLookup","parseWeekdayNumberSunday","parseWeekdayNumberMonday","parseWeekNumberSunday","U","parseWeekNumberISO","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseQuarter","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","utcFormats","parses","parseSpecifier","charAt","newParse","week","day$1","parse","X","utcParse","formatLocale$1","defaultLocale$1","date$1","number$1","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","tickIntervals","durationSecond$1","durationMinute$1","durationHour$1","durationDay$1","tickInterval","pi","tau$1","tauEpsilon","Path$1","constant$2","quadraticCurveTo","bezierCurveTo","arcTo","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","a1","ccw","cw","da","Linear","_context","curveLinear","line","x$1","y$1","defined","curve","data","defined0","lineStart","lineEnd","noop","Basis","basis","BasisClosed","basisClosed","BasisOpen","basisOpen","Bundle","beta","_basis","_beta","areaStart","_line","areaEnd","_point","_x2","_x3","_x4","_y2","_y3","_y4","_x","_y","bundle","custom","point$1","_k","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","cardinalClosed","CardinalOpen","cardinalOpen","point$2","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","alpha","_alpha","x23","y23","catmullRom","CatmullRomClosed","catmullRomClosed","CatmullRomOpen","catmullRomOpen","LinearClosed","linearClosed","slope3","s0","s1","slope2","point$3","MonotoneX","MonotoneY","ReflectContext","monotoneX","monotoneY","Natural","controlPoints","natural","Step","_t","stepBefore","stepAfter","_t0","lineFn","VoronoiElement","children","className","useContext","ChartContext","stackData","primaryAxes","secondaryAxes","showVoronoi","onFocus","onClick","tooltip","primaryCursor","secondaryCursor","setChartState","onHover","useCallback","needsVoronoi","useMemo","extent","polygons","voronoiData","boundingPoint","voronoi","flat","cellPolygons","onMouseEnter","onMouseLeave","Line","fontFamily","fontSize","Text","forwardRef","positionTop","positionRight","positionBottom","positionLeft","groupingSingle","groupingSeries","groupingPrimary","groupingSecondary","alignAuto","alignRight","alignTopRight","alignBottomRight","alignLeft","alignTopLeft","alignBottomLeft","alignTop","alignBottom","axisTypeOrdinal","axisTypeTime","axisTypeUtc","axisTypeLinear","axisTypeLog","anchorPointer","anchorClosest","anchorCenter","anchorTop","anchorBottom","anchorLeft","anchorRight","anchorGridTop","anchorGridBottom","anchorGridLeft","anchorGridRight","focusAuto","focusClosest","focusElement","defaultStyles","tick","AxisLinear","axisPath","showGridLine","tickSizeInner","tickSizeOuter","show","showGrid","showTicks","styles","maxLabelRotation","labelRotationStep","tickPadding","tickCount","minTickCount","maxTickCount","scaleMax","vertical","range0","range1","directionMultiplier","tickOffset","gridOffset","spacing","rotation","setRotation","dark","axisDimensions","elRef","visibleLabelStepRef","measureDimensions","labelDims","querySelectorAll","el","tickSpace","calculatedTickCount","top","bottom","smallestTickGap","gap","firstLabelDim","lastLabelDim","largestLabel","_overflow","labelDim","largestLabelSize","newRotation","newVisibleLabelStep","newDimensions","newAxes","previousRotation","axisStyles","Group","pointerEvents","Utils","dominantBaseline","textAnchor","Axis","getBackgroundColor","Tooltip","chartState","gridX","gridY","latestFocused","getDatumStyle","tooltipElRef","previousShowRef","alignPriority","tooltipArrowPadding","arrowPosition","render","finalAlign","setFinalAlign","space","container","gridDims","tooltipDims","document","body","getComputedStyle","overflowX","overflowY","containerDims","resolvedAlign","priority","fits","horizontalPadding","verticalPadding","resolvedFocused","alignX","alignY","triangleStyles","backgroundColor","resolvedArrowPosition","borderLeft","borderRight","borderTop","borderBottom","triangleSize","animateCoords","primaryAxis","primaryAxisID","secondaryAxis","secondaryAxisID","resolvedHorizontalPadding","resolvedVerticalPadding","renderProps","getStyle","renderedChildren","createElement","transition","background","borderRadius","getLineBackgroundColor","Cursor","cursor","showLine","showLabel","resolvedValue","snap","axis","siblingAxis","resolvedShow","latestValue","alignPctX","alignPctY","animated","siblingRange","cursorSize","formattedValue","stacked","totalValue","lineStartX","lineStartY","lineEndX","lineEndY","bubbleX","RTL","bubbleY","lineHeight","lineWidth","whiteSpace","Brush","pointer","brush","dragging","sourceX","renderSVG","seriesOptions","getSeriesOrder","svgRef","rafRef","onMouseMove","clientX","clientY","active","down","onMouseUp","removeEventListener","released","orderedStackData","_toConsumableArray","focusedSeriesIndex","stacks","stack","Component","overflow","persist","onMouseDown","addEventListener","sourceY","useSeriesStyle","getSeriesStyle","useDatumStyle","Circle","pathDefaultStyle","circleDefaultStyle","showPoints","pathProps","Point","dataStyle","circleProps","circle","defaultProps","curveMonotoneX","plotDatum","xAxis","yAxis","primaryCoord","secondaryCoord","secondary","xValue","yValue","baseValue","buildStyles","defaultColors","Bubble","defaultAreaStyle","defaultLineStyle","Area","showOrphans","areaFn","area","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","areaPath","linePath","areaPathProps","linePathProps","all","OrphanLine","lineProps","Bar","barOffset","BarPiece","rectangleProps","rectangle","barSize","seriesBarSize","seriesBandScaleOffset","seriesBandScale","seriesTypeIndex","seriesTypes","bubble","bar","defaultSeries","scales","linear$1","scaleBand","buildAxisLinear","userMin","userMax","hardMin","hardMax","tickValues","userFormat","innerPadding","outerPadding","userID","materializedData","valueKey","groupKey","AxisIDKey","detectRTL","uniqueVals","negativeTotalByKey","positiveTotalByKey","seriesIndex","datumIndex","bandScale","stepSize","defaultMin","defaultMax","scaleFormat","config","TooltipRenderer","formatSecondary","formatTertiary","resolvedFormatTertiary","sortedGroupDatums","activeIndex","resolvedShowCount","visibleSortedGroupDatums","hasPrevious","hasNext","marginBottom","textAlign","seriesLabel","sortedDatum","resolvedSecondaryFormat","getSecondaryFormatter","fontWeight","display","alignItems","justifyContent","marginRight","Fragment","paddingTop","defaultCursorProps","axisID","onChange","getDatums","getLabel","label","getSeriesID","getPrimary","getSecondary","getR","radius","getPrimaryAxisID","getSecondaryAxisID","focus","Chart","getSeriesStyleOriginal","offsetState","onClickRef","onFocusRef","onHoverRef","responsiveElRef","useHyperResponsive","originalSeries","originalDatums","originalDatum","useMaterializeData","renderer","useSeriesOptions","useSeriesTypes","axesLeftWidth","axesLeftTop","axesLeftBottom","axesRightWidth","axesRightTop","axesRightBottom","axesTopHeight","axesTopLeft","axesTopRight","axesBottomHeight","axesBottomLeft","axesBottomRight","paddingLeft","paddingRight","paddingBottom","useDimensions","prePrimaryAxes","preSecondaryAxes","primaryAxesHashes","secondaryAxesHashes","buildAxis","xKey","yKey","xAxes","yAxes","useAxes","scaleTotals","axisIndex","negative","positive","primaryAxisIndex","secondaryAxisIndex","validPoint","totalKey","xAxisIndex","yAxisIndex","datumsByGrouping","axisKey","useStackData","axisValues","resolvedFocus","multiFocus","useTooltip","cursorValue","useCursors","previousDragging","onSelect","args","chartStateContextValue","Provider","ChartInner"],"mappings":"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"}