!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],e):e((t=t||self).ReactCharts={},t.React)}(this,(function(t,e){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var d=(e=e&&e.hasOwnProperty("default")?e.default:e).createContext(),y={getStatus:g,getStatusStyle:p,buildStyleGetters:function(t,e){t.getStatusStyle=function(n,i){var r=g(t,n);return t.style=p(t,r,i,e),t.style},t.datums.forEach((function(t){t.getStatusStyle=function(n,i){var r=g(t,n);return t.style=p(t,r,i,e),t.style}}))},getMultiAnchor:function(t){var e,n,i=t.anchor,r=t.points,o=t.gridWidth,a=t.gridHeight,s=function(){throw new Error("".concat(JSON.stringify(i)," is not a valid tooltip anchor option. You should use a single anchor option or 2 non-conflicting anchor options."))},u=r[0].anchor.x,l=r[0].anchor.x,c=r[0].anchor.y,h=r[0].anchor.y;if(r.forEach((function(t){u=Math.min(t.anchor.x,u),l=Math.max(t.anchor.x,l),c=Math.min(t.anchor.y,c),h=Math.max(t.anchor.y,h)})),i.length>2)return s();i=i.sort((function(t){return t.includes("center")||t.includes("Center")?1:-1}));for(var f=0;f<i.length;f++){var d=i[f];["left","right","gridLeft","gridRight"].includes(d)&&(void 0!==e&&s(),"left"===d?e=u:"right"===d?e=l:"gridLeft"===d?e=0:"gridRight"===d?e=o:s()),["top","bottom","gridTop","gridBottom"].includes(d)&&(void 0!==n&&s(),"top"===d?n=c:"bottom"===d?n=h:"gridTop"===d?n=0:"gridBottom"===d?n=a:s()),["center","gridCenter"].includes(d)&&("center"===d?(void 0===n&&(n=(c+h)/2),void 0===e&&(e=(u+l)/2)):"gridCenter"===d?(void 0===n&&(n=a/2),void 0===e&&(e=o/2)):s()),1===i.length&&(i[0].includes("grid")?i.push("gridCenter"):i.push("center"))}return{x:e,y:n}},getClosestPoint:function(t,e){if(!e||!t||!e.length)return;var n=1/0,i=e[0];return e.forEach((function(e){e.boundingPoints.forEach((function(r){var o=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));o<n&&(n=o,i=e)}))})),i},normalizeGetter:function(t){if("function"==typeof t)return t;return function(e){return function(t,e,n){if("function"==typeof t)try{return t()}catch(t){return e}if(!e)return t;var i,r=function(t){return function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Array.isArray(e))for(var i=0;i<e.length;i++)t(e[i],n);else n.push(e);return n}(t).join(".").replace("[",".").replace("]","").split(".")}(e);try{i=r.reduce((function(t,e){return t[e]}),t)}catch(t){}return void 0!==i?i:n}(e,t)}},isValidPoint:function(t){if(null===t)return!1;if(void 0===t)return!1;if("string"==typeof t&&"null"===t)return!1;return!0},getAxisByAxisID:function(t,e){return t.find((function(t){return t.id===e}))||t[0]},getAxisIndexByAxisID:function(t,e){var n=t.findIndex((function(t){return t.id===e}));return n>-1?n:0},sumObjBy:function(t,e){return Object.keys(t).map((function(e){return t[e]})).reduce((function(t,n){return t+n[e]||0}),0)},translateX:function(t){return"translate3d(".concat(Math.round(t),"px, 0, 0)")},translateY:function(t){return"translate3d(0, ".concat(Math.round(t),"px, 0)")},translate:function(t,e){return"translate3d(".concat(Math.round(t),"px, ").concat(Math.round(e),"px, 0)")},identity:function(t){return t},shallowDiff:function(t,e){var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!0;return Object.keys(t).some((function(n){if(t[n]!==e[n])return!0}))}};function g(t,e){var n={focused:!1,otherFocused:!1};if(!e)return n;if(void 0!==t.primary){for(var i=e.group.length,r=0;r<i;r++)if(e.group[r].seriesID===t.series.id&&e.group[r].index===t.index){n.focused=!0;break}n.otherFocused=!n.focused}else e.series&&(n.focused=e.series.id===t.id,n.otherFocused=!n.focused);return n}function p(t,e,n,i){return t.series&&(i=l({},i,{},t.series.style)),function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=m(e,n);for(var i=0;i<_.length;i++){var r=_[i];e[r]&&n[r]&&(e[r]=t(e[r],n))}return e}(n(l({},t,{},e)),i)}function m(t,e){return l({},t,{stroke:t.stroke||t.color||e.stroke||e.color,fill:t.fill||t.color||e.fill||e.color})}var _=["area","line","rectangle","circle"];var x,v=["bottom","height","left","right","top","width"],b=new Map,w=function t(){var e=[];b.forEach((function(t,n){var i,r,o=n.getBoundingClientRect();i=o,r=t.rect,void 0===i&&(i={}),void 0===r&&(r={}),v.some((function(t){return i[t]!==r[t]}))&&(t.rect=o,e.push(t))})),e.forEach((function(t){t.callbacks.forEach((function(e){return e(t.rect)}))})),x=window.requestAnimationFrame(t)};var M="undefined"!=typeof window?e.useLayoutEffect:e.useEffect;function k(t){var n,i=h(e.useState(null===(n=t.current)||void 0===n?void 0:n.parentElement),2),r=i[0],o=i[1],a=h(e.useState({width:0,height:0}),2),s=a[0],u=a[1],l=e.useRef(!1);return M((function(){var e,n;(null===(e=t.current)||void 0===e?void 0:e.parentElement)!==r&&o(null===(n=t.current)||void 0===n?void 0:n.parentElement)})),M((function(){r&&!l.current&&(l.current=!0,u(r.getBoundingClientRect()))}),[r]),e.useEffect((function(){if(r){var t,e,n=(t=r,e=u,{observe:function(){var n=0===b.size;b.has(t)?b.get(t).callbacks.push(e):b.set(t,{rect:void 0,hasRectChanged:!1,callbacks:[e]}),n&&w()},unobserve:function(){var n=b.get(t);if(n){var i=n.callbacks.indexOf(e);i>=0&&n.callbacks.splice(i,1),n.callbacks.length||b.delete(t),b.size||cancelAnimationFrame(x)}}});return n.observe(),function(){n.unobserve()}}}),[r]),{width:s.width,height:s.height}}function A(t){var n=e.useRef();return n.current=t,n}function S(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e.useRef();return n&&(i.current=t),i.current}function T(t){var n=e.useRef();return e.useEffect((function(){n.current=t}),[t]),n.current}var C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};for(var E=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){(function(){var e,n,i,r,o,a;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(t.exports=function(){return(e()-o)/1e6},n=process.hrtime,r=(e=function(){var t;return 1e9*(t=n())[0]+t[1]})(),a=1e9*process.uptime(),o=r-a):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(C)})),D="undefined"==typeof window?global:window,N=["moz","webkit"],P="AnimationFrame",O=D["request"+P],I=D["cancel"+P]||D["cancelRequest"+P],R=0;!O&&R<N.length;R++)O=D[N[R]+"Request"+P],I=D[N[R]+"Cancel"+P]||D[N[R]+"CancelRequest"+P];if(!O||!I){var L=0,V=0,z=[];O=function(t){if(0===z.length){var e=E(),n=Math.max(0,1e3/60-(e-L));L=n+e,setTimeout((function(){var t=z.slice(0);z.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(L)}catch(t){setTimeout((function(){throw t}),0)}}),Math.round(n))}return z.push({handle:++V,callback:t,cancelled:!1}),V},I=function(t){for(var e=0;e<z.length;e++)z[e].handle===t&&(z[e].cancelled=!0)}}function U(t){return O.call(D,t)}U.cancel=function(){I.apply(D,arguments)},U.polyfill=function(t){t||(t=D),t.requestAnimationFrame=O,t.cancelAnimationFrame=I};var F={strokeWidth:0,fill:"#333",opacity:1,rx:0,ry:0};function j(t){var n=t.style,i=(t.opacity,t.x1),r=t.y1,o=t.x2,a=t.y2,u=c(t,["style","opacity","x1","y1","x2","y2"]),h=l({},F,{},n),f=Math.min(i,o),d=Math.min(r,a),y=Math.max(i,o),g=Math.max(r,a),p=Math.max(g-d,0),m=Math.max(y-f,0);return e.createElement("rect",s({},u,{x:f,y:d,width:m,height:p,style:h}))}var H=regeneratorRuntime.mark(ct),B=Math.pow(2,-52),Y=new Uint32Array(512),W=function(){function t(e){i(this,t);var n=e.length>>1;if(n>0&&"number"!=typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return o(t,null,[{key:"from",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Q,r=e.length,o=new Float64Array(2*r),a=0;a<r;a++){var s=e[a];o[2*a]=n(s),o[2*a+1]=i(s)}return new t(o)}}]),o(t,[{key:"update",value:function(){for(var t=this.coords,e=this._hullPrev,n=this._hullNext,i=this._hullTri,r=this._hullHash,o=t.length>>1,a=1/0,s=1/0,u=-1/0,l=-1/0,c=0;c<o;c++){var h=t[2*c],f=t[2*c+1];h<a&&(a=h),f<s&&(s=f),h>u&&(u=h),f>l&&(l=f),this._ids[c]=c}for(var d,y,g,p=(a+u)/2,m=(s+l)/2,_=1/0,x=0;x<o;x++){var v=q(p,m,t[2*x],t[2*x+1]);v<_&&(d=x,_=v)}var b=t[2*d],w=t[2*d+1];_=1/0;for(var M=0;M<o;M++)if(M!==d){var k=q(b,w,t[2*M],t[2*M+1]);k<_&&k>0&&(y=M,_=k)}for(var A=t[2*y],S=t[2*y+1],T=1/0,C=0;C<o;C++)if(C!==d&&C!==y){var E=K(b,w,A,S,t[2*C],t[2*C+1]);E<T&&(g=C,T=E)}var D=t[2*g],N=t[2*g+1];if(T===1/0){for(var P=0;P<o;P++)this._dists[P]=t[2*P]-t[0]||t[2*P+1]-t[1];Z(this._ids,this._dists,0,o-1);for(var O=new Uint32Array(o),I=0,R=0,L=-1/0;R<o;R++){var V=this._ids[R];this._dists[V]>L&&(O[I++]=V,L=this._dists[V])}return this.hull=O.subarray(0,I),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(G(b,w,A,S,D,N)){var z=y,U=A,F=S;y=g,A=D,S=N,g=z,D=U,N=F}var j=function(t,e,n,i,r,o){var a=n-t,s=i-e,u=r-t,l=o-e,c=a*a+s*s,h=u*u+l*l,f=.5/(a*l-s*u);return{x:t+(l*c-s*h)*f,y:e+(a*h-u*c)*f}}(b,w,A,S,D,N);this._cx=j.x,this._cy=j.y;for(var H=0;H<o;H++)this._dists[H]=q(t[2*H],t[2*H+1],j.x,j.y);Z(this._ids,this._dists,0,o-1),this._hullStart=d;var Y=3;n[d]=e[g]=y,n[y]=e[d]=g,n[g]=e[y]=d,i[d]=0,i[y]=1,i[g]=2,r.fill(-1),r[this._hashKey(b,w)]=d,r[this._hashKey(A,S)]=y,r[this._hashKey(D,N)]=g,this.trianglesLen=0,this._addTriangle(d,y,g,-1,-1,-1);for(var W,X,$=0;$<this._ids.length;$++){var J=this._ids[$],Q=t[2*J],tt=t[2*J+1];if(!($>0&&Math.abs(Q-W)<=B&&Math.abs(tt-X)<=B)&&(W=Q,X=tt,J!==d&&J!==y&&J!==g)){for(var et=0,nt=0,it=this._hashKey(Q,tt);nt<this._hashSize&&(-1===(et=r[(it+nt)%this._hashSize])||et===n[et]);nt++);for(var rt=et=e[et],ot=void 0;ot=n[rt],!G(Q,tt,t[2*rt],t[2*rt+1],t[2*ot],t[2*ot+1]);)if((rt=ot)===et){rt=-1;break}if(-1!==rt){var at=this._addTriangle(rt,J,n[rt],-1,-1,i[rt]);i[J]=this._legalize(at+2),i[rt]=at,Y++;for(var st=n[rt];ot=n[st],G(Q,tt,t[2*st],t[2*st+1],t[2*ot],t[2*ot+1]);)at=this._addTriangle(st,J,ot,i[J],-1,i[st]),i[J]=this._legalize(at+2),n[st]=st,Y--,st=ot;if(rt===et)for(;G(Q,tt,t[2*(ot=e[rt])],t[2*ot+1],t[2*rt],t[2*rt+1]);)at=this._addTriangle(ot,J,rt,-1,i[rt],i[ot]),this._legalize(at+2),i[ot]=at,n[rt]=rt,Y--,rt=ot;this._hullStart=e[J]=rt,n[rt]=e[st]=J,n[J]=st,r[this._hashKey(Q,tt)]=J,r[this._hashKey(t[2*rt],t[2*rt+1])]=rt}}}this.hull=new Uint32Array(Y);for(var ut=0,lt=this._hullStart;ut<Y;ut++)this.hull[ut]=lt,lt=n[lt];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(t,e){return Math.floor((n=t-this._cx,i=e-this._cy,r=n/(Math.abs(n)+Math.abs(i)),(i>0?3-r:1+r)/4*this._hashSize))%this._hashSize;var n,i,r}},{key:"_legalize",value:function(t){for(var e,n,i,r,o,a,s,u,l,c,h,f,d,y,g,p,m=this._triangles,_=this._halfedges,x=this.coords,v=0,b=0;;){var w=_[t],M=t-t%3;if(b=M+(t+2)%3,-1!==w){var k=w-w%3,A=M+(t+1)%3,S=k+(w+2)%3,T=m[b],C=m[t],E=m[A],D=m[S];if(e=x[2*T],n=x[2*T+1],i=x[2*C],r=x[2*C+1],o=x[2*E],a=x[2*E+1],s=x[2*D],u=x[2*D+1],l=void 0,c=void 0,h=void 0,f=void 0,d=void 0,y=void 0,void 0,g=void 0,p=void 0,(l=e-s)*((f=r-u)*(p=(d=o-s)*d+(y=a-u)*y)-(g=(h=i-s)*h+f*f)*y)-(c=n-u)*(h*p-g*d)+(l*l+c*c)*(h*y-f*d)<0){m[t]=D,m[w]=T;var N=_[S];if(-1===N){var P=this._hullStart;do{if(this._hullTri[P]===S){this._hullTri[P]=t;break}P=this._hullPrev[P]}while(P!==this._hullStart)}this._link(t,N),this._link(w,_[b]),this._link(b,S);var O=k+(w+1)%3;v<Y.length&&(Y[v++]=O)}else{if(0===v)break;t=Y[--v]}}else{if(0===v)break;t=Y[--v]}}return b}},{key:"_link",value:function(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}},{key:"_addTriangle",value:function(t,e,n,i,r,o){var a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,i),this._link(a+1,r),this._link(a+2,o),this.trianglesLen+=3,a}}]),t}();function q(t,e,n,i){var r=t-n,o=e-i;return r*r+o*o}function X(t,e,n,i,r,o){var a=(i-e)*(r-t),s=(n-t)*(o-e);return Math.abs(a-s)>=33306690738754716e-32*Math.abs(a+s)?a-s:0}function G(t,e,n,i,r,o){return(X(r,o,t,e,n,i)||X(t,e,n,i,r,o)||X(n,i,r,o,t,e))<0}function K(t,e,n,i,r,o){var a=n-t,s=i-e,u=r-t,l=o-e,c=a*a+s*s,h=u*u+l*l,f=.5/(a*l-s*u),d=(l*c-s*h)*f,y=(a*h-u*c)*f;return d*d+y*y}function Z(t,e,n,i){if(i-n<=20)for(var r=n+1;r<=i;r++){for(var o=t[r],a=e[o],s=r-1;s>=n&&e[t[s]]>a;)t[s+1]=t[s--];t[s+1]=o}else{var u=n+1,l=i;$(t,n+i>>1,u),e[t[n]]>e[t[i]]&&$(t,n,i),e[t[u]]>e[t[i]]&&$(t,u,i),e[t[n]]>e[t[u]]&&$(t,n,u);for(var c=t[u],h=e[c];;){do{u++}while(e[t[u]]<h);do{l--}while(e[t[l]]>h);if(l<u)break;$(t,u,l)}t[n+1]=t[l],t[l]=c,i-u+1>=l-n?(Z(t,e,u,i),Z(t,e,n,l-1)):(Z(t,e,n,l-1),Z(t,e,u,i))}}function $(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function J(t){return t[0]}function Q(t){return t[1]}var tt=function(){function t(){i(this,t),this._x0=this._y0=this._x1=this._y1=null,this._=""}return o(t,[{key:"moveTo",value:function(t,e){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(t,e){this._+="L".concat(this._x1=+t,",").concat(this._y1=+e)}},{key:"arc",value:function(t,e,n){var i=(t=+t)+(n=+n),r=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(i,",").concat(r):(Math.abs(this._x1-i)>1e-6||Math.abs(this._y1-r)>1e-6)&&(this._+="L"+i+","+r),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(t-n,",").concat(e,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=i,",").concat(this._y1=r))}},{key:"rect",value:function(t,e,n,i){this._+="M".concat(this._x0=this._x1=+t,",").concat(this._y0=this._y1=+e,"h").concat(+n,"v").concat(+i,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),t}(),et=function(){function t(){i(this,t),this._=[]}return o(t,[{key:"moveTo",value:function(t,e){this._.push([t,e])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(t,e){this._.push([t,e])}},{key:"value",value:function(){return this._.length?this._:null}}]),t}(),nt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],r=h(n,4),o=r[0],a=r[1],s=r[2],u=r[3];if(i(this,t),!((s=+s)>=(o=+o)&&(u=+u)>=(a=+a)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=s,this.xmin=o,this.ymax=u,this.ymin=a,this._init()}return o(t,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var t,e,n=this.delaunay,i=n.points,r=n.hull,o=n.triangles,a=this.vectors,s=this.circumcenters=this._circumcenters.subarray(0,o.length/3*2),u=0,l=0,c=o.length;u<c;u+=3,l+=2){var h=2*o[u],f=2*o[u+1],d=2*o[u+2],y=i[h],g=i[h+1],p=i[f],m=i[f+1],_=i[d],x=i[d+1],v=p-y,b=m-g,w=_-y,M=x-g,k=v*v+b*b,A=w*w+M*M,S=2*(v*M-b*w);if(S)if(Math.abs(S)<1e-8)t=(y+_)/2,e=(g+x)/2;else{var T=1/S;t=y+(M*k-b*A)*T,e=g+(v*A-w*k)*T}else t=(y+_)/2-1e8*M,e=(g+x)/2+1e8*w;s[l]=t,s[l+1]=e}var C,E,D,N=r[r.length-1],P=4*N,O=i[2*N],I=i[2*N+1];a.fill(0);for(var R=0;R<r.length;++R)C=P,E=O,D=I,P=4*(N=r[R]),O=i[2*N],I=i[2*N+1],a[C+2]=a[P]=D-I,a[C+3]=a[P+1]=O-E}},{key:"render",value:function(t){var e=null==t?t=new tt:void 0,n=this.delaunay,i=n.halfedges,r=n.inedges,o=n.hull,a=this.circumcenters,s=this.vectors;if(o.length<=1)return null;for(var u=0,l=i.length;u<l;++u){var c=i[u];if(!(c<u)){var h=2*Math.floor(u/3),f=2*Math.floor(c/3),d=a[h],y=a[h+1],g=a[f],p=a[f+1];this._renderSegment(d,y,g,p,t)}}for(var m,_=o[o.length-1],x=0;x<o.length;++x){m=_,_=o[x];var v=2*Math.floor(r[_]/3),b=a[v],w=a[v+1],M=4*m,k=this._project(b,w,s[M+2],s[M+3]);k&&this._renderSegment(b,w,k[0],k[1],t)}return e&&e.value()}},{key:"renderBounds",value:function(t){var e=null==t?t=new tt:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}},{key:"renderCell",value:function(t,e){var n=null==e?e=new tt:void 0,i=this._clip(t);if(null!==i&&i.length){e.moveTo(i[0],i[1]);for(var r=i.length;i[0]===i[r-2]&&i[1]===i[r-1]&&r>1;)r-=2;for(var o=2;o<r;o+=2)i[o]===i[o-2]&&i[o+1]===i[o-1]||e.lineTo(i[o],i[o+1]);return e.closePath(),n&&n.value()}}},{key:"cellPolygons",value:regeneratorRuntime.mark((function t(){var e,n,i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.delaunay.points,n=0,i=e.length/2;case 2:if(!(n<i)){t.next=11;break}if(!(r=this.cellPolygon(n))){t.next=8;break}return r.index=n,t.next=8,r;case 8:++n,t.next=2;break;case 11:case"end":return t.stop()}}),t,this)}))},{key:"cellPolygon",value:function(t){var e=new et;return this.renderCell(t,e),e.value()}},{key:"_renderSegment",value:function(t,e,n,i,r){var o,a=this._regioncode(t,e),s=this._regioncode(n,i);0===a&&0===s?(r.moveTo(t,e),r.lineTo(n,i)):(o=this._clipSegment(t,e,n,i,a,s))&&(r.moveTo(o[0],o[1]),r.lineTo(o[2],o[3]))}},{key:"contains",value:function(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}},{key:"neighbors",value:regeneratorRuntime.mark((function t(e){var n,i,r,o,a,s,u,l,c,h,f,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=this._clip(e))){t.next=42;break}i=!0,r=!1,o=void 0,t.prev=5,a=this.delaunay.neighbors(e)[Symbol.iterator]();case 7:if(i=(s=a.next()).done){t.next=28;break}if(u=s.value,!(l=this._clip(u))){t.next=25;break}c=0,h=n.length;case 12:if(!(c<h)){t.next=25;break}f=0,d=l.length;case 14:if(!(f<d)){t.next=22;break}if(n[c]!=l[f]||n[c+1]!=l[f+1]||n[(c+2)%h]!=l[(f+d-2)%d]||n[(c+3)%h]!=l[(f+d-1)%d]){t.next=19;break}return t.next=18,u;case 18:return t.abrupt("break",25);case 19:f+=2,t.next=14;break;case 22:c+=2,t.next=12;break;case 25:i=!0,t.next=7;break;case 28:t.next=34;break;case 30:t.prev=30,t.t0=t.catch(5),r=!0,o=t.t0;case 34:t.prev=34,t.prev=35,i||null==a.return||a.return();case 37:if(t.prev=37,!r){t.next=40;break}throw o;case 40:return t.finish(37);case 41:return t.finish(34);case 42:case"end":return t.stop()}}),t,this,[[5,30,34,42],[35,,37,41]])}))},{key:"_cell",value:function(t){var e=this.circumcenters,n=this.delaunay,i=n.inedges,r=n.halfedges,o=n.triangles,a=i[t];if(-1===a)return null;var s=[],u=a;do{var l=Math.floor(u/3);if(s.push(e[2*l],e[2*l+1]),o[u=u%3==2?u-2:u+1]!==t)break;u=r[u]}while(u!==a&&-1!==u);return s}},{key:"_clip",value:function(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var e=this._cell(t);if(null===e)return null;var n=this.vectors,i=4*t;return n[i]||n[i+1]?this._clipInfinite(t,e,n[i],n[i+1],n[i+2],n[i+3]):this._clipFinite(t,e)}},{key:"_clipFinite",value:function(t,e){for(var n,i,r,o,a,s=e.length,u=null,l=e[s-2],c=e[s-1],f=this._regioncode(l,c),d=0;d<s;d+=2)if(n=l,i=c,l=e[d],c=e[d+1],r=f,f=this._regioncode(l,c),0===r&&0===f)o=a,a=0,u?u.push(l,c):u=[l,c];else{var y=void 0,g=void 0,p=void 0,m=void 0,_=void 0;if(0===r){if(null===(y=this._clipSegment(n,i,l,c,r,f)))continue;var x=h(y,4);g=x[0],p=x[1],m=x[2],_=x[3]}else{if(null===(y=this._clipSegment(l,c,n,i,f,r)))continue;var v=h(y,4);m=v[0],_=v[1],g=v[2],p=v[3],o=a,a=this._edgecode(g,p),o&&a&&this._edge(t,o,a,u,u.length),u?u.push(g,p):u=[g,p]}o=a,a=this._edgecode(m,_),o&&a&&this._edge(t,o,a,u,u.length),u?u.push(m,_):u=[m,_]}if(u)o=a,a=this._edgecode(u[0],u[1]),o&&a&&this._edge(t,o,a,u,u.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return u}},{key:"_clipSegment",value:function(t,e,n,i,r,o){for(;;){if(0===r&&0===o)return[t,e,n,i];if(r&o)return null;var a=void 0,s=void 0,u=r||o;8&u?(a=t+(n-t)*(this.ymax-e)/(i-e),s=this.ymax):4&u?(a=t+(n-t)*(this.ymin-e)/(i-e),s=this.ymin):2&u?(s=e+(i-e)*(this.xmax-t)/(n-t),a=this.xmax):(s=e+(i-e)*(this.xmin-t)/(n-t),a=this.xmin),r?(t=a,e=s,r=this._regioncode(t,e)):(n=a,i=s,o=this._regioncode(n,i))}}},{key:"_clipInfinite",value:function(t,e,n,i,r,o){var a,s=Array.from(e);if((a=this._project(s[0],s[1],n,i))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],r,o))&&s.push(a[0],a[1]),s=this._clipFinite(t,s))for(var u,l=0,c=s.length,h=this._edgecode(s[c-2],s[c-1]);l<c;l+=2)u=h,h=this._edgecode(s[l],s[l+1]),u&&h&&(l=this._edge(t,u,h,s,l),c=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}},{key:"_edge",value:function(t,e,n,i,r){for(;e!==n;){var o=void 0,a=void 0;switch(e){case 5:e=4;continue;case 4:e=6,o=this.xmax,a=this.ymin;break;case 6:e=2;continue;case 2:e=10,o=this.xmax,a=this.ymax;break;case 10:e=8;continue;case 8:e=9,o=this.xmin,a=this.ymax;break;case 9:e=1;continue;case 1:e=5,o=this.xmin,a=this.ymin}i[r]===o&&i[r+1]===a||!this.contains(t,o,a)||(i.splice(r,0,o,a),r+=2)}if(i.length>4)for(var s=0;s<i.length;s+=2){var u=(s+2)%i.length,l=(s+4)%i.length;(i[s]===i[u]&&i[u]===i[l]||i[s+1]===i[u+1]&&i[u+1]===i[l+1])&&(i.splice(u,2),s-=2)}return r}},{key:"_project",value:function(t,e,n,i){var r,o,a,s=1/0;if(i<0){if(e<=this.ymin)return null;(r=(this.ymin-e)/i)<s&&(a=this.ymin,o=t+(s=r)*n)}else if(i>0){if(e>=this.ymax)return null;(r=(this.ymax-e)/i)<s&&(a=this.ymax,o=t+(s=r)*n)}if(n>0){if(t>=this.xmax)return null;(r=(this.xmax-t)/n)<s&&(o=this.xmax,a=e+(s=r)*i)}else if(n<0){if(t<=this.xmin)return null;(r=(this.xmin-t)/n)<s&&(o=this.xmin,a=e+(s=r)*i)}return[o,a]}},{key:"_edgecode",value:function(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}},{key:"_regioncode",value:function(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}]),t}(),it=2*Math.PI,rt=Math.pow;function ot(t){return t[0]}function at(t){return t[1]}function st(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}var ut=function(){function t(e){i(this,t),this._delaunator=new W(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}return o(t,null,[{key:"from",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ot,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:at,r=arguments.length>3?arguments[3]:void 0;return new t("length"in e?lt(e,n,i,r):Float64Array.from(ct(e,n,i,r)))}}]),o(t,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){for(var e=t.triangles,n=t.coords,i=0;i<e.length;i+=3){var r=2*e[i],o=2*e[i+1],a=2*e[i+2];if((n[a]-n[r])*(n[o+1]-n[r+1])-(n[o]-n[r])*(n[a+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},(function(t,e){return e})).sort((function(t,n){return e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]}));for(var n=this.collinear[0],i=this.collinear[this.collinear.length-1],r=[e[2*n],e[2*n+1],e[2*i],e[2*i+1]],o=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]),a=0,s=e.length/2;a<s;++a){var u=st(e[2*a],e[2*a+1],o);e[2*a]=u[0],e[2*a+1]=u[1]}this._delaunator=new W(e)}else delete this.collinear;for(var l=this.halfedges=this._delaunator.halfedges,c=this.hull=this._delaunator.hull,h=this.triangles=this._delaunator.triangles,f=this.inedges.fill(-1),d=this._hullIndex.fill(-1),y=0,g=l.length;y<g;++y){var p=h[y%3==2?y-2:y+1];-1!==l[y]&&-1!==f[p]||(f[p]=y)}for(var m=0,_=c.length;m<_;++m)d[c[m]]=m;c.length<=2&&c.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=c[0],this.triangles[1]=c[1],this.triangles[2]=c[1],f[c[0]]=1,2===c.length&&(f[c[1]]=0))}},{key:"voronoi",value:function(t){return new nt(this,t)}},{key:"neighbors",value:regeneratorRuntime.mark((function t(e){var n,i,r,o,a,s,u,l,c,h,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.inedges,i=this.hull,r=this._hullIndex,o=this.halfedges,a=this.triangles,!(s=this.collinear)){t.next=10;break}if(!((u=s.indexOf(e))>0)){t.next=6;break}return t.next=6,s[u-1];case 6:if(!(u<s.length-1)){t.next=9;break}return t.next=9,s[u+1];case 9:return t.abrupt("return");case 10:if(-1!==(l=n[e])){t.next=13;break}return t.abrupt("return");case 13:c=l,h=-1;case 14:return t.next=16,h=a[c];case 16:if(a[c=c%3==2?c-2:c+1]===e){t.next=19;break}return t.abrupt("return");case 19:if(-1!==(c=o[c])){t.next=26;break}if((f=i[(r[e]+1)%i.length])===h){t.next=25;break}return t.next=25,f;case 25:return t.abrupt("return");case 26:if(c!==l){t.next=14;break}case 27:case"end":return t.stop()}}),t,this)}))},{key:"find",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((t=+t)!=t||(e=+e)!=e)return-1;for(var i,r=n;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}},{key:"_step",value:function(t,e,n){var i=this.inedges,r=this.hull,o=this._hullIndex,a=this.halfedges,s=this.triangles,u=this.points;if(-1===i[t]||!u.length)return(t+1)%(u.length>>1);var l=t,c=rt(e-u[2*t],2)+rt(n-u[2*t+1],2),h=i[t],f=h;do{var d=s[f],y=rt(e-u[2*d],2)+rt(n-u[2*d+1],2);if(y<c&&(c=y,l=d),s[f=f%3==2?f-2:f+1]!==t)break;if(-1===(f=a[f])){if((f=r[(o[t]+1)%r.length])!==d&&rt(e-u[2*f],2)+rt(n-u[2*f+1],2)<c)return f;break}}while(f!==h);return l}},{key:"render",value:function(t){for(var e=null==t?t=new tt:void 0,n=this.points,i=this.halfedges,r=this.triangles,o=0,a=i.length;o<a;++o){var s=i[o];if(!(s<o)){var u=2*r[o],l=2*r[s];t.moveTo(n[u],n[u+1]),t.lineTo(n[l],n[l+1])}}return this.renderHull(t),e&&e.value()}},{key:"renderPoints",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=null==t?t=new tt:void 0,i=this.points,r=0,o=i.length;r<o;r+=2){var a=i[r],s=i[r+1];t.moveTo(a+e,s),t.arc(a,s,e,0,it)}return n&&n.value()}},{key:"renderHull",value:function(t){var e=null==t?t=new tt:void 0,n=this.hull,i=this.points,r=2*n[0],o=n.length;t.moveTo(i[r],i[r+1]);for(var a=1;a<o;++a){var s=2*n[a];t.lineTo(i[s],i[s+1])}return t.closePath(),e&&e.value()}},{key:"hullPolygon",value:function(){var t=new et;return this.renderHull(t),t.value()}},{key:"renderTriangle",value:function(t,e){var n=null==e?e=new tt:void 0,i=this.points,r=this.triangles,o=2*r[t*=3],a=2*r[t+1],s=2*r[t+2];return e.moveTo(i[o],i[o+1]),e.lineTo(i[a],i[a+1]),e.lineTo(i[s],i[s+1]),e.closePath(),n&&n.value()}},{key:"trianglePolygons",value:regeneratorRuntime.mark((function t(){var e,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.triangles,n=0,i=e.length/3;case 2:if(!(n<i)){t.next=8;break}return t.next=5,this.trianglePolygon(n);case 5:++n,t.next=2;break;case 8:case"end":return t.stop()}}),t,this)}))},{key:"trianglePolygon",value:function(t){var e=new et;return this.renderTriangle(t,e),e.value()}}]),t}();function lt(t,e,n,i){for(var r=t.length,o=new Float64Array(2*r),a=0;a<r;++a){var s=t[a];o[2*a]=e.call(i,s,a,t),o[2*a+1]=n.call(i,s,a,t)}return o}function ct(t,e,n,i){var r,o,a,s,u,l,c;return regeneratorRuntime.wrap((function(h){for(;;)switch(h.prev=h.next){case 0:r=0,o=!0,a=!1,s=void 0,h.prev=4,u=t[Symbol.iterator]();case 6:if(o=(l=u.next()).done){h.next=16;break}return c=l.value,h.next=10,e.call(i,c,r,t);case 10:return h.next=12,n.call(i,c,r,t);case 12:++r;case 13:o=!0,h.next=6;break;case 16:h.next=22;break;case 18:h.prev=18,h.t0=h.catch(4),a=!0,s=h.t0;case 22:h.prev=22,h.prev=23,o||null==u.return||u.return();case 25:if(h.prev=25,!a){h.next=28;break}throw s;case 28:return h.finish(25);case 29:return h.finish(22);case 30:case"end":return h.stop()}}),H,null,[[4,18,22,30],[23,,25,29]])}function ht(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ft(t){var e;return 1===t.length&&(e=t,t=function(t,n){return ht(e(t),n)}),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}}var dt=ft(ht).right;function yt(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o}var gt=Math.sqrt(50),pt=Math.sqrt(10),mt=Math.sqrt(2);function _t(t,e,n){var i,r,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(a=xt(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(r=Math.ceil(e-t+1));++s<r;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(t-s)/a;return i&&o.reverse(),o}function xt(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=gt?10:o>=pt?5:o>=mt?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=gt?10:o>=pt?5:o>=mt?2:1)}function vt(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=gt?r*=10:o>=pt?r*=5:o>=mt&&(r*=2),e<t?-r:r}function bt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var wt=Symbol("implicit");function Mt(){var t=new Map,e=[],n=[],i=wt;function r(r){var o=r+"",a=t.get(o);if(!a){if(i!==wt)return i;t.set(o,a=e.push(r))}return n[(a-1)%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;var i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,c=l+"";t.has(c)||t.set(c,e.push(l))}}catch(t){o=!0,a=t}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return r},r.range=function(t){return arguments.length?(n=Array.from(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return Mt(e,n).unknown(i)},bt.apply(r,arguments),r}function kt(){var t,e,n=Mt().unknown(void 0),i=n.domain,r=n.range,o=0,a=1,s=!1,u=0,l=0,c=.5;function f(){var n=i().length,h=a<o,f=h?a:o,d=h?o:a;t=(d-f)/Math.max(1,n-u+2*l),s&&(t=Math.floor(t)),f+=(d-f-t*(n-u))*c,e=t*(1-u),s&&(f=Math.round(f),e=Math.round(e));var y=yt(n).map((function(e){return f+t*e}));return r(h?y.reverse():y)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),f()):i()},n.range=function(t){var e;return arguments.length?(e=h(t,2),o=e[0],a=e[1],o=+o,a=+a,f()):[o,a]},n.rangeRound=function(t){var e;return e=h(t,2),o=e[0],a=e[1],o=+o,a=+a,s=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,f()):s},n.padding=function(t){return arguments.length?(u=Math.min(1,l=+t),f()):u},n.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),f()):u},n.paddingOuter=function(t){return arguments.length?(l=+t,f()):l},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),f()):c},n.copy=function(){return kt(i(),[o,a]).round(s).paddingInner(u).paddingOuter(l).align(c)},bt.apply(f(),arguments)}function At(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function St(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Tt(){}var Ct="\\s*([+-]?\\d+)\\s*",Et="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nt=/^#([0-9a-f]{3,8})$/,Pt=new RegExp("^rgb\\("+[Ct,Ct,Ct]+"\\)$"),Ot=new RegExp("^rgb\\("+[Dt,Dt,Dt]+"\\)$"),It=new RegExp("^rgba\\("+[Ct,Ct,Ct,Et]+"\\)$"),Rt=new RegExp("^rgba\\("+[Dt,Dt,Dt,Et]+"\\)$"),Lt=new RegExp("^hsl\\("+[Et,Dt,Dt]+"\\)$"),Vt=new RegExp("^hsla\\("+[Et,Dt,Dt,Et]+"\\)$"),zt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ut(){return this.rgb().formatHex()}function Ft(){return this.rgb().formatRgb()}function jt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Nt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ht(e):3===n?new qt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Bt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Bt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Pt.exec(t))?new qt(e[1],e[2],e[3],1):(e=Ot.exec(t))?new qt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=It.exec(t))?Bt(e[1],e[2],e[3],e[4]):(e=Rt.exec(t))?Bt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Lt.exec(t))?Zt(e[1],e[2]/100,e[3]/100,1):(e=Vt.exec(t))?Zt(e[1],e[2]/100,e[3]/100,e[4]):zt.hasOwnProperty(t)?Ht(zt[t]):"transparent"===t?new qt(NaN,NaN,NaN,0):null}function Ht(t){return new qt(t>>16&255,t>>8&255,255&t,1)}function Bt(t,e,n,i){return i<=0&&(t=e=n=NaN),new qt(t,e,n,i)}function Yt(t){return t instanceof Tt||(t=jt(t)),t?new qt((t=t.rgb()).r,t.g,t.b,t.opacity):new qt}function Wt(t,e,n,i){return 1===arguments.length?Yt(t):new qt(t,e,n,null==i?1:i)}function qt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Xt(){return"#"+Kt(this.r)+Kt(this.g)+Kt(this.b)}function Gt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Kt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Zt(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Jt(t,e,n,i)}function $t(t){if(t instanceof Jt)return new Jt(t.h,t.s,t.l,t.opacity);if(t instanceof Tt||(t=jt(t)),!t)return new Jt;if(t instanceof Jt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,u=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=u<.5?o+r:2-o-r,a*=60):s=u>0&&u<1?0:a,new Jt(a,s,u,t.opacity)}function Jt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Qt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function te(t){return function(){return t}}function ee(t){return 1==(t=+t)?ne:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):te(isNaN(e)?n:e)}}function ne(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):te(isNaN(t)?e:t)}At(Tt,jt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ut,formatHex:Ut,formatHsl:function(){return $t(this).formatHsl()},formatRgb:Ft,toString:Ft}),At(qt,Wt,St(Tt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new qt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new qt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xt,formatHex:Xt,formatRgb:Gt,toString:Gt})),At(Jt,(function(t,e,n,i){return 1===arguments.length?$t(t):new Jt(t,e,n,null==i?1:i)}),St(Tt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Jt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Jt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new qt(Qt(t>=240?t-240:t+120,r,i),Qt(t,r,i),Qt(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ie=function t(e){var n=ee(e);function i(t,e){var i=n((t=Wt(t)).r,(e=Wt(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=ne(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function re(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}}function oe(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=fe(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}}function ae(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function se(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ue(t,e){var i,r={},o={};for(i in null!==t&&"object"===n(t)||(t={}),null!==e&&"object"===n(e)||(e={}),e)i in t?r[i]=fe(t[i],e[i]):o[i]=e[i];return function(t){for(i in r)o[i]=r[i](t);return o}}var le=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ce=new RegExp(le.source,"g");function he(t,e){var n,i,r,o=le.lastIndex=ce.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=le.exec(t))&&(i=ce.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:se(n,i)})),o=ce.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,i=0;i<e;++i)s[(n=u[i]).i]=n.x(t);return s.join("")})}function fe(t,e){var i,r=n(e);return null==e||"boolean"===r?te(e):("number"===r?se:"string"===r?(i=jt(e))?(e=i,ie):he:e instanceof jt?ie:e instanceof Date?ae:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?re:Array.isArray(e)?oe:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ue:se)(t,e)}function de(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ye(t){return+t}var ge=[0,1];function pe(t){return t}function me(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function _e(t,e,n){var i=t[0],r=t[1],o=e[0],a=e[1];return r<i?(i=me(r,i),o=n(a,o)):(i=me(i,r),o=n(o,a)),function(t){return o(i(t))}}function xe(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=me(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=dt(t,e,1,i)-1;return o[n](r[n](e))}}function ve(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function be(){var t,e,n,i,r,o,a=ge,s=ge,u=fe,l=pe;function c(){var t,e,n,u=Math.min(a.length,s.length);return l!==pe&&(t=a[0],e=a[u-1],t>e&&(n=t,t=e,e=n),l=function(n){return Math.max(t,Math.min(e,n))}),i=u>2?xe:_e,r=o=null,h}function h(e){return isNaN(e=+e)?n:(r||(r=i(a.map(t),s,u)))(t(l(e)))}return h.invert=function(n){return l(e((o||(o=i(s,a.map(t),se)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,ye),c()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),u=de,c()},h.clamp=function(t){return arguments.length?(l=!!t||pe,c()):l!==pe},h.interpolate=function(t){return arguments.length?(u=t,c()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,c()}}function we(){return be()(pe,pe)}function Me(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function ke(t){return(t=Me(Math.abs(t)))?t[1]:NaN}var Ae,Se=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Te(t){if(!(e=Se.exec(t)))throw new Error("invalid format: "+t);var e;return new Ce({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ce(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ee(t,e){var n=Me(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Te.prototype=Ce.prototype,Ce.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var De={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ee(100*t,e)},r:Ee,s:function(t,e){var n=Me(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(Ae=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Me(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Ne(t){return t}var Pe,Oe,Ie,Re=Array.prototype.map,Le=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ve(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?Ne:(e=Re.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,o=[],a=0,s=e[0],u=0;r>0&&s>0&&(u+s+1>i&&(s=Math.max(1,i-u)),o.push(t.substring(r-=s,r+s)),!((u+=s+1)>i));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Ne:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Re.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Te(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,y=t.width,g=t.comma,p=t.precision,m=t.trim,_=t.type;"n"===_?(g=!0,_="g"):De[_]||(void 0===p&&(p=12),m=!0,_="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var x="$"===f?r:"#"===f&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",v="$"===f?o:/[%p]/.test(_)?u:"",b=De[_],w=/[defgprs%]/.test(_);function M(t){var r,o,u,f=x,M=v;if("c"===_)M=b(t)+M,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:b(Math.abs(t),p),m&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==h&&(k=!1),f=(k?"("===h?h:l:"-"===h||"("===h?"":h)+f,M=("s"===_?Le[8+Ae/3]:"")+M+(k&&"("===h?")":""),w)for(r=-1,o=t.length;++r<o;)if(48>(u=t.charCodeAt(r))||u>57){M=(46===u?a+t.slice(r+1):t.slice(r))+M,t=t.slice(0,r);break}}g&&!d&&(t=i(t,1/0));var A=f.length+t.length+M.length,S=A<y?new Array(y-A+1).join(e):"";switch(g&&d&&(t=i(S+t,S.length?y-M.length:1/0),S=""),n){case"<":t=f+t+M+S;break;case"=":t=f+S+t+M;break;case"^":t=S.slice(0,A=S.length>>1)+f+t+M+S.slice(A);break;default:t=S+f+t+M}return s(t)}return p=void 0===p?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),M.toString=function(){return t+""},M}return{format:h,formatPrefix:function(t,e){var n=h(((t=Te(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(ke(e)/3))),r=Math.pow(10,-i),o=Le[8+i/3];return function(t){return n(r*t)+o}}}}function ze(t,e,n,i){var r,o=vt(t,e,n);switch((i=Te(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ke(e)/3)))-ke(Math.abs(t)))}(o,a))||(i.precision=r),Ie(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ke(e)-ke(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-ke(Math.abs(t)))}(o))||(i.precision=r-2*("%"===i.type))}return Oe(i)}function Ue(t){var e=t.domain;return t.ticks=function(t){var n=e();return _t(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return ze(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),o=0,a=r.length-1,s=r[o],u=r[a];return u<s&&(i=s,s=u,u=i,i=o,o=a,a=i),(i=xt(s,u,n))>0?i=xt(s=Math.floor(s/i)*i,u=Math.ceil(u/i)*i,n):i<0&&(i=xt(s=Math.ceil(s*i)/i,u=Math.floor(u*i)/i,n)),i>0?(r[o]=Math.floor(s/i)*i,r[a]=Math.ceil(u/i)*i,e(r)):i<0&&(r[o]=Math.ceil(s*i)/i,r[a]=Math.floor(u*i)/i,e(r)),t},t}function Fe(t,e){var n,i=0,r=(t=t.slice()).length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}function je(t){return Math.log(t)}function He(t){return Math.exp(t)}function Be(t){return-Math.log(-t)}function Ye(t){return-Math.exp(-t)}function We(t){return isFinite(t)?+("1e"+t):t<0?0:t}function qe(t){return function(e){return-t(-e)}}function Xe(t){var e,n,i=t(je,He),r=i.domain,o=10;function a(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(o),n=function(t){return 10===t?We:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(o),r()[0]<0?(e=qe(e),n=qe(n),t(Be,Ye)):t(je,He),i}return i.base=function(t){return arguments.length?(o=+t,a()):o},i.domain=function(t){return arguments.length?(r(t),a()):r()},i.ticks=function(t){var i,a=r(),s=a[0],u=a[a.length-1];(i=u<s)&&(f=s,s=u,u=f);var l,c,h,f=e(s),d=e(u),y=null==t?10:+t,g=[];if(!(o%1)&&d-f<y){if(f=Math.floor(f),d=Math.ceil(d),s>0){for(;f<=d;++f)for(c=1,l=n(f);c<o;++c)if(!((h=l*c)<s)){if(h>u)break;g.push(h)}}else for(;f<=d;++f)for(c=o-1,l=n(f);c>=1;--c)if(!((h=l*c)<s)){if(h>u)break;g.push(h)}2*g.length<y&&(g=_t(s,u,y))}else g=_t(f,d,Math.min(d-f,y)).map(n);return i?g.reverse():g},i.tickFormat=function(t,r){if(null==r&&(r=10===o?".0e":","),"function"!=typeof r&&(r=Oe(r)),t===1/0)return r;null==t&&(t=10);var a=Math.max(1,o*t/i.ticks().length);return function(t){var i=t/n(Math.round(e(t)));return i*o<o-.5&&(i*=o),i<=a?r(t):""}},i.nice=function(){return r(Fe(r(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},i}Pe=Ve({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Oe=Pe.format,Ie=Pe.formatPrefix;var Ge=new Date,Ke=new Date;function Ze(t,e,n,i){function r(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return r.floor=function(e){return t(e=new Date(+e)),e},r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var a,s=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<i);return s},r.filter=function(n){return Ze((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););}))},n&&(r.count=function(e,i){return Ge.setTime(+e),Ke.setTime(+i),t(Ge),t(Ke),Math.floor(n(Ge,Ke))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var $e=Ze((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));$e.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ze((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):$e:null};var Je=Ze((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),Qe=Ze((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),tn=Ze((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),en=Ze((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}));function nn(t){return Ze((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var rn=nn(0),on=nn(1),an=(nn(2),nn(3),nn(4)),sn=(nn(5),nn(6),Ze((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),un=Ze((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));un.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ze((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var ln=Ze((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})),cn=Ze((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),hn=Ze((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}));function fn(t){return Ze((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var dn=fn(0),yn=fn(1),gn=(fn(2),fn(3),fn(4)),pn=(fn(5),fn(6),Ze((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}))),mn=Ze((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));function _n(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function xn(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vn(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}mn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ze((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var bn,wn,Mn,kn={"-":"",_:" ",0:"0"},An=/^\s*\d+/,Sn=/^%/,Tn=/[\\^$*+?|[\]().{}]/g;function Cn(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function En(t){return t.replace(Tn,"\\$&")}function Dn(t){return new RegExp("^(?:"+t.map(En).join("|")+")","i")}function Nn(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function Pn(t,e,n){var i=An.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function On(t,e,n){var i=An.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function In(t,e,n){var i=An.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function Rn(t,e,n){var i=An.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function Ln(t,e,n){var i=An.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Vn(t,e,n){var i=An.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function zn(t,e,n){var i=An.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Un(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function Fn(t,e,n){var i=An.exec(e.slice(n,n+1));return i?(t.q=3*i[0]-3,n+i[0].length):-1}function jn(t,e,n){var i=An.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function Hn(t,e,n){var i=An.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Bn(t,e,n){var i=An.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function Yn(t,e,n){var i=An.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Wn(t,e,n){var i=An.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function qn(t,e,n){var i=An.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function Xn(t,e,n){var i=An.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Gn(t,e,n){var i=An.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function Kn(t,e,n){var i=Sn.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Zn(t,e,n){var i=An.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function $n(t,e,n){var i=An.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function Jn(t,e){return Cn(t.getDate(),e,2)}function Qn(t,e){return Cn(t.getHours(),e,2)}function ti(t,e){return Cn(t.getHours()%12||12,e,2)}function ei(t,e){return Cn(1+en.count(un(t),t),e,3)}function ni(t,e){return Cn(t.getMilliseconds(),e,3)}function ii(t,e){return ni(t,e)+"000"}function ri(t,e){return Cn(t.getMonth()+1,e,2)}function oi(t,e){return Cn(t.getMinutes(),e,2)}function ai(t,e){return Cn(t.getSeconds(),e,2)}function si(t){var e=t.getDay();return 0===e?7:e}function ui(t,e){return Cn(rn.count(un(t)-1,t),e,2)}function li(t,e){var n=t.getDay();return t=n>=4||0===n?an(t):an.ceil(t),Cn(an.count(un(t),t)+(4===un(t).getDay()),e,2)}function ci(t){return t.getDay()}function hi(t,e){return Cn(on.count(un(t)-1,t),e,2)}function fi(t,e){return Cn(t.getFullYear()%100,e,2)}function di(t,e){return Cn(t.getFullYear()%1e4,e,4)}function yi(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Cn(e/60|0,"0",2)+Cn(e%60,"0",2)}function gi(t,e){return Cn(t.getUTCDate(),e,2)}function pi(t,e){return Cn(t.getUTCHours(),e,2)}function mi(t,e){return Cn(t.getUTCHours()%12||12,e,2)}function _i(t,e){return Cn(1+hn.count(mn(t),t),e,3)}function xi(t,e){return Cn(t.getUTCMilliseconds(),e,3)}function vi(t,e){return xi(t,e)+"000"}function bi(t,e){return Cn(t.getUTCMonth()+1,e,2)}function wi(t,e){return Cn(t.getUTCMinutes(),e,2)}function Mi(t,e){return Cn(t.getUTCSeconds(),e,2)}function ki(t){var e=t.getUTCDay();return 0===e?7:e}function Ai(t,e){return Cn(dn.count(mn(t)-1,t),e,2)}function Si(t,e){var n=t.getUTCDay();return t=n>=4||0===n?gn(t):gn.ceil(t),Cn(gn.count(mn(t),t)+(4===mn(t).getUTCDay()),e,2)}function Ti(t){return t.getUTCDay()}function Ci(t,e){return Cn(yn.count(mn(t)-1,t),e,2)}function Ei(t,e){return Cn(t.getUTCFullYear()%100,e,2)}function Di(t,e){return Cn(t.getUTCFullYear()%1e4,e,4)}function Ni(){return"+0000"}function Pi(){return"%"}function Oi(t){return+t}function Ii(t){return Math.floor(+t/1e3)}!function(t){bn=function(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=Dn(r),c=Nn(r),h=Dn(o),f=Nn(o),d=Dn(a),y=Nn(a),g=Dn(s),p=Nn(s),m=Dn(u),_=Nn(u),x={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Jn,e:Jn,f:ii,H:Qn,I:ti,j:ei,L:ni,m:ri,M:oi,p:function(t){return r[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Oi,s:Ii,S:ai,u:si,U:ui,V:li,w:ci,W:hi,x:null,X:null,y:fi,Y:di,Z:yi,"%":Pi},v={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:gi,e:gi,f:vi,H:pi,I:mi,j:_i,L:xi,m:bi,M:wi,p:function(t){return r[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Oi,s:Ii,S:Mi,u:ki,U:Ai,V:Si,w:Ti,W:Ci,x:null,X:null,y:Ei,Y:Di,Z:Ni,"%":Pi},b={a:function(t,e,n){var i=d.exec(e.slice(n));return i?(t.w=y[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=h.exec(e.slice(n));return i?(t.w=f[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=m.exec(e.slice(n));return i?(t.m=_[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=g.exec(e.slice(n));return i?(t.m=p[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,n,i){return k(t,e,n,i)},d:Hn,e:Hn,f:Gn,H:Yn,I:Yn,j:Bn,L:Xn,m:jn,M:Wn,p:function(t,e,n){var i=l.exec(e.slice(n));return i?(t.p=c[i[0].toLowerCase()],n+i[0].length):-1},q:Fn,Q:Zn,s:$n,S:qn,u:On,U:In,V:Rn,w:Pn,W:Ln,x:function(t,e,i){return k(t,n,e,i)},X:function(t,e,n){return k(t,i,e,n)},y:zn,Y:Vn,Z:Un,"%":Kn};function w(t,e){return function(n){var i,r,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(r=kn[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),a.push(i),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function M(t,e){return function(n){var i,r,o=vn(1900,void 0,1);if(k(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(!e||"Z"in o||(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=xn(vn(o.y,0,1))).getUTCDay(),i=r>4||0===r?yn.ceil(i):yn(i),i=hn.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(r=(i=_n(vn(o.y,0,1))).getDay(),i=r>4||0===r?on.ceil(i):on(i),i=en.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?xn(vn(o.y,0,1)).getUTCDay():_n(vn(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,xn(o)):_n(o)}}function k(t,e,n,i){for(var r,o,a=0,s=e.length,u=n.length;a<s;){if(i>=u)return-1;if(37===(r=e.charCodeAt(a++))){if(r=e.charAt(a++),!(o=b[r in kn?e.charAt(a++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return(x.x=w(n,x),x.X=w(i,x),x.c=w(e,x),v.x=w(n,v),v.X=w(i,v),v.c=w(e,v),{format:function(t){var e=w(t+="",x);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",v);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}})}(t),wn=bn.format,bn.parse,Mn=bn.utcFormat,bn.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ri(t){return new Date(t)}function Li(t){return t instanceof Date?+t:+new Date(+t)}function Vi(t,e,n,i,r,o,a,s,u){var l=we(),c=l.invert,h=l.domain,f=u(".%L"),d=u(":%S"),y=u("%I:%M"),g=u("%I %p"),p=u("%a %d"),m=u("%b %d"),_=u("%B"),x=u("%Y"),v=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[r,1,36e5],[r,3,108e5],[r,6,216e5],[r,12,432e5],[i,1,864e5],[i,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function b(s){return(a(s)<s?f:o(s)<s?d:r(s)<s?y:i(s)<s?g:e(s)<s?n(s)<s?p:m:t(s)<s?_:x)(s)}function w(e,n,i){if(null==e&&(e=10),"number"==typeof e){var r,o=Math.abs(i-n)/e,a=ft((function(t){return t[2]})).right(v,o);return a===v.length?(r=vt(n/31536e6,i/31536e6,e),e=t):a?(r=(a=v[o/v[a-1][2]<v[a][2]/o?a-1:a])[1],e=a[0]):(r=Math.max(vt(n,i,e),1),e=s),e.every(r)}return e}return l.invert=function(t){return new Date(c(t))},l.domain=function(t){return arguments.length?h(Array.from(t,Li)):h().map(Ri)},l.ticks=function(t){var e,n=h(),i=n[0],r=n[n.length-1],o=r<i;return o&&(e=i,i=r,r=e),e=(e=w(t,i,r))?e.range(i,r+1):[],o?e.reverse():e},l.tickFormat=function(t,e){return null==e?b:u(e)},l.nice=function(t){var e=h();return(t=w(t,e[0],e[e.length-1]))?h(Fe(e,t)):l},l.copy=function(){return ve(l,Vi(t,e,n,i,r,o,a,s,u))},l}var zi=Math.PI,Ui=2*zi,Fi=Ui-1e-6;function ji(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Hi(){return new ji}function Bi(t){return function(){return t}}ji.prototype=Hi.prototype={constructor:ji,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,a=this._y1,s=n-t,u=i-e,l=o-t,c=a-e,h=l*l+c*c;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(c*s-u*l)>1e-6&&r){var f=n-o,d=i-a,y=s*s+u*u,g=f*f+d*d,p=Math.sqrt(y),m=Math.sqrt(h),_=r*Math.tan((zi-Math.acos((y+h-g)/(2*p*m)))/2),x=_/m,v=_/p;Math.abs(x-1)>1e-6&&(this._+="L"+(t+x*l)+","+(e+x*c)),this._+="A"+r+","+r+",0,0,"+ +(c*f>l*d)+","+(this._x1=t+v*s)+","+(this._y1=e+v*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(i),s=n*Math.sin(i),u=t+a,l=e+s,c=1^o,h=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+u+","+l),n&&(h<0&&(h=h%Ui+Ui),h>Fi?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=zi)+","+c+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};function Yi(t){this._context=t}function Wi(t){return new Yi(t)}function qi(t){return t[0]}function Xi(t){return t[1]}function Gi(){var t=qi,e=Xi,n=Bi(!0),i=null,r=Wi,o=null;function a(a){var s,u,l,c=a.length,h=!1;for(null==i&&(o=r(l=Hi())),s=0;s<=c;++s)!(s<c&&n(u=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(u,s,a),+e(u,s,a));if(l)return o=null,l+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:Bi(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:Bi(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:Bi(!!t),a):n},a.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),a):r},a.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),a):i},a}function Ki(){}function Zi(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function $i(t){this._context=t}function Ji(t){this._context=t}function Qi(t){this._context=t}function tr(t,e){this._basis=new $i(t),this._beta=e}Yi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},$i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zi(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zi(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Ji.prototype={areaStart:Ki,areaEnd:Ki,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Zi(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Qi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Zi(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},tr.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],o=e[0],a=t[n]-r,s=e[n]-o,u=-1;++u<=n;)i=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(r+i*a),this._beta*e[u]+(1-this._beta)*(o+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var er=function t(e){function n(t){return 1===e?new $i(t):new tr(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function nr(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function ir(t,e){this._context=t,this._k=(1-e)/6}ir.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:nr(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:nr(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var rr=function t(e){function n(t){return new ir(t,e)}return n.tension=function(e){return t(+e)},n}(0);function or(t,e){this._context=t,this._k=(1-e)/6}or.prototype={areaStart:Ki,areaEnd:Ki,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:nr(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ar=function t(e){function n(t){return new or(t,e)}return n.tension=function(e){return t(+e)},n}(0);function sr(t,e){this._context=t,this._k=(1-e)/6}sr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:nr(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ur=function t(e){function n(t){return new sr(t,e)}return n.tension=function(e){return t(+e)},n}(0);function lr(t,e,n){var i=t._x1,r=t._y1,o=t._x2,a=t._y2;if(t._l01_a>1e-12){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>1e-12){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(i,r,o,a,t._x2,t._y2)}function cr(t,e){this._context=t,this._alpha=e}cr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:lr(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var hr=function t(e){function n(t){return e?new cr(t,e):new ir(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function fr(t,e){this._context=t,this._alpha=e}fr.prototype={areaStart:Ki,areaEnd:Ki,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:lr(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var dr=function t(e){function n(t){return e?new fr(t,e):new or(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function yr(t,e){this._context=t,this._alpha=e}yr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:lr(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var gr=function t(e){function n(t){return e?new yr(t,e):new sr(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function pr(t){this._context=t}function mr(t){return t<0?-1:1}function _r(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),a=(n-t._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(mr(o)+mr(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function xr(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function vr(t,e,n){var i=t._x0,r=t._y0,o=t._x1,a=t._y1,s=(o-i)/3;t._context.bezierCurveTo(i+s,r+s*e,o-s,a-s*n,o,a)}function br(t){this._context=t}function wr(t){this._context=new Mr(t)}function Mr(t){this._context=t}function kr(t){return new br(t)}function Ar(t){this._context=t}function Sr(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),a=new Array(i);for(r[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,a[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(r[i-1]=a[i-1]/o[i-1],e=i-2;e>=0;--e)r[e]=(a[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}function Tr(t,e){this._context=t,this._t=e}pr.prototype={areaStart:Ki,areaEnd:Ki,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},br.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vr(this,this._t0,xr(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,vr(this,xr(this,n=_r(this,t,e)),n);break;default:vr(this,this._t0,n=_r(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(wr.prototype=Object.create(br.prototype)).point=function(t,e){br.prototype.point.call(this,e,t)},Mr.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},Ar.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=Sr(t),r=Sr(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Tr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Cr={strokeWidth:2,stroke:"#6b6b6b",fill:"transparent",opacity:1};function Er(t){var n=t.style,i=c(t,["style"]),r=l({},Cr,{},n);return e.createElement("path",s({},i,{style:r}))}var Dr=Gi(),Nr=function(t){var n=t.children,i=c(t,["children"]);return e.createElement("g",s({className:"Voronoi"},i),n)};function Pr(){var t=h(e.useContext(d),2),n=t[0],i=n.stackData,r=n.primaryAxes,o=n.secondaryAxes,a=n.showVoronoi,s=n.width,u=n.height,c=n.gridWidth,y=n.gridHeight,g=n.onFocus,p=n.onClick,m=n.tooltip,_=n.primaryCursor,x=n.secondaryCursor,v=t[1],b=e.useCallback((function(t){return v((function(e){return l({},e,{focused:t})}))}),[v]),w=g||p||m||_||x;return e.useMemo((function(){if(!(i&&r.length&&o.length&&s&&u&&w))return null;var t=[[0,0],[c,y]],n=null,l=[];return i.forEach((function(t){t.datums.filter((function(t){return t.defined})).forEach((function(t){t.boundingPoints.forEach((function(e){"number"!=typeof t.x||"number"!=typeof t.y||Number.isNaN(t.y)||Number.isNaN(t.x)||l.push({x:e.x,y:e.y,datum:t})}))}))})),n=f(ut.from(l,(function(t){return t.x}),(function(t){return t.y})).voronoi(t.flat()).cellPolygons()),e.createElement(Nr,null,n.map((function(t,n){var i=t.index,r=l[i].datum,o=Dr(t);return e.createElement(Er,{key:n,d:o,className:"action-voronoi",onMouseEnter:function(t){return b(r)},onMouseLeave:function(t){return b(null)},style:{fill:"rgba(0,0,0,.2)",stroke:"rgba(255,255,255,.5)",opacity:a?1:0}})})))}),[y,c,u,w,b,r.length,o.length,a,i,s])}var Or={strokeWidth:1,fill:"transparent",opacity:1};function Ir(t){var n=t.style,i=c(t,["style"]),r=l({},Or,{},n);return e.createElement("line",s({},i,{style:r}))}var Rr={fontFamily:"Helvetica",fontSize:10,opacity:1};function Lr(t){var n=t.style,i=(t.opacity,c(t,["style","opacity"])),r=l({},Rr,{},n);return e.createElement("text",s({},i,{style:r}))}var Vr=e.forwardRef((function(t,n){return e.createElement("g",s({},t,{ref:n}))})),zr="top",Ur="right",Fr="left",jr="single",Hr="series",Br="primary",Yr="secondary",Wr={line:{strokeWidth:"1",fill:"transparent"},tick:{fontSize:10,fontFamily:"sans-serif"}};function qr(t){var n,i,r=t.id,o=t.type,s=t.position,u=t.tickSizeInner,c=t.tickSizeOuter,g=t.show,p=t.showGrid,m=t.showTicks,_=t.styles,x=t.maxLabelRotation,v=t.labelRotationStep,b=t.tickPadding,w=t.ticks,M=t.tickCount,k=t.minTickCount,A=t.maxTickCount,S=t.scale,C=t.max,E=t.transform,D=t.vertical,N=t.format,P=h(t.range,2),O=P[0],I=P[1],R=t.directionMultiplier,L=t.tickOffset,V=t.gridOffset,z=t.spacing,U=h(e.useState(0),2),F=U[0],j=U[1],H=h(e.useContext(d),2),B=H[0],Y=B.gridWidth,W=B.gridHeight,q=B.dark,X=B.axisDimensions,G=H[1],K=e.useRef(),Z=e.useRef(),$=e.useCallback((function(){if(K.current){var t=Array.apply(void 0,f(K.current.querySelectorAll(".tickLabel"))).map((function(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height}})),e=D?W:Y,n=M,i=0,h=0,d=0,y=0,g=1e5;Array.apply(void 0,f(K.current.querySelectorAll(".tick"))).map((function(t){return t.getBoundingClientRect()})).reduce((function(t,e){if(t){var n=D?e.top-t.top:e.left-t.left;g=n<g?n:g}return e}),!1);var p=t[0]||{width:0,height:0},m=t[t.length-1]||{width:0,height:0},_=l({},p,{_overflow:0});t.forEach((function(t){t._overflow=D?t.height-g:t.width,t._overflow>0&&t._overflow>_._overflow&&(_=t)}));var w=D?_.height:_.width;if(!D&&"ordinal"===o||"auto"!==M){if(!D){var S=Math.min(Math.max(Math.abs(Math.acos(g/(_.width+b))*(180/Math.PI)),0),x);S=Number.isNaN(S)?0:S,(0===(S=Math.ceil(Math.ceil(S/v)*v))||S===x||Math.abs(S)-Math.abs(F)>5)&&j((function(){return"top"===s?-S:S}))}}else n=Math.max(k,Math.min(Math.floor((e+w-b)/(w+2*b)),A));var T=Math.ceil(b/g);Z.current!==T&&(Z.current=T),D?(d=Math.ceil(p.height/2),y=Math.ceil(m.height/2),i=Math.max(u,c)+b+Math.max.apply(Math,[0].concat(f(t.map((function(t){return Math.ceil(t.width)})))))):h=Math.max(u,c)+b+Math.max.apply(Math,[0].concat(f(t.map((function(t){return Math.ceil(t.height)})))));var C={width:i,height:h,top:d,bottom:y,left:0,right:0,tickCount:n};X&&X[s]&&X[s][r]&&!Object.keys(C).some((function(t){return C[t]!==X[s][r][t]}))||G((function(t){return l({},t,{axisDimensions:l({},t.axisDimensions,a({},s,l({},t.axisDimensions[s]||{},a({},r,C))))})}))}else X[s]&&X[s][r]&&G((function(t){var e=t.axisDimensions[s]||{};return delete e[r],l({},t,{axisDimensions:l({},t.axisDimensions,a({},s,e))})}))}),[X,W,Y,r,v,x,A,k,s,F,G,M,b,u,c,o,D]),J=T(F);if(e.useLayoutEffect((function(){J===F&&$()}),[X,r,$,s,J,F]),e.useEffect((function(){J!==F&&$()}),[X,r,$,s,J,F]),!g)return null;n=D?s===Fr?"\n        M ".concat(-c,", ").concat(O,"\n        H 0\n        V ").concat(I,"\n        H ").concat(-c,"\n      "):"\n        M ".concat(c,", ").concat(O,"\n        H 0\n        V ").concat(I,"\n        H ").concat(c,"\n      "):"bottom"===s?"\n        M 0, ".concat(c,"\n        V 0\n        H ").concat(I,"\n        V ").concat(c,"\n      "):"\n        M 0, ".concat(-c,"\n        V 0\n        H ").concat(I,"\n        V ").concat(-c,"\n              "),i="boolean"==typeof p?p:"ordinal"!==o;var Q=l({},Wr,{},_);return e.createElement(Vr,{ref:K,className:"Axis",style:{pointerEvents:"none",transform:s===Ur?y.translateX(Y):"bottom"===s?y.translateY(W):void 0}},e.createElement(Er,{className:"domain",d:n,style:l({stroke:q?"rgba(255,255,255, .1)":"rgba(0,0,0, .1)"},Q.line)}),e.createElement(Vr,{className:"ticks",style:{}},w.map((function(t,n){return e.createElement(Vr,{key:[String(t),n].join("_"),className:"tick",style:{transform:E(S(t)||0)}},i&&e.createElement(Ir,{className:"gridLine",x1:D?0:V,x2:D?C:V,y1:D?V:0,y2:D?V:C,style:l({stroke:q?"rgba(255,255,255, .1)":"rgba(0,0,0, .1)",strokeWidth:1},Q.line)}),m?e.createElement("g",{className:"labelGroup"},e.createElement(Ir,{className:"tickline",x1:D?0:L,x2:D?R*u:L,y1:D?L:0,y2:D?L:R*u,style:l({stroke:q?"rgba(255,255,255, .1)":"rgba(0,0,0, .1)",strokeWidth:1},Q.line)}),e.createElement(Lr,{className:"tickLabel",style:l({fill:q?"white":"black"},Q.tick,{transform:"".concat(y.translate(D?R*z:L,D?L:R*z)," rotate(").concat(-F,"deg)")}),dominantBaseline:F?"central":"bottom"===s?"hanging":s===zr?"alphabetic":"central",textAnchor:F?"end":s===Ur?"start":s===Fr?"end":"middle"},N(t,n))):null)}))))}function Xr(t){return e.createElement(qr,t)}var Gr=function(t){return t?"rgba(255,255,255,.9)":"rgba(0, 26, 39, 0.9)"};function Kr(){var t=h(e.useContext(d),1)[0],n=t.primaryAxes,i=t.secondaryAxes,r=t.gridX,o=t.gridY,a=t.gridWidth,s=t.gridHeight,u=t.dark,c=t.focused,f=t.latestFocused,g=t.getDatumStyle,p=t.tooltip,m=e.useRef(),_=e.useRef(),x=e.useRef(),v=p||{},b=v.align,w=v.alignPriority,M=v.padding,k=v.tooltipArrowPadding,A=v.arrowPosition,S=v.render,T=v.anchor,C=v.show,E=h(e.useState(b||"auto"),2),D=E[0],N=E[1];if(e.useEffect((function(){x.current=C}),[C]),e.useLayoutEffect((function(){if("auto"===b&&m.current&&C&&T){for(var t={left:1/0,top:1/0,right:1/0,bottom:1/0},e=m.current,n=e.getBoundingClientRect(),i=_.current.getBoundingClientRect();e!==document.body;){e=e.parentElement;var r=window.getComputedStyle(e),o=r.overflowX,a=r.overflowY;if(e===document.body||[o,a].find((function(t){return["auto","hidden"].includes(t)}))){var s=e.getBoundingClientRect(),u=n.left-s.left+T.x,l=n.top-s.top+T.y,c=s.width-u,h=s.height-l;t.left=Math.min(t.left,u),t.top=Math.min(t.top,l),t.right=Math.min(t.right,c),t.bottom=Math.min(t.bottom,h)}}var f=null;w.forEach((function(e){if(!f){var n=t.left-k-M-T.horizontalPadding>i.width,r=t.right-k-M-T.horizontalPadding>i.width,o=t.top-k-M-T.verticalPadding>i.height&&t.left>i.width/2,a=t.bottom-k-M-T.verticalPadding>i.height,s=t.left>i.width/2,u=t.right>i.width/2,l=t.top>i.height/2,c=t.bottom>i.height/2;"left"===e?n&&l&&c&&(f=e):"right"===e?r&&l&&c&&(f=e):"top"===e?o&&s&&u&&(f=e):"bottom"===e?a&&s&&u&&(f=e):"topLeft"===e?o&&n&&(f=e):"topRight"===e?o&&r&&(f=e):"bottomLeft"===e?a&&n&&(f=e):"bottomRight"===e&&a&&r&&(f=e)}})),f!==D&&N(f)}}),[b,w,T,D,M,C,k]),!p)return null;var P=c||f,O=0,I=-50,R={},L=Gr(u),V=A;"top"===D?(O=-50,I=-100):"topRight"===D?(O=0,I=-100):"right"===D?(O=0,I=-50):"bottomRight"===D?(O=0,I=0):"bottom"===D?(O=-50,I=0):"bottomLeft"===D?(O=-100,I=0):"left"===D?(O=-100,I=-50):"topLeft"===D?(O=-100,I=-100):"center"===D&&(O=-50,I=-50),V||("left"===D?V="right":"right"===D?V="left":"top"===D?V="bottom":"bottom"===D?V="top":"topRight"===D?V="bottomLeft":"bottomRight"===D?V="topLeft":"topLeft"===D?V="bottomRight":"bottomLeft"===D&&(V="topRight")),R="bottom"===V?{top:"100%",left:"50%",transform:"translate3d(-50%, 0%, 0)",borderLeft:"".concat(7*.8,"px solid transparent"),borderRight:"".concat(7*.8,"px solid transparent"),borderTop:"".concat(7,"px solid ").concat(L)}:"top"===V?{top:"0%",left:"50%",transform:"translate3d(-50%, -100%, 0)",borderLeft:"".concat(7*.8,"px solid transparent"),borderRight:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7,"px solid ").concat(L)}:"right"===V?{top:"50%",left:"100%",transform:"translate3d(0%, -50%, 0)",borderTop:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7*.8,"px solid transparent"),borderLeft:"".concat(7,"px solid ").concat(L)}:"left"===V?{top:"50%",left:"0%",transform:"translate3d(-100%, -50%, 0)",borderTop:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7*.8,"px solid transparent"),borderRight:"".concat(7,"px solid ").concat(L)}:"topRight"===V?{top:"0%",left:"100%",transform:"translate3d(-50%, -50%, 0) rotate(-45deg)",borderTop:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7*.8,"px solid transparent"),borderLeft:"".concat(14,"px solid ").concat(L)}:"bottomRight"===V?{top:"100%",left:"100%",transform:"translate3d(-50%, -50%, 0) rotate(45deg)",borderTop:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7*.8,"px solid transparent"),borderLeft:"".concat(14,"px solid ").concat(L)}:"topLeft"===V?{top:"0%",left:"0%",transform:"translate3d(-50%, -50%, 0) rotate(45deg)",borderTop:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7*.8,"px solid transparent"),borderRight:"".concat(14,"px solid ").concat(L)}:"bottomLeft"===V?{top:"100%",left:"0%",transform:"translate3d(-50%, -50%, 0) rotate(-45deg)",borderTop:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7*.8,"px solid transparent"),borderRight:"".concat(14,"px solid ").concat(L)}:{opacity:0};var z,U=y.getAxisByAxisID(n,P?P.series.primaryAxisID:null),F=y.getAxisByAxisID(i,P?P.series.secondaryAxisID:null),j=M+T.horizontalPadding,H=M+T.verticalPadding,B=l({},t,{},t.tooltip,{datum:P,getStyle:function(t){return t.getStatusStyle(P,g)},primaryAxis:U,secondaryAxis:F}),Y=e.createElement(S,B);return x.current===C&&(z=!0),e.createElement("div",{className:"tooltip-wrap",style:{pointerEvents:"none",position:"absolute",left:"".concat(r,"px"),top:"".concat(o,"px"),width:"".concat(a,"px"),height:"".concat(s,"px"),opacity:C?1:0,transition:"all .3s ease"},ref:function(t){m.current=t}},e.createElement("div",{style:{position:"absolute",left:0,top:0,transform:y.translate(T.x,T.y),transition:z?"all .2s ease":"opacity .2s ease"}},e.createElement("div",{style:{transform:"translate3d(".concat(O,"%, ").concat(I,"%, 0)"),padding:"".concat(k+H,"px ").concat(k+j,"px"),width:"auto",transition:"all .2s ease"}},e.createElement("div",{ref:function(t){_.current=t},style:{fontSize:"12px",padding:"5px",background:Gr(u),color:u?"black":"white",borderRadius:"3px",position:"relative"}},e.createElement("div",{style:l({position:"absolute",width:0,height:0},R,{transition:z?"all .2s ease":"none"})}),Y))))}var Zr=function(t){return t?"rgba(255,255,255,.3)":"rgba(0, 26, 39, 0.3)"},$r=function(t){return t?"rgba(255,255,255,.9)":"rgba(0, 26, 39, 0.9)"};function Jr(t){var n=t.primary,i=h(e.useContext(d),1)[0],r=i.primaryCursor,o=i.secondaryCursor,a=i.focused,s=i.latestFocused,u=i.gridX,c=i.gridY,f=i.dark,g=a||s,p=n?r:o,m=p||{},_=m.showLine,x=m.showLabel,v=m.resolvedValue,b=m.snap,w=m.render,M=m.axis,k=m.siblingAxis,A=m.resolvedShow,T=S(v,void 0!==v),C=e.useRef();if(e.useEffect((function(){C.current=A}),[A]),!p)return null;var E,D,N,P,O,I,R,L,V=b||"ordinal"===M.type,z=k.scale.range();M.vertical?(D=M.scale(T),N=z[0],P=z[1],O=D-1,I=D+M.cursorSize+1,"left"===M.position?(R=-100,L=-50):(R=0,L=-50)):(N=(E=M.scale(T))-1,P=E+M.cursorSize+1,O=z[0],I=z[1],"top"===M.position?(R=-500,L=-100):(R=-50,L=0));var U=l({},p);U.formattedValue=String((M.vertical,void 0!==T?M.format(M.stacked&&!n&&g?g.totalValue:T):""));var F,j=Math.min(N,P),H=Math.min(O,I),B=Math.max(N,P),Y=Math.max(O,I),W=M.vertical&&M.RTL?B:N+(M.vertical?0:(P-N)/2)+(M.vertical?0:1),q=!M.vertical&&M.RTL?H:O+(M.vertical?(I-O)/2:0)+(M.vertical?1:0),X=Math.max(Y-H,0),G=Math.max(B-j,0);C.current===A&&(F=!0);var K=w(U);return e.createElement("div",{style:{pointerEvents:"none",position:"absolute",top:0,left:0,transform:y.translate(u,c),opacity:A?1:0,transition:"all .3s ease"},className:"Cursor"},_?e.createElement("div",{style:{position:"absolute",top:0,left:0,transform:y.translate(j,H),width:"".concat(G,"px"),height:"".concat(X,"px"),background:Zr(f),transition:V&&F?"all .2s ease":"opacity .2s ease"}}):null,x?e.createElement("div",{style:{position:"absolute",top:0,left:0,transform:y.translate(W,q),transition:V&&F?"all .2s ease":"opacity .2s ease"}},e.createElement("div",{style:{padding:"5px",fontSize:"10px",background:$r(f),color:$r(!f),borderRadius:"3px",position:"relative",transform:"translate3d(".concat(R,"%, ").concat(L,"%, 0)"),whiteSpace:"nowrap"}},K)):null)}function Qr(){var t=h(e.useContext(d),1)[0],n=t.pointer,i=t.brush,r=t.gridX,o=t.gridY,a=t.gridHeight,s=t.dark;return i?e.createElement("div",{className:"Brush",style:{pointerEvents:"none",position:"absolute",left:0,top:0,transform:y.translate(r,o),opacity:n.dragging?Math.abs(n.sourceX-n.x)<20?.5:1:0}},e.createElement("div",{style:l({position:"absolute",transform:y.translate(Math.min(n.x,n.sourceX),0),width:"".concat(Math.abs(n.x-n.sourceX),"px"),height:"".concat(a,"px"),background:s?"rgba(255,255,255,.3)":"rgba(0, 26, 39, 0.3)"},i.style)})):null}var to=e.forwardRef((function(t,n){var i=t.className,r=t.style,o=void 0===r?{}:r,a=c(t,["className","style"]),u=h(e.useContext(d),1)[0],g=h(e.useContext(d),2),p=g[0],m=p.width,_=p.height,x=p.offset,v=p.gridX,b=p.gridY,w=p.stackData,k=p.primaryAxes,A=p.secondaryAxes,S=p.renderSVG,T=p.onClick,C=p.seriesOptions,E=p.getSeriesOrder,D=p.focused,N=g[1],P=e.useRef();e.useLayoutEffect((function(){if(P.current){var t=P.current.getBoundingClientRect();t.left===x.left&&t.top===x.top||N((function(e){return l({},e,{offset:{left:t.left,top:t.top}})}))}}));var O=e.useRef(),I=function(t){O.current&&U.cancel(O.current),O.current=U((function(){O.current=null;var e=t.clientX,n=t.clientY;N((function(t){var i=e-x.left-v,r=n-x.top-b,o=l({},t.pointer,{active:!0,x:i,y:r,dragging:t.pointer&&t.pointer.down});return l({},t,{pointer:o})}))}))},R=function t(){document.removeEventListener("mouseup",t),document.removeEventListener("mousemove",I),N((function(t){return l({},t,{pointer:l({},t.pointer,{down:!1,dragging:!1,released:{x:t.pointer.x,y:t.pointer.y}})})}))},L=E(f(w).reverse()),V=D?L.findIndex((function(t){return t.id===D.series.id})):-1,z=(D?[].concat(f(L.slice(0,V)),f(L.slice(V+1)),[L[V]]):L).map((function(t){return e.createElement(t.Component,s({key:t.id},C[t.index],{series:t,stackData:w}))}));return M((function(){n.current&&n.current.parentElement&&!n.current.parentElement.style.position&&(n.current.parentElement.style.position="relative")})),e.createElement("div",s({ref:n},a,{className:"ReactChart ".concat(i||""),style:l({width:m,height:_,position:"absolute"},o)}),e.createElement("svg",{ref:P,style:{width:m,height:_,overflow:"hidden"},onMouseEnter:function(t){return t.persist()||I(t)},onMouseMove:function(t){return t.persist()||I(t)},onMouseLeave:function(t){return t.persist()||(N((function(t){return l({},t,{focused:null})})),void N((function(t){return l({},t,{pointer:l({},t.pointer,{active:!1})})})))},onMouseDown:function(t){return t.persist()||(document.addEventListener("mouseup",R),document.addEventListener("mousemove",I),void N((function(t){return l({},t,{pointer:l({},t.pointer,{sourceX:t.pointer.x,sourceY:t.pointer.y,down:!0})})})))},onClick:T},e.createElement("g",{style:{transform:y.translate(v,b)}},e.createElement(j,{x1:-v,x2:m-v,y1:-b,y2:_-b,style:{opacity:0}}),e.createElement(Pr,null),e.createElement("g",{className:"axes"},[].concat(f(k),f(A)).map((function(t){return e.createElement(Xr,s({key:t.id},t))}))),e.createElement("g",{className:"Series",style:{pointerEvents:"none"}},z)),S?S({chartState:u,setChartState:N}):null),e.createElement(Jr,{primary:!0}),e.createElement(Jr,null),e.createElement(Qr,null),e.createElement(Kr,null))}));function eo(t){var n=h(e.useContext(d),1)[0],i=n.focused,r=n.getSeriesStyle;return t.getStatusStyle(i,r)}function no(t){var n=h(e.useContext(d),1)[0],i=n.focused,r=n.getDatumStyle;return t.getStatusStyle(i,r)}var io={r:2,strokeWidth:"1",stroke:"#000000",fill:"#000000",opacity:1};function ro(t){var n=t.x,i=t.y,r=(t.r,t.style),o=c(t,["x","y","r","style"]),a=l({},io,{},r);return e.createElement("circle",s({},o,{cx:n||0,cy:i||0,r:1,style:a}))}var oo={strokeWidth:2},ao={r:2};function so(t){var n=t.series,i=t.showPoints,r=t.curve,o=e.useMemo((function(){return Gi().x((function(t){return t.x})).y((function(t){return t.y})).defined((function(t){return t.defined})).curve(r)}),[r]),a=e.useMemo((function(){return o(n.datums)}),[o,n.datums]),s=eo(n),u={d:a,style:l({},oo,{},s,{},s.line,{fill:"none"})};return e.createElement("g",null,e.createElement(Er,u),i&&n.datums.map((function(t,n){return e.createElement(uo,{key:n,datum:t,style:s})})))}function uo(t){var n=t.datum,i=t.style,r=h(e.useContext(d),2)[1],o=no(n),a={x:n?n.x:void 0,y:n?n.y:void 0,style:l({},ao,{},i,{},i.circle,{},o,{},o.circle),onMouseEnter:e.useCallback((function(t){return r((function(t){return l({},t,{element:n})}))}),[n,r]),onMouseLeave:e.useCallback((function(t){return r((function(t){return l({},t,{element:null})}))}),[r])};return n.defined?e.createElement(ro,a):null}so.defaultProps={curve:kr},so.plotDatum=function(t,e){var n=e.primaryAxis,i=e.secondaryAxis,r=e.xAxis,o=e.yAxis;t.primaryCoord=n.scale(t.primary),t.secondaryCoord=i.scale(t.secondary),t.x=r.scale(t.xValue),t.y=o.scale(t.yValue),t.defined=y.isValidPoint(t.xValue)&&y.isValidPoint(t.yValue),t.base=n.vertical?r.scale(t.baseValue):o.scale(t.baseValue),"ordinal"===r.type&&(t.x+=r.tickOffset),"ordinal"===o.type&&(t.y+=o.tickOffset),t.anchor={x:t.x,y:t.y},t.boundingPoints=[t.anchor]},so.buildStyles=function(t,e){var n=e.defaultColors,i={color:n[t.index%(n.length-1)]};y.buildStyleGetters(t,i)};var lo={r:2};function co(t){var n=t.series,i=eo(n);return e.createElement("g",null,n.datums.map((function(t,n){return e.createElement(ho,{key:n,datum:t,style:i})})))}function ho(t){var n=t.datum,i=t.style,r=no(n),o=h(e.useContext(d),2)[1],a={x:n?n.x:void 0,y:n?n.y:void 0,style:l({},lo,{},void 0!==n.r?{r:n.r}:{},{},i,{},i.circle,{},r,{},r.circle),onMouseEnter:e.useCallback((function(t){return o((function(t){return l({},t,{element:n})}))}),[n,o]),onMouseLeave:e.useCallback((function(t){return o((function(t){return l({},t,{element:null})}))}),[o])};return n.defined?e.createElement(ro,a):null}co.plotDatum=function(t,e){var n=e.primaryAxis,i=e.secondaryAxis,r=e.xAxis,o=e.yAxis;t.primaryCoord=n.scale(t.primary),t.secondaryCoord=i.scale(t.secondary),t.x=r.scale(t.xValue),t.y=o.scale(t.yValue),t.defined=y.isValidPoint(t.xValue)&&y.isValidPoint(t.yValue),t.base=n.vertical?r.scale(t.baseValue):o.scale(t.baseValue),"ordinal"===r.type&&(t.x+=r.tickOffset),"ordinal"===o.type&&(t.y+=o.tickOffset),t.anchor={x:t.x,y:t.y,verticalPadding:t.r,horizontalPadding:t.r},t.boundingPoints=[t.anchor]},co.buildStyles=function(t,e){var n=e.defaultColors,i={color:n[t.index%(n.length-1)]};y.buildStyleGetters(t,i)};var fo={strokeWidth:0},yo={strokeWidth:2},go={r:1.5};function po(t){var n=t.series,i=t.showOrphans,r=t.showPoints,o=t.curve,a=e.useMemo((function(){return function(){var t=qi,e=null,n=Bi(0),i=Xi,r=Bi(!0),o=null,a=Wi,s=null;function u(u){var l,c,h,f,d,y=u.length,g=!1,p=new Array(y),m=new Array(y);for(null==o&&(s=a(d=Hi())),l=0;l<=y;++l){if(!(l<y&&r(f=u[l],l,u))===g)if(g=!g)c=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=l-1;h>=c;--h)s.point(p[h],m[h]);s.lineEnd(),s.areaEnd()}g&&(p[l]=+t(f,l,u),m[l]=+n(f,l,u),s.point(e?+e(f,l,u):p[l],i?+i(f,l,u):m[l]))}if(d)return s=null,d+""||null}function l(){return Gi().defined(r).curve(a).context(o)}return u.x=function(n){return arguments.length?(t="function"==typeof n?n:Bi(+n),e=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:Bi(+e),u):t},u.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Bi(+t),u):e},u.y=function(t){return arguments.length?(n="function"==typeof t?t:Bi(+t),i=null,u):n},u.y0=function(t){return arguments.length?(n="function"==typeof t?t:Bi(+t),u):n},u.y1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:Bi(+t),u):i},u.lineX0=u.lineY0=function(){return l().x(t).y(n)},u.lineY1=function(){return l().x(t).y(i)},u.lineX1=function(){return l().x(e).y(n)},u.defined=function(t){return arguments.length?(r="function"==typeof t?t:Bi(!!t),u):r},u.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),u):a},u.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),u):o},u}().x((function(t){return t.x})).y0((function(t){return t.base})).y1((function(t){return t.y})).defined((function(t){return t.defined})).curve(o)}),[o]),s=e.useMemo((function(){return Gi().x((function(t){return t.x})).y((function(t){return t.y})).defined((function(t){return t.defined})).curve(o)}),[o]),u=e.useMemo((function(){return a(n.datums)}),[a,n.datums]),c=e.useMemo((function(){return s(n.datums)}),[s,n.datums]),h=eo(n),f={d:u,style:l({},fo,{},h,{},h.area)},d={d:c,style:l({},yo,{},h,{},h.line,{fill:"none"})};return e.createElement("g",null,e.createElement(Er,f),e.createElement(Er,d),i&&n.datums.map((function(t,n,i){return e.createElement(mo,{key:n,datum:t,style:h,all:i,index:n})})),r&&n.datums.map((function(t,n){return e.createElement(_o,{key:n,datum:t,style:h})})))}po.defaultProps={showOrphans:!0,showLine:!0,showPoints:!0,curve:Wi},po.plotDatum=function(t,e){var n=e.primaryAxis,i=e.secondaryAxis,r=e.xAxis,o=e.yAxis;i.scale.clamp(!0),t.primaryCoord=n.scale(t.primary),t.secondaryCoord=i.scale(t.secondary),t.x=r.scale(t.xValue),t.y=o.scale(t.yValue),t.defined=y.isValidPoint(t.xValue)&&y.isValidPoint(t.yValue),t.base=n.vertical?r.scale(t.baseValue):o.scale(t.baseValue),i.scale.clamp(!1),"ordinal"===r.type&&(t.x+=r.tickOffset),"ordinal"===o.type&&(t.y+=o.tickOffset),t.anchor={x:t.x,y:t.y},t.boundingPoints=[t.anchor,{x:n.vertical?"left"===n.position?t.base-1:t.base:t.anchor.x,y:n.vertical?t.anchor.y:"bottom"===n.position?t.base-1:t.base}]},po.buildStyles=function(t,e){var n=e.defaultColors,i={color:n[t.index%(n.length-1)]};y.buildStyleGetters(t,i)};var mo=function(t){var n=t.datum,i=t.style,r=t.all,o=t.index,a=r[o-1]||{defined:!1},s=r[o+1]||{defined:!1},u=no(n),c={x1:!n||Number.isNaN(n.x)?null:n.x,y1:!n||Number.isNaN(n.base)?null:n.base,x2:!n||Number.isNaN(n.x)?null:n.x,y2:!n||Number.isNaN(n.y)?null:n.y,style:l({},yo,{},i,{},i.line,{},u,{},u.line)};return!n.defined||a.defined||s.defined?null:e.createElement(Ir,c)};function _o(t){var n=t.datum,i=t.style,r=h(e.useContext(d),2)[1],o=no(n),a={x:n?n.x:void 0,y:n?n.y:void 0,style:l({},go,{},i,{},i.circle,{},o,{},o.circle),onMouseEnter:e.useCallback((function(t){return r((function(t){return l({},t,{element:n})}))}),[n,r]),onMouseLeave:e.useCallback((function(t){return r((function(t){return l({},t,{element:null})}))}),[r])};return n.defined?e.createElement(ro,a):null}function xo(t){var n=t.series,i=h(e.useContext(d),1)[0].primaryAxes,r=eo(n),o=(n.primaryAxisID?i.find((function(t){return t.id===n.primaryAxisID})):i[0]).barOffset;return e.createElement("g",{className:"series bar"},n.datums.map((function(t,n){return e.createElement(vo,s({key:n},{datum:t,barOffset:o,style:r}))})))}function vo(t){var n,i,r,o,a=t.datum,s=t.barOffset,u=t.style,c=h(e.useContext(d),2),f=c[0].primaryAxes,y=c[1],g=a?a.x:0,p=a?a.y:0,m=a?a.base:0,_=a?a.size:0;f.find((function(t){return t.vertical}))?(n=m,r=g,o=(i=p+s)+_):(r=(n=g+s)+_,i=p,o=m);var x=no(a),v={style:l({pointerEvents:"all"},u,{},u.rectangle,{},x,{},x.rectangle),x1:Number.isNaN(n)?null:n,y1:Number.isNaN(i)?null:i,x2:Number.isNaN(r)?null:r,y2:Number.isNaN(o)?null:o,onMouseEnter:e.useCallback((function(t){return y((function(t){return l({},t,{element:a})}))}),[a,y]),onMouseLeave:e.useCallback((function(t){return y((function(t){return l({},t,{element:null})}))}),[y])};return e.createElement(j,v)}xo.plotDatum=function(t,e){var n=e.xAxis,i=e.yAxis,r=e.primaryAxis,o=e.secondaryAxis;if(o.scale.clamp(!0),t.primaryCoord=r.scale(t.primary),t.secondaryCoord=o.scale(t.secondary),t.x=n.scale(t.xValue),t.y=i.scale(t.yValue),t.defined=y.isValidPoint(t.xValue)&&y.isValidPoint(t.yValue),t.base=o.scale(t.baseValue),t.size=r.barSize,o.scale.clamp(!1),!o.stacked){t.size=r.seriesBarSize;var a=r.seriesBandScale(t.seriesTypeIndex);o.vertical?t.x+=a:t.y+=a}t.anchor={x:t.x,y:t.y,horizontalPadding:o.vertical?t.size/2:0,verticalPadding:o.vertical?0:t.size/2},r.vertical?t.anchor.y+="ordinal"!==r.type?0:t.size/2:t.anchor.x+="ordinal"!==r.type?0:t.size/2,t.boundingPoints=[t.anchor,{x:r.vertical?"left"===r.position?t.base+1:t.base:t.anchor.x,y:r.vertical?t.anchor.y:"bottom"===r.position?t.base-1:t.base}]},xo.buildStyles=function(t,e){var n=e.defaultColors,i={color:n[t.index%(n.length-1)]};y.buildStyleGetters(t,i)};var bo,wo={line:so,bubble:co,area:po,bar:xo},Mo={type:"line",showPoints:!0,showOrphans:!0,curve:kr},ko=(a(bo={},"linear",(function t(){var e=we();return e.copy=function(){return ve(e,t())},bt.apply(e,arguments),Ue(e)})),a(bo,"log",(function t(){var e=Xe(be()).domain([1,10]);return e.copy=function(){return ve(e,t()).base(e.base())},bt.apply(e,arguments),e})),a(bo,"time",(function(){return bt.apply(Vi(un,sn,rn,en,tn,Qe,Je,$e,wn).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)})),a(bo,"utc",(function(){return bt.apply(Vi(mn,pn,dn,hn,cn,ln,Je,$e,Mn).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)})),a(bo,"ordinal",kt),bo);function Ao(t){var e=t.axis,n=e.primary,i=e.type,r=e.invert,o=e.position,a=e.primaryAxisID,s=e.min,u=void 0===s?void 0:s,l=e.max,c=void 0===l?void 0:l,h=e.hardMin,d=void 0===h?void 0:h,g=e.hardMax,p=void 0===g?void 0:g,m=e.base,_=void 0===m?void 0:m,x=e.tickCount,v=void 0===x?"auto":x,b=e.minTickCount,w=void 0===b?0:b,M=e.maxTickCount,k=void 0===M?1/0:M,A=e.tickValues,S=void 0===A?null:A,T=e.format,C=void 0===T?null:T,E=e.tickSizeInner,D=void 0===E?6:E,N=e.tickSizeOuter,P=void 0===N?6:N,O=e.tickPadding,I=void 0===O?14:O,R=e.maxLabelRotation,L=void 0===R?50:R,V=e.labelRotationStep,z=void 0===V?5:V,U=e.innerPadding,F=void 0===U?.2:U,j=e.outerPadding,H=void 0===j?.1:j,B=e.showGrid,Y=void 0===B?null:B,W=e.showTicks,q=void 0===W||W,X=e.show,G=void 0===X||X,K=e.stacked,Z=void 0!==K&&K,$=e.id,J=t.materializedData,Q=t.gridHeight,tt=t.gridWidth;t.axisDimensions;if(!o)throw new Error("Chart axes must have a valid 'position' property");for(var et,nt,it,rt=n?"primary":"secondary",ot=!n&&"primary",at="".concat(rt,"AxisID"),st=[Fr,Ur].indexOf(o)>-1,ut=function(t){return[zr,Ur].indexOf(t)>-1}(o),lt=$||"".concat(o,"_").concat(i),ct=[],ht={},ft={},dt=0;dt<J.length;dt++)if(!J[dt][at]||J[dt][at]===lt)for(var yt=0;yt<J[dt].datums.length;yt++){var gt=J[dt].datums[yt],pt=void 0,mt=ot?gt[ot]:yt;"ordinal"===i?-1===ct.indexOf()&&ct.push(J[dt].datums[yt][rt]):pt="time"===i||"utc"===i?+gt[rt]:gt[rt],Z?pt>0?ft[mt]=void 0!==ft[mt]?ft[mt]+pt:pt:ht[mt]=void 0!==ht[mt]?ht[mt]+pt:pt:(et=void 0!==et?Math.min(et,pt):pt,nt=void 0!==nt?Math.max(nt,pt):pt)}it="ordinal"===i?ct:Z?[Math.min.apply(Math,[0].concat(f(Object.values(ht)))),Math.max.apply(Math,[0].concat(f(Object.values(ft))))]:[et,nt];var _t,xt,vt=[0,st?Q:tt];st&&!n&&vt.reverse();var bt=0,wt=0,Mt=0,At=function(t){return t},St=1;("ordinal"===i||n)&&((xt=kt().domain(J.reduce((function(t,e){return e.datums.length>t.length?e.datums:t}),[]).map((function(t){return t.primary}))).rangeRound(vt,.1).padding(0)).paddingOuter(H).paddingInner(F),bt=xt.bandwidth(),"ordinal"===i&&(wt=bt),Mt=xt.step(),St=(At=kt().paddingInner(F/2).domain(J.filter((function(t){return t.Component===xo})).map((function(t,e){return e}))).rangeRound([0,bt])).bandwidth()),_t="ordinal"===i?xt:ko[i](),"number"==typeof _&&(it[0]=Math.min(it[0],_),it[1]=Math.max(it[1],_)),"number"==typeof defaultMin&&(it[0]=Math.min(it[0],u)),"number"==typeof defaultMax&&(it[1]=Math.max(it[1],c)),_t.domain(it),"ordinal"!==i&&_t.nice(),"number"==typeof d&&_t.domain([d,_t.domain()[1]]),"number"==typeof p&&_t.domain([_t.domain()[0],p]),r&&_t.domain(f(_t.domain()).reverse()),_t.range(vt);var Tt=_t.tickFormat?_t.tickFormat():y.identity,Ct=C?function(t,e){return C(t,e,Tt(t))}:Tt,Et={id:lt,primary:n,type:i,invert:r,position:o,primaryAxisID:a,hardMin:d,hardMax:p,base:_,tickCount:v,minTickCount:w,maxTickCount:k,tickValues:S,tickSizeInner:D,tickSizeOuter:P,tickPadding:I,maxLabelRotation:L,labelRotationStep:z,innerPadding:F,outerPadding:H,showGrid:Y,showTicks:q,show:G,stacked:Z,scale:_t,uniqueVals:ct,vertical:st,RTL:ut,barSize:bt,cursorSize:wt,stepSize:Mt,seriesBandScale:At,seriesBarSize:St,domain:it,range:vt,max:"bottom"===o?-Q:o===Fr?tt:o===zr?Q:-tt,directionMultiplier:o===zr||o===Fr?-1:1,transform:st?y.translateY:y.translateX,ticks:S||_t.ticks?_t.ticks():_t.domain(),format:Ct,spacing:Math.max(D,0)+I};return"ordinal"===i?(Et.gridOffset=-Et.stepSize*F/2,Et.tickOffset=Et.barSize/2,Et.barOffset=0):(Et.tickOffset=0,Et.barOffset=-Et.barSize/2),Et}function So(t){return Ao(t)}var To=["#ff3465","#ff5454","#ff7b3e","#FAA43A","#ffd000","#C8DE2B","#97d114","#34ce70","#3cada4","#14b4d3","#048cd4","#3447f1","#734fe9","#cd82ad","#c63b89"];function Co(t){var n=t.datum,i=t.grouping,r=t.primaryAxis,o=t.secondaryAxis,a=t.formatSecondary,s=t.formatTertiary,u=t.getStyle,c=t.dark,h=t.tooltip;if(!n)return null;var d=s||function(t){return Math.floor(t)<t?Math.round(100*t)/100:t},y=f(n.group).sort((function(t,e){if(!r.stacked&&i===Hr||i===Yr){if(t.primaryCoord>e.primaryCoord)return-1;if(t.primaryCoord<e.primaryCoord)return 1}else if(!o.stacked){if(t.secondaryCoord>e.secondaryCoord)return-1;if(t.secondaryCoord<e.secondaryCoord)return 1}return t.seriesIndex>e.seriesIndex?1:-1}));i===Br&&y.reverse(),o.invert&&y.reverse(),h.invert&&y.reverse();var g=y.length,p=y.findIndex((function(t){return t===n})),m=p>-1?p-5:0;m=Math.max(m,0);var _=p>-1?m+10:g;_=Math.min(_,g),m=Math.max(_-10,0);var x=y.slice(m,_),v=m>0,b=_<g;return e.createElement("div",null,e.createElement("div",{style:{marginBottom:"3px",textAlign:"center"}},i===Hr?e.createElement("strong",null,n.seriesLabel):i===Yr?e.createElement("strong",null,n.secondaryAxis.format(n.secondary)):e.createElement("strong",null,n.primaryAxis.format(n.primary))),e.createElement("table",{style:{whiteSpace:"nowrap"}},e.createElement("tbody",null,v?e.createElement("tr",{style:{opacity:.8}},e.createElement("td",null),e.createElement("td",null,"..."),e.createElement("td",null)):null,x.map((function(t,o){var s=t===n,h=function(t,e){return e||t.secondaryAxis.format||function(t){return Math.floor(t)<t?Math.round(100*t)/100:t}}(t,a);return e.createElement("tr",{key:o,style:{opacity:s?1:.8,fontWeight:s&&"bold"}},e.createElement("td",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginRight:"5px"}},e.createElement("svg",{width:"16",height:"16"},e.createElement("circle",{cx:"8",cy:"8",r:"7",style:l({},u(t),{stroke:c?"black":"white",strokeWidth:s?2:1})}))),i===Hr?e.createElement(e.Fragment,null,e.createElement("td",null,r.format(t.primary),":  "),e.createElement("td",{style:{textAlign:"right"}},h(t.secondary),t.r?" (".concat(d(t.r),")"):null)):i===Yr?e.createElement(e.Fragment,null,e.createElement("td",null,t.seriesLabel,":  "),e.createElement("td",{style:{textAlign:"right"}},r.format(t.primary),t.r?" (".concat(d(t.r),")"):null)):e.createElement(e.Fragment,null,e.createElement("td",null,t.seriesLabel,":  "),e.createElement("td",{style:{textAlign:"right"}},h(t.secondary),t.r?" (".concat(d(t.r),")"):null)))})),b?e.createElement("tr",{style:{opacity:.8}},e.createElement("td",null),e.createElement("td",null,"..."),e.createElement("td",null)):null,o&&o.stacked&&n.group.length>1?e.createElement("tr",null,e.createElement("td",{style:{paddingTop:"5px"}},e.createElement("div",{style:{width:"12px",height:"12px",backgroundColor:c?"rgba(0, 26, 39, 0.3)":"rgba(255,255,255,.2)",borderRadius:"50px"}})),e.createElement("td",{style:{paddingTop:"5px"}},"Total:  "),e.createElement("td",{style:{paddingTop:"5px"}},o.format(f(n.group).reverse()[0].totalValue))):null)))}var Eo={render:function(t){var n=t.formattedValue;return e.createElement("span",null,n)},snap:!0,showLine:!0,showLabel:!0,axisID:void 0,onChange:function(){}},Do={getDatums:function(t){return Array.isArray(t)?t:t.datums||t.data},getLabel:function(t,e){return t.label||"Series ".concat(e+1)},getSeriesID:function(t,e){return e},getPrimary:function(t){return Array.isArray(t)?t[0]:t.primary||t.x},getSecondary:function(t){return Array.isArray(t)?t[1]:t.secondary||t.y},getR:function(t){return Array.isArray(t)?t[2]:t.radius||t.r},getPrimaryAxisID:function(t){return t.primaryAxisID},getSecondaryAxisID:function(t){return t.secondaryAxisID},getSeriesStyle:function(){return{}},getDatumStyle:function(){return{}},getSeriesOrder:function(t){return t},onHover:function(){},grouping:Br,focus:"auto",showVoronoi:!1};function No(t){var n=t.data,i=t.grouping,r=t.focus,o=t.showVoronoi,a=t.dark,u=t.series,g=t.axes,p=t.primaryCursor,m=t.secondaryCursor,_=t.tooltip,x=t.brush,v=t.renderSVG,b=t.getDatums,w=t.getLabel,M=t.getSeriesID,C=t.getPrimary,E=t.getSecondary,D=t.getR,N=t.getPrimaryAxisID,P=t.getSecondaryAxisID,O=t.getSeriesStyle,I=t.getDatumStyle,R=t.onClick,L=t.onFocus,V=t.onHover,z=t.getSeriesOrder,U=c(t,["data","grouping","focus","showVoronoi","dark","series","axes","primaryCursor","secondaryCursor","tooltip","brush","renderSVG","getDatums","getLabel","getSeriesID","getPrimary","getSecondary","getR","getPrimaryAxisID","getSecondaryAxisID","getSeriesStyle","getDatumStyle","onClick","onFocus","onHover","getSeriesOrder"]),F=h(e.useState({focused:null,element:null,axisDimensions:{},padding:{},offset:{},pointer:{}}),2),j=F[0],H=j.focused,B=j.element,Y=j.axisDimensions,W=j.offset,q=j.padding,X=j.pointer,G=F[1],K=A(R),Z=A(L),$=A(V),J=e.useRef(),Q=k(J),tt=Q.width,et=Q.height,nt=function(t){var n=t.data,i=t.getSeriesID,r=t.getLabel,o=t.getPrimaryAxisID,a=t.getSecondaryAxisID,s=t.getDatums,u=t.getPrimary,l=t.getSecondary,c=t.getR;return e.useMemo((function(){for(var t=[],e=0;e<n.length;e++){for(var h=n[e],f=i(h,e,n),d=r(h,e,n),y=o(h,e,n),g=a(h,e,n),p=s(h,e,n),m=[],_=0;_<p.length;_++){var x=p[_];m[_]={originalSeries:h,seriesIndex:e,seriesID:f,seriesLabel:d,index:_,originalDatum:x,primary:u(x,_,h,e,n),secondary:l(x,_,h,e,n),r:c(x,_,h,e,n)}}t[e]={originalSeries:h,index:e,id:f,label:d,primaryAxisID:y,secondaryAxisID:g,datums:m}}return t}),[n,s,r,u,o,c,l,a,i])}({data:n,getSeriesID:M=e.useCallback(y.normalizeGetter(M),[M]),getLabel:w=e.useCallback(y.normalizeGetter(w),[w]),getPrimaryAxisID:N=e.useCallback(y.normalizeGetter(N),[N]),getSecondaryAxisID:P=e.useCallback(y.normalizeGetter(P),[P]),getDatums:b=e.useCallback(y.normalizeGetter(b),[b]),getPrimary:C=e.useCallback(y.normalizeGetter(C),[C]),getSecondary:E=e.useCallback(y.normalizeGetter(E),[E]),getR:D=e.useCallback(y.normalizeGetter(D),[D])}),it=function(t){var n=t.materializedData,i=t.series;return e.useMemo((function(){return n.map((function(t,e){var n=l({},Mo,{},"function"==typeof i?i(t,e):i),r=n.type,o=c(n,["type"]),a=wo[r];if(!a)throw new Error("Could not find a registered series type for ".concat(r));return l({},o,{type:r,renderer:a})}))}),[n,i])}({materializedData:nt,series:u});nt=function(t){var n=t.materializedData,i=t.seriesOptions;return e.useMemo((function(){return n.map((function(t,e){return t.Component=i[e].renderer,t})).map((function(t,e,n){var i=n.filter((function(n,i){return i<e&&n.Component===t.Component})).length;return l({},t,{seriesTypeIndex:i,datums:t.datums.map((function(t){return l({},t,{seriesTypeIndex:i})}))})}))}),[n,i])}({materializedData:nt,seriesOptions:it});var rt=function(t){var n=t.width,i=t.height,r=t.axisDimensions,o=t.padding,a=t.offset;a=e.useMemo((function(){return{left:a.left||0,top:a.top||0}}),[a]);var s=e.useMemo((function(){var t=r.left&&y.sumObjBy(r.left,"width")||0,e=r.left&&y.sumObjBy(r.left,"top")||0,a=r.left&&y.sumObjBy(r.left,"bottom")||0,s=r.right&&y.sumObjBy(r.right,"width")||0,u=r.right&&y.sumObjBy(r.right,"top")||0,l=r.right&&y.sumObjBy(r.right,"bottom")||0,c=r.top&&y.sumObjBy(r.top,"height")||0,h=r.top&&y.sumObjBy(r.top,"left")||0,f=r.top&&y.sumObjBy(r.top,"right")||0,d=r.bottom&&y.sumObjBy(r.bottom,"height")||0,g=r.bottom&&y.sumObjBy(r.bottom,"left")||0,p=r.bottom&&y.sumObjBy(r.bottom,"right")||0,m=o.left||0,_=o.right||0,x=o.top||0,v=o.bottom||0;return{gridX:m+Math.max(t,h,g),gridY:x+Math.max(c,e,u),gridWidth:n-m-_-Math.max(t,h,g)-Math.max(s,f,p),gridHeight:i-x-v-Math.max(c,e,u)-Math.max(d,a,l)}}),[n,i,r,o]),u=s.gridX,l=s.gridY,c=s.gridWidth,h=s.gridHeight;return{offset:a,gridX:u,gridY:l,gridWidth:c,gridHeight:h}}({width:tt,height:et,axisDimensions:Y,padding:q,offset:W}),ot=rt.offset,at=rt.gridX,st=rt.gridY,ut=rt.gridWidth,lt=rt.gridHeight,ct=function(t){var n=t.axes,i=t.materializedData,r=t.gridHeight,o=t.gridWidth,a=t.axisDimensions,s=n.filter((function(t){return t.primary})),u=n.filter((function(t){return!t.primary})),l=JSON.stringify(s),c=JSON.stringify(u),h=e.useMemo((function(){return s.map((function(t,e){return So({axis:t,materializedData:i,gridWidth:o,gridHeight:r,axisDimensions:a})}))}),[l,i,r,o]),f=e.useMemo((function(){return u.map((function(t,e){return So({axis:t,primaryAxes:h,materializedData:i,gridWidth:o,gridHeight:r,axisDimensions:a})}))}),[c,i,r,o]),d=h.find((function(t){return t.vertical}))?"secondary":"primary",y=h.find((function(t){return t.vertical}))?"primary":"secondary",g=h.find((function(t){return t.vertical}))?f:h,p=h.find((function(t){return t.vertical}))?h:f;return{primaryAxes:h,secondaryAxes:f,xKey:d,yKey:y,xAxes:g,yAxes:p}}({axes:g,materializedData:nt,gridHeight:lt,gridWidth:ut,axisDimensions:Y}),ht=ct.primaryAxes,ft=ct.secondaryAxes,dt=ct.xKey,yt=ct.yKey,gt=ct.xAxes,pt=ct.yAxes,mt=function(t){var n=t.materializedData,i=t.primaryAxes,r=t.secondaryAxes,o=t.yAxes,a=t.yKey,s=t.xAxes,u=t.xKey,c=t.grouping;return e.useMemo((function(){if(!i.length||!r.length)throw new Error("A primary and secondary axis is required!");var t=r.map((function(){return{}}));n.forEach((function(e){var n=y.getAxisIndexByAxisID(r,e.secondaryAxisID);e.datums.forEach((function(e){t[n][e.primary]={negative:0,positive:0}}))}));var e=n.map((function(e){var n=y.getAxisIndexByAxisID(i,e.primaryAxisID),o=i[n],s=y.getAxisIndexByAxisID(r,e.secondaryAxisID),c=r[s];return l({},e,{primaryAxis:o,secondaryAxis:c,datums:e.datums.map((function(e){var n=l({},e,{primaryAxis:o,secondaryAxis:c,xValue:e[u],yValue:e[a],baseValue:0});if(c.stacked){var i=t[s][e.primary];if(o.vertical){var r=y.isValidPoint(n.xValue),h=n.xValue>=0?"positive":"negative";n.baseValue=i[h],n.totalValue=n.baseValue+(r?n.xValue:0),t[s][e.primary][h]=n.totalValue,n.xValue=r?n.totalValue:null}else{var f=y.isValidPoint(n.yValue),d=n.yValue>=0?"positive":"negative";n.baseValue=i[d],n.totalValue=n.baseValue+(f?n.yValue:0),t[s][e.primary][d]=n.totalValue,n.yValue=f?n.totalValue:null}}return n}))})}));if(e.forEach((function(t){t.datums.forEach((function(e){e.series=t}))})),e.forEach((function(t,e){if(!t.Component.plotDatum)throw new Error("Could not find a [SeriesType].plotDatum() static method for the series Component above (index: ".concat(e,")"));var n=y.getAxisIndexByAxisID(i,t.primaryAxisID),l=y.getAxisIndexByAxisID(r,t.secondaryAxisID),c=i[n],h=r[l],f=y.getAxisIndexByAxisID(s,t["".concat(u,"AxisID")]),d=y.getAxisIndexByAxisID(o,t["".concat(a,"AxisID")]),g=s[f],p=o[d];t.datums=t.datums.map((function(e){return t.Component.plotDatum(e,{primaryAxis:c,secondaryAxis:h,xAxis:g,yAxis:p})||e}))})),[jr,Hr].includes(c))for(var h=0;h<e.length;h++)for(var f=e[h],d=0;d<f.datums.length;d++){var g=f.datums[d];g.group=c===Hr?g.series.datums:[g]}else if([Br,Yr].includes(c)){for(var p={},m=0;m<e.length;m++)for(var _=e[m],x=0;x<_.datums.length;x++){var v=_.datums[x];if(v.defined){var b=String(c===Br?v.primary:v.secondary);p[b]=p[b]||[],p[b].push(v)}}for(var w=0;w<e.length;w++)for(var M=e[w],k=0;k<M.datums.length;k++){var A=M.datums[k],S=String(c===Br?A.primary:A.secondary);A.group=p[S]}}return e=e.map((function(t,e){if(!t.Component.buildStyles)throw new Error("Could not find a SeriesType.buildStyles() static method for the series Component above (index: ".concat(e,")"));return t.Component.buildStyles(t,{defaultColors:To})||t}))}),[i,r,n,c,u,a,s,o])}({materializedData:nt,primaryAxes:ht,secondaryAxes:ft,yAxes:pt,yKey:yt,xAxes:gt,xKey:dt,grouping:i});X=e.useMemo((function(){return l({},X,{axisValues:[].concat(f(ht),f(ft)).map((function(t){return{axis:t,value:t.scale.invert?t.scale.invert(X[t.vertical?"y":"x"]):null}}))})}),[X,ht,ft]);var _t=S(H=e.useMemo((function(){if(H||B){var t=r;if("auto"===r&&(t=B?"element":"closest"),"element"===t&&B)return B;if("closest"===t)return y.getClosestPoint(X,H.group)}return null}),[B,r,H,X]),H);_=function(t){var n=t.focused,i=t.tooltip,r=t.pointer,o=t.gridWidth,a=t.gridHeight;return e.useMemo((function(){if(!i)return null;i=l({align:"auto",alignPriority:["right","topRight","bottomRight","left","topLeft","bottomLeft","top","bottom"],padding:5,tooltipArrowPadding:7,anchor:"closest",render:Co,onChange:function(){}},i);var t={},e=!0;if(n?t=n.anchor:e=!1,"pointer"===i.anchor)t=r;else if("closest"===i.anchor);else if(n){var s=Array.isArray(i.anchor)?f(i.anchor):[i.anchor];t=y.getMultiAnchor({anchor:s,points:n.group,gridWidth:o,gridHeight:a})}return t=t?l({horizontalPadding:t.horizontalPadding||0,verticalPadding:t.verticalPadding||0},t):t,l({},i,{anchor:t,show:e})}),[n,a,o,r,i])}({focused:H,tooltip:_,pointer:X,gridWidth:ut,gridHeight:lt});var xt=h(function(t){var n=t.primaryCursor,i=t.secondaryCursor,r=t.primaryAxes,o=t.secondaryAxes,a=t.focused,s=t.pointer,u=t.gridWidth,c=t.gridHeight,h=t.stackData;return[n,i].map((function(t,n){var i=t&&t.value;return e.useMemo((function(){if(t){var e,i=0===n;t=l({},Eo,{},t,{primary:i});var h=!1,f=y.getAxisByAxisID(i?r:o,t.axisID||a?a.series[i?"primaryAxisID":"secondaryAxisID"]:void 0),d=i?o[0]:r[0],g=f.scale.invert||function(t){return t};if(s.active){var p=s.x,m=s.y;h=!(p<-1||p>u+1||m<-1||m>c+1),"ordinal"===f.type||t.snap?a?e=f.vertical?a.yValue:a.xValue:h=!1:e=f.vertical?g(m):g(p)}else h=!1;var _=h,x=e;return void 0!==t.value&&null!==t.value&&(x=t.value,_=void 0===t.show||t.show,void 0===f.scale(x)&&(_=!1)),l({},t,{axis:f,siblingAxis:d,show:h,value:e,resolvedShow:_,resolvedValue:x})}}),[h,s,i])}))}({primaryCursor:p,secondaryCursor:m,primaryAxes:ht,secondaryAxes:ft,focused:H,pointer:X,gridWidth:ut,gridHeight:lt,stackData:mt}),2);p=xt[0],m=xt[1],e.useEffect((function(){Z.current&&Z.current(H)}),[Z,H]),e.useEffect((function(){$.current&&$.current(X)}),[$,X]);var vt=T(X.dragging);e.useEffect((function(){if(x&&vt&&!X.dragging){if(Math.abs(X.sourceX-X.x)<20)return;x.onSelect({pointer:X.released,start:ht[0].scale.invert(X.sourceX),end:ht[0].scale.invert(X.x)})}}),[x,X,X.released,X.sourceX,X.x,vt,ht]);var bt=e.useCallback((function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return l({color:t.originalSeries.color},O.apply(void 0,[t].concat(n)))}),[O]),wt=e.useMemo((function(){return{focused:H,latestFocused:_t,pointer:X,tooltip:_,axisDimensions:Y,offset:ot,padding:q,width:tt,height:et,brush:x,grouping:i,showVoronoi:o,materializedData:nt,stackData:mt,primaryAxes:ht,secondaryAxes:ft,primaryCursor:p,secondaryCursor:m,gridX:at,gridY:st,gridWidth:ut,gridHeight:lt,dark:a,renderSVG:v,xKey:dt,yKey:yt,xAxes:gt,yAxes:pt,onClickRef:K,getSeriesStyle:bt,getDatumStyle:I,seriesOptions:it,getSeriesOrder:z}}),[Y,x,a,H,I,z,bt,lt,ut,at,st,i,et,_t,nt,ot,K,q,X,ht,p,v,ft,m,it,o,mt,_,tt,gt,dt,pt,yt]),Mt=e.useMemo((function(){return[wt,G]}),[wt,G]);return e.createElement(d.Provider,{value:Mt},e.createElement(to,s({ref:J},U,{onClick:function(t){K.current&&K.current(H)}})))}No.defaultProps=Do,t.Chart=No,t.alignAuto="auto",t.alignBottom="bottom",t.alignBottomLeft="bottomLeft",t.alignBottomRight="bottomRight",t.alignLeft="left",t.alignRight="right",t.alignTop="top",t.alignTopLeft="topLeft",t.alignTopRight="topRight",t.anchorBottom="bottom",t.anchorCenter="center",t.anchorClosest="closest",t.anchorGridBottom="gridBottom",t.anchorGridLeft="gridLeft",t.anchorGridRight="gridRight",t.anchorGridTop="gridTop",t.anchorLeft="left",t.anchorPointer="pointer",t.anchorRight="right",t.anchorTop="top",t.axisTypeLinear="linear",t.axisTypeLog="log",t.axisTypeOrdinal="ordinal",t.axisTypeTime="time",t.axisTypeUtc="utc",t.curveBasis=function(t){return new $i(t)},t.curveBasisClosed=function(t){return new Ji(t)},t.curveBasisOpen=function(t){return new Qi(t)},t.curveBundle=er,t.curveCardinal=rr,t.curveCardinalClosed=ar,t.curveCardinalOpen=ur,t.curveCatmullRom=hr,t.curveCatmullRomClosed=dr,t.curveCatmullRomOpen=gr,t.curveLinear=Wi,t.curveLinearClosed=function(t){return new pr(t)},t.curveMonotoneX=kr,t.curveMonotoneY=function(t){return new wr(t)},t.curveNatural=function(t){return new Ar(t)},t.curveStep=function(t){return new Tr(t,.5)},t.curveStepAfter=function(t){return new Tr(t,1)},t.curveStepBefore=function(t){return new Tr(t,0)},t.focusAuto="auto",t.focusClosest="closest",t.focusElement="element",t.groupingPrimary=Br,t.groupingSecondary=Yr,t.groupingSeries=Hr,t.groupingSingle=jr,t.positionBottom="bottom",t.positionLeft=Fr,t.positionRight=Ur,t.positionTop=zr,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=react-charts.production.min.js.map
